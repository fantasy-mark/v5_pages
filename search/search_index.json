{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>\u4e2a\u4eba\u6587\u6863</p> <p>\u5728\u7ebf Markdown \u7f16\u8f91\u5668</p>"},{"location":"#todo","title":"TODO","text":"<ul> <li> \u751f\u6d3b\u60c5\u666f\u82f1\u8bed\u7cfb\u5217 (5/39) Sinece 2023/8/2</li> <li> \u5355\u8bcd\u65a9 CET4 \u8bcd\u6c47\uff08502/739\uff09</li> <li> \u674e\u6c90\u7cbe\u8bfb\u8bba\u6587\uff0813 / 53\uff09</li> <li> \u6570\u5b66\u4e4b\u7f8e\uff0834/ 34\uff092023/7/26 Done</li> </ul> <p>\u5e38\u7528\u73af\u5883\u914d\u7f6e</p> <p>\u5e38\u7528shell\u547d\u4ee4</p>"},{"location":"#_1","title":"\u5173\u4e8e\u5b66\u4e60","text":"<ol> <li> <p>\u5b66\u4e60\u91cd\u70b9</p> <ul> <li>\u8ba1\u7b97\u673a\u539f\u7406\u3001\u6570\u636e\u7ed3\u6784\u3001\u7b97\u6cd5\u539f\u7406\u3001\u67b6\u6784\u8bbe\u8ba1\u3001\u64cd\u4f5c\u7cfb\u7edf</li> </ul> </li> <li> <p>\u5b66\u4e60\u65b9\u6cd5\uff08\u8d39\u66fc\u5b66\u4e60\u6cd5\uff09</p> <ul> <li>\u5b66\u660e\u767d\uff0c\u5f53\u5b66\u4e60\u4e00\u4e2a\u77e5\u8bc6\u70b9\uff0c\u9700\u8981\u62c6\u5206\u5176\u80cc\u540e\u5305\u542b\u54ea\u4e9b\u539f\u7406</li> <li>\u60f3\u660e\u767d\uff0c\u5bf9\u4e8e\u672a\u63a5\u89e6\u7684\u539f\u7406\uff0c\u9700\u8981\u7406\u89e3\u900f\u5f7b</li> <li>\u8bf4\u660e\u767d\uff0c\u7528\u81ea\u5df1\u7684\u7406\u89e3\u6765\u9610\u8ff0\u8fd9\u4e2a\u77e5\u8bc6\u70b9</li> </ul> </li> <li> <p>\u62bd\u8c61\u63d0\u70bc</p> <ul> <li>\u5b66\u4f1a\u63d0\u70bc\u6982\u5ff5\uff0c\u4ee5\u66f4\u9ad8\u7ef4\u5ea6\u601d\u8003\u95ee\u9898\uff0c\u6bd4\u5982 <code>Wx = b</code> \uff0cW \u53ef\u7406\u89e3\u4e3a <code>\u7ebf\u6027\u53d8\u6362</code>\uff0c\u4e5f\u53ef\u4ee5\u7406\u89e3 x \u4e3a <code>\u4ee3\u6570\u8fd0\u7b97\uff08\u70b9\u79ef\uff09</code></li> </ul> </li> </ol>"},{"location":"#_2","title":"\u5de5\u4f5c\u3001\u751f\u6d3b\u603b\u7ed3","text":""},{"location":"#2023","title":"2023","text":"<ul> <li>7\u6708</li> <li>\u4ee3\u7801\u7edf\u8ba1\u91cd\u6784\uff08vue\u548cpeewee\uff09</li> <li>\u770b\u5b8c\u300a\u6570\u5b66\u4e4b\u7f8e\u300b</li> <li> <p>\u5339\u914d\u6a21\u677f\uff08gensim TF-IDF\uff09</p> </li> <li> <p>6\u6708</p> </li> <li>docker\u90e8\u7f72\u4ee3\u7801\u7edf\u8ba1</li> <li>git action\u90e8\u7f72docs</li> <li>3\u6708\u4efd\u5bbf\u820d\u51b2\u7a81\u53cd\u7701\u6539\u5584\u62a5\u544a</li> <li>\u5236\u5b9aFA\u8f85\u52a9\u9879\u76ee\u8ba1\u5212</li> <li>\u6700\u8fd1\u5f00\u59cb\u6bcf\u5468\u53bb\u8e22\u7403</li> </ul> <p>\u4e0d\u8db3\uff1a\u6ca1\u6709\u575a\u6301\u82f1\u8bed\u5355\u8bcd</p> <ul> <li>5\u6708</li> <li>\u5b9e\u73b0\u4e86\u4ee3\u7801\u7edf\u8ba1\uff08\u524d\u7aef\u5c55\u793a\uff09</li> <li>Editor.md + flask \u5728\u7ebf\u6587\u6863\u7ba1\u7406</li> <li> <p>AI\u9879\u76ee\u8ddf\u8fdb\uff0cit\u3001\u90d1\u5ddeAI\u90e8\u95e8\u4f1a\u8bae\u8fbe\u6210\u5206\u5de5\u5408\u4f5c\u5b9e\u73b0\uff0c\u5305\u62ec\u63a8\u8fdb\u6570\u636e\u83b7\u53d6</p> </li> <li> <p>4\u6708</p> </li> <li>\u5b66\u4e60\u6c90\u795e\u7684\u300a\u52a8\u624b\u5b66\u6df1\u5ea6\u5b66\u4e60\u300bB\u7ad9 Wiki\uff0cHuggingface\u9884\u8bad\u7ec3\u6a21\u578b\u4f7f\u7528\uff0c\u4ee5\u53caPytorch</li> <li>\u77e5\u8bc6\u56fe\u8c31\u6574\u4f53\u601d\u8def\u68b3\u7406</li> <li>\u97f3\u89c6\u9891fmpeg\u5b66\u4e60</li> </ul> <p>\u4e0d\u8db3\uff1a\u601d\u60f3\u677e\u61c8   1. \u6ca1\u5236\u5b9a\u8ba1\u5212\uff0c\u60f0\u6027\u4f7f\u7136\uff0c\u4e0d\u77e5\u6240\u4ece   2. \u4e60\u60ef\u7684\u529b\u91cf\uff0c\u65e9\u4e0a\u534a\u5c0f\u65f6\u65b0\u6280\u672f\u548c\u65b0\u95fb\uff0c\u665a\u4e0a\u534a\u5c0f\u65f6\u82f1\u8bed\u542c\u8bf4\u3001\u8bfb\u5199</p> <p>TODO\uff1a   1. \u5236\u5b9a\u8ba1\u5212\u8868   2. \u5236\u5b9a\u4e60\u60ef\u8868</p> <ul> <li>3\u6708</li> <li>\u5e2e\u5fd9\u6536\u5c3eunity3d\u865a\u62df\u770b\u677f\u9879\u76ee\uff0c\u5c1d\u8bd5\u4f7f\u7528\u7ebf\u7a0b\u3001\u7f13\u5b58\u65b9\u5f0f\u4f18\u5316\u5207\u6362\u56fe\u7247\u5361\u987f\u95ee\u9898\uff0c\u6700\u7ec8\u4f7f\u7528RawImage\u4ee3\u66ffImage\u89e3\u51b3\u4e86\u95ee\u9898\uff0c\u5927\u90e8\u5206\u4ee3\u7801\u90fd\u91cd\u6784\u4e86</li> <li>\u5b66\u4e60NG\u524d\u7f6e\u77e5\u8bc6\uff0c\u300a\u81ea\u7136\u8bed\u8a00\u5904\u7406\u5165\u95e8\u300b\u3001\u7528python\u505a\u6df1\u5ea6\u5b66\u4e60\uff08\u6570\u5b66\u57fa\u7840\uff09</li> <li>\u8865\u5145\uff1a\u5bbf\u820d\u51b2\u7a81\u5904\u7406\uff0c\u6d6a\u8d39\u4e86\u8fd9\u4e2a\u6708\u5f88\u591a\u65f6\u95f4\u5904\u7406\uff0c\u603b\u7ed3\u4e0b\uff1a1.\u53ca\u65f6\u6c47\u62a5\u4e3b\u7ba1 2.\u53d1\u751f\u51b2\u7a81\u7acb\u523b\u79bb\u5f00\u907f\u514d\u4e8c\u6b21\u51b2\u7a81</li> </ul>"},{"location":"AI/Gensim/","title":"Gensim","text":""},{"location":"AI/Gensim/#_1","title":"\u6982\u8ff0","text":"<ul> <li>Gensim\u7684\u540d\u5b57\u6e90\u81ea\u4e8e\"Generate Similar,\" \u8fd9\u4e2a\u8bcd\u662f\u6307Gensim\u53ef\u4ee5\u7528\u4e8e\u751f\u6210\u7c7b\u4f3c\u7684\u6587\u672c</li> <li>\u63d0\u4f9b\u4e86\u5f88\u591a\u7528\u4e8e\u6587\u672c\u5904\u7406\u7684\u5de5\u5177\uff0c\u5305\u62ec\u8bed\u6599\u5e93\u5904\u7406\u3001\u4e3b\u9898\u5efa\u6a21\u3001\u6587\u672c\u76f8\u4f3c\u5ea6\u8ba1\u7b97\u7b49</li> <li>\u5b9e\u73b0\u4e86\u8bb8\u591a\u6d41\u884c\u7684\u6587\u672c\u8868\u793a\u5b66\u4e60\u7b97\u6cd5\uff0c\u5982Word2Vec\u3001FastText\u7b49</li> </ul>"},{"location":"AI/Gensim/#_2","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>Corpus: Corpus\u662fGensim\u4e2d\u7528\u4e8e\u5b58\u50a8\u6587\u672c\u8bed\u6599\u5e93\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6587\u6863\u7684\u96c6\u5408</li> <li>Model: Model\u662fGensim\u4e2d\u7684\u57fa\u7c7b\uff0c\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e9b\u901a\u7528\u7684\u6a21\u578b\u65b9\u6cd5</li> <li>Algm: Word2Vec\u3001FastText\u662fGensim\u4e2d\u7528\u4e8e\u6587\u672c\u8868\u793a\u5b66\u4e60\u7684\u4e00\u79cd\u7b97\u6cd5</li> </ul>"},{"location":"AI/Gensim/#_3","title":"\u4ee3\u7801\u9605\u8bfb\u3001\u8c03\u8bd5","text":"<ul> <li>Dictionary\uff1acorpora.Dictionary(sentences_token)</li> </ul> <p>@ token2id\uff1a\u6839\u636e\u6587\u6863\u751f\u6210\u7684 {token: id} \u5b57\u5178</p> <p></p> <ul> <li>Corpus\uff1a[dictionary.doc2bow(text) for text in sentences_token]</li> </ul> <p>@ doc2bow\uff1a\u7edf\u8ba1\u5728\u6bcf\u4e2a\u6587\u7ae0\u4e2d\u6bcf\u4e2atoken\u5bf9\u5e94\u7684 (id, times)\uff0c\u6b64\u5904times\u4e3a\u5f53\u524dtoken\u5728\u5f53\u524d\u6587\u7ae0\u51fa\u73b0\u6b21\u6570</p> <pre><code># def doc2bow(self, document, allow_update=False, return_missing=False):\nfor w in document:\ncounter[w if isinstance(w, str) else str(w, 'utf-8')] += 1\nresult = {token2id[w]: freq for w, freq in counter.items() if w in token2id}\n</code></pre> <p></p> <ul> <li>Model\uff08tf-idf\uff09\uff1amodels.TfidfModel(corpus)</li> </ul> <p>@ dfs\uff1a\u6839\u636ecorpus\u7edf\u8ba1token\u5728\u591a\u5c11\u6587\u7ae0\u51fa\u73b0\u8fc7\uff08\u6ce8\u610f\uff1a\u4e0d\u662ftoken\u5728\u6587\u7ae0\u51fa\u73b0\u8fc7\u7684\u6b21\u6570\uff09</p> <pre><code>for docno, bow in enumerate(corpus):\nif docno % 10000 == 0:\nlogger.info(\"PROGRESS: processing document #%i\", docno)\nnumnnz += len(bow)\nfor termid, _ in bow:\ndfs[termid] = dfs.get(termid, 0) + 1    # \u6ce8\u610f\uff1a\u4e0d\u662ftoken\u5728\u6587\u7ae0\u51fa\u73b0\u8fc7\u7684\u6b21\u6570\n</code></pre> <p>\u200b       @ idfs\uff1a\u6839\u636ecorpus\u7edf\u8ba1\u6bcf\u4e2atoken\u7684\u8bcd\u9891\u6743\u91cd\u751f\u6210 idfs\uff0c\u8ba1\u7b97\u53e5\u5b50\u52a0\u6743\u6c42\u548c\u5404token\u7684idfs\u5373\u53ef\u8861\u91cf\u76f8\u5173\u6027</p> <p></p>"},{"location":"AI/Gensim/#_4","title":"\u4f7f\u7528","text":"<p>\u9879\u76ee\u6e90\u7801</p> <p>\u6587\u6863</p>"},{"location":"AI/Gensim/#word2vec","title":"word2vec\u8bad\u7ec3\u3001\u9884\u6d4b","text":"<p>\u6e90\u7801\u3001\u8bb2\u89e3</p> <ul> <li> \u624b\u5199\u7ec3\u4e60</li> </ul>"},{"location":"AI/Gensim/#gensim","title":"Gensim\u8bad\u7ec3\u3001\u9884\u6d4b","text":"<ul> <li> \u624b\u5199\u7ec3\u4e60</li> </ul> <pre><code>from gensim import corpora, models, similarities\nclass TF_IDF:\ndef __init__(self):\nself.model = None               # \u6a21\u578b,\u7528\u4e8e\u6839\u636e\u8bed\u6599\u83b7\u53d6\u5bf9\u5e94\u5355\u8bcd\u7684IDF\nself.corpus = []                # \u8bed\u6599,\u6bcf\u7bc7\u6587\u6863\u5bf9\u5e94\u7684\u5411\u91cf\nself.dictionary = None          # \u5b57\u5178,\u5355\u8bcd\u4e0e\u7f16\u53f7\u4e4b\u95f4\u7684\u6620\u5c04\ndef build(self, sentences_token):\n\"\"\"\n        0000 = {list: 3} ['tcTPsstcPOST', 'tLTEbB34c36275tpMXstcPRAD', ...]\n        0001 = {list: 2} ['Special', 'checkin']\n        \u6839\u636e\u5904\u7406\u540e\u6587\u6863\u4fe1\u606f\u521d\u59cb\u5316\u5b57\u5178\u3001\u8bed\u6599\u3001\u6a21\u578b\n        :param sentences_token: \u4e8c\u7ef4\u6570\u7ec4, \u6bcf\u884c\u4ee3\u8868\u5bf9\u5e94\u4e00\u4e2a\u6587\u6863\u7684\u5355\u8bcd\u5217\u8868\n        \"\"\"\nself.dictionary = corpora.Dictionary(sentences_token)\nself.corpus = [self.dictionary.doc2bow(text) for text in sentences_token]\nself.model = models.TfidfModel(self.corpus)\nreturn self\ndef save(self):\n\"\"\"\n        \u7f13\u5b58\u6a21\u578b\u3001\u5b57\u5178\u3001\u8bed\u6599\u6570\u636e\n        :return:\n        \"\"\"\nmodels.TfidfModel.save(self.model, 'tfidf')  # \u4fdd\u5b58tfidf\u6a21\u578b\nself.dictionary.save('tfidf.dict')\ncorpora.MmCorpus.serialize('tfidf.corp', self.corpus)\nreturn self\ndef load(self):\nself.model = models.TfidfModel.load('tfidf')\nself.dictionary = corpora.Dictionary.load('tfidf.dict')\nself.corpus = corpora.MmCorpus('tfidf.corp')\nreturn self\ndef similar(self, sentences):\n# \u5c06\u6574\u4e2a\u8bed\u6599\u5e93\u8f6c\u4e3atfidf\u8868\u793a\u65b9\u6cd5\ncorpus_tfidf = self.model[self.corpus]\nindex = similarities.MatrixSimilarity(corpus_tfidf) # \u5173\u8054\u77e9\u9635,\u6587\u7ae0\u6570*\u5355\u8bcd\u6570\nnew_vecs = [self.dictionary.doc2bow(doc.split()) for doc in sentences]\nnew_vec_tfidf_ls = [self.model[new_vec] for new_vec in new_vecs]  # \u5c06\u8981\u6bd4\u8f83\u6587\u6863\u8f6c\u6362\u4e3atfidf\u8868\u793a\u65b9\u6cd5\ndictionary = self.corpus.Dictionary()\n# documents = [self.dictionary.doc2bow(doc) for doc in self.corpus]\nreturn [index[new_vec_tfidf] for new_vec_tfidf in new_vec_tfidf_ls]\n</code></pre>"},{"location":"AI/huggingface/","title":"huggingface","text":"<ul> <li>\u8bed\u97f3\u8bc6\u522b</li> <li>Bert\u5fae\u8c03\u95ee\u7b54<ul> <li>\u4e0b\u8f7d\u9884\u8bad\u7ec3\u6a21\u578b</li> <li>\u8bad\u7ec3\u5fae\u8c03\u6a21\u578b</li> <li>\u52a0\u8f7d\u5fae\u8c03\u540e\u6a21\u578b\u548c\u53c2\u6570\u6587\u4ef6</li> </ul> </li> <li>kaggle</li> </ul>"},{"location":"AI/huggingface/#_1","title":"\u8bed\u97f3\u8bc6\u522b","text":"<pre><code>import librosa\nimport torch\nfrom transformers import Wav2Vec2ForCTC, Wav2Vec2Tokenizer\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n#load pre-trained model and tokenizer\ntokenizer = Wav2Vec2Tokenizer.from_pretrained(\"jonatasgrosman/wav2vec2-large-xlsr-53-chinese-zh-cn\")\nmodel = Wav2Vec2ForCTC.from_pretrained(\"jonatasgrosman/wav2vec2-large-xlsr-53-chinese-zh-cn\")\n# \u63d0\u53d6\u97f3\u9891, \u65f6\u95f4\u4e0d\u8981\u592a\u957f\u5426\u5219\u5185\u5b58\u4f1a\u7206\n# .\\ffmpeg.exe -i .\\input.mp4 -ss 00:01:00 -to 00:02:00 -vn -c copy output3.wav\naudio_file = f\"files/output3.wav\"\n#load audio file\naudio, sampling_rate = librosa.load(audio_file, sr=16_000)\ninput_values = tokenizer(audio, return_tensors='pt').input_values\n# store logits (non-normalized predictions)\nlogits = model(input_values).logits\n# store predicted id's\n# pass the logit values to softmax to get the predicted values\npredicted_ids = torch.argmax(logits, dim=-1)\n# pass the prediction to the tokenzer decode to get the transcription\ntranscriptions = tokenizer.decode(predicted_ids[-1])\nprint(transcriptions)\n</code></pre>"},{"location":"AI/huggingface/#bert","title":"Bert\u5fae\u8c03\u95ee\u7b54","text":"<p>\ud83e\udd17 Transformers: State-of-the-art Machine Learning for Pytorch, TensorFlow, and JAX.</p>"},{"location":"AI/huggingface/#_2","title":"\u4e0b\u8f7d\u9884\u8bad\u7ec3\u6a21\u578b","text":"<ol> <li>\u6253\u5f00 Huggingface\u6a21\u578b\u4ed3\u5e93</li> <li>\u641c\u7d22\u9009\u62e9\u67d0\u4e2a\u6a21\u578b\uff0c\u5982 bert-base-uncased</li> <li>\u70b9\u9009  File and versions \u4e0b\u8f7d\u5bf9\u5e94\u6587\u4ef6</li> </ol>"},{"location":"AI/huggingface/#_3","title":"\u8bad\u7ec3\u5fae\u8c03\u6a21\u578b","text":"<ol> <li>\u6570\u636e\u9884\u5904\u7406\uff0c\u63d0\u53d6\u8bad\u7ec3\u6570\u636e\u7279\u5f81\uff0c\u8fd9\u6b65Huggingface\u5df2\u7ecf\u5e2e\u6211\u4eec\u505a\u597d\u4e86\uff0c\u8c03\u7528API\u5c31\u597d\u4e86</li> </ol> <p>\u8fd9\u91cc\u5173\u6ce8 <code>SquadExample</code> \\ <code>SquadFeatures</code> \\ <code>SquadResult</code></p> <ul> <li> <p>SquadExample \u662f\u6570\u636e\u96c6\u7ecf\u8fc7\u5904\u7406\u540e\u63d0\u53d6\u51fa\u7684example\uff0c\u4f7f\u7528id\u8fdb\u884c\u7d22\u5f15\uff0c\u6bcf\u4e2aexample\u90fd\u5305\u62ecpassage\u3001question\u3001answer\u7b49\u5c5e\u6027\uff0c\u4f46\u662fpassage\u3001question\u3001answer\u8fd9\u4e9b\u5c5e\u6027\u662f\u7528\u5b57\u7b26\u4e32\u683c\u5f0f\u4fdd\u5b58\u7684\uff0c\u8f93\u5165\u5230\u6a21\u578b\u4e2d\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u53d8\u6362\uff0c</p> </li> <li> <p>SquadFeatures \u5219\u662f\u80fd\u591f\u76f4\u63a5\u8f93\u5165\u5230\u6a21\u578b\u4e2d\u7684instance\u3002\u5728\u4e24\u8005\u4e4b\u95f4\u5b9a\u4e49\u4e86\u4e00\u4e2a\u51fd\u6570squad_convert_example_to_features \u4ece SquadExample \u5230 SquadFeatures \u7684\u8f6c\u6362\u3002</p> <p>\u8fd9\u91ccfeatures\u5e76\u975e\u6a21\u578b\u7684\u53c2\u6570 teatures  !!! \u53ef\u4ee5\u7406\u89e3\u4e3a\u7b26\u5408\u6a21\u578b\u8f93\u5165\u7684\u5b9e\u4f8b\u683c\u5f0f\u3002</p> </li> <li> <p>SquadResult \u5219\u662f\u6a21\u578b\u7684\u9884\u6d4b\u7ed3\u679c\u3002</p> </li> </ul> <pre><code>import pickle\nfrom transformers.data.processors.squad import SquadV2Processor, squad_convert_examples_to_features\nfrom transformers import BertTokenizer\nif __name__ == '__main__':\n# \u521d\u59cb\u5316SQuAD Processor, \u6570\u636e\u96c6, \u548c\u5206\u8bcd\u5668\nprocessor = SquadV2Processor()\ntrain_examples = processor.get_train_examples('SQuAD')\n# \u8fd9\u91cc\u4e5f\u53ef\u4ee5\u7528\u4e0b\u8f7d\u7684\u6a21\u578b\u6587\u4ef6\u6587\u4ef6\uff0c\u586b\u5199\u6a21\u578b\u6587\u4ef6\u5939\u8def\u5f84\u5c31\u597d\u4e86\ntokenizer = BertTokenizer.from_pretrained('bert-base-uncased')\n# \u5c06SQuAD 2.0\u793a\u4f8b\u8f6c\u6362\u4e3aBERT\u8f93\u5165\u7279\u5f81\ntrain_features = squad_convert_examples_to_features(\nexamples=train_examples,\ntokenizer=tokenizer,\nmax_seq_length=384,\ndoc_stride=128,\nmax_query_length=64,\nis_training=True,\nreturn_dataset=False,\nthreads=1\n)\n# \u5c06\u7279\u5f81\u4fdd\u5b58\u5230\u78c1\u76d8\u4e0a\nwith open('train_features.pkl', 'wb') as f:\npickle.dump(train_features, f)\n</code></pre> <p>\u5e38\u89c1\u8fde\u63a5\u5c42\uff0c\u53c2</p> <ul> <li>Linear : \u7ebf\u6027\u5168\u8fde\u63a5\u5c42</li> <li>Embedding \uff1a Embedding\u5c42\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u628a\u8f93\u5165\u7684\u6bcf\u4e2a\u7279\u5f81\u90fd\u8f6c\u6362\u4e3a\u4f4e\u7ef4\u5411\u91cf\uff0c30522\u662f\u8bcd\u8868\u5927\u5c0f\uff0c512\u662f\u4f4d\u7f6e\u5411\u91cf\u5927\u5c0f\uff0c2\u662f\u53e5\u5b50\u5411\u91cf\u5927\u5c0f\uff0c\u5728config.json\u4e2d\u5b9a\u4e49\u4e86</li> <li>LayerNorm \uff1a \u505a\u5f52\u4e00\u5316\u64cd\u4f5c\uff0c\u52a0\u5feb\u6a21\u578b\u6536\u655b</li> <li>Dropout \uff1a \u4e3b\u8981\u662f\u4e3a\u4e86\u9632\u6b62\u6a21\u578b\u8fc7\u62df\u5408\uff0c\u901a\u8fc7\u5ffd\u7565\u4e00\u534a\u6570\u91cf\u7684\u7279\u5f81\u68c0\u6d4b\u5668\uff08\u8ba9\u4e00\u534a\u7684\u9690\u5c42\u8282\u70b9\u503c\u4e3a0\uff09\uff0c\u51cf\u5c11\u7279\u5f81\u68c0\u6d4b\u5668\uff08\u9690\u5c42\u8282\u70b9\uff09\u95f4\u7684\u76f8\u4e92\u4f5c\u7528</li> </ul> <pre><code>BertForQuestionAnswering(\n(bert): BertModel(\n(embeddings): BertEmbeddings(\n(word_embeddings): Embedding(30522, 768, padding_idx=0)\n(position_embeddings): Embedding(512, 768)\n(token_type_embeddings): Embedding(2, 768)\n(LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n(dropout): Dropout(p=0.1, inplace=False)\n)\n(encoder): BertEncoder(\n(layer): ModuleList(\n(0-11): 12 x BertLayer(\n(attention): BertAttention(\n(self): BertSelfAttention(\n(query): Linear(in_features=768, out_features=768, bias=True)\n(key): Linear(in_features=768, out_features=768, bias=True)\n(value): Linear(in_features=768, out_features=768, bias=True)\n(dropout): Dropout(p=0.1, inplace=False)\n)\n(output): BertSelfOutput(\n(dense): Linear(in_features=768, out_features=768, bias=True)\n(LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n(dropout): Dropout(p=0.1, inplace=False)\n)\n)\n(intermediate): BertIntermediate(\n(dense): Linear(in_features=768, out_features=3072, bias=True)\n(intermediate_act_fn): GELUActivation()\n)\n(output): BertOutput(\n(dense): Linear(in_features=3072, out_features=768, bias=True)\n(LayerNorm): LayerNorm((768,), eps=1e-12, elementwise_affine=True)\n(dropout): Dropout(p=0.1, inplace=False)\n)\n)\n)\n)\n)\n(qa_outputs): Linear(in_features=768, out_features=2, bias=True)\n)\n</code></pre> <ol> <li>\u5229\u7528\u683c\u5f0f\u5316\u597d\u7684\u6d4b\u8bd5\u6570\u636e\u96c6\uff0c\u8bad\u7ec3\u6a21\u578b\u83b7\u5f97\u5bf9\u5e94\u7684weight\u548cbias\u4fdd\u5b58\u4e3a\u6587\u4ef6</li> </ol> <pre><code>import torch\nfrom transformers import BertForQuestionAnswering, AdamW\nfrom torch.utils.data import DataLoader, RandomSampler, TensorDataset\n# \u52a0\u8f7dSQuAD 2.0\u6570\u636e\u96c6\u7684\u7279\u5f81\nimport pickle\nif __name__ == '__main__':\nwith open('train_features.pkl', 'rb') as f:\ntrain_features = pickle.load(f)\n# \u662f\u5426\u6709GPU\ndevice = torch.device('cuda' if torch.cuda.is_available() else 'cpu')\n# \u5b9a\u4e49\u8bad\u7ec3\u53c2\u6570\ntrain_batch_size = 8\nnum_epochs = 3\nlearning_rate = 3e-5\n# \u5c06\u7279\u5f81\u8f6c\u6362\u4e3aPyTorch\u5f20\u91cf\nall_input_ids = torch.tensor([f.input_ids for f in train_features], dtype=torch.long)\nall_attention_mask = torch.tensor([f.attention_mask for f in train_features], dtype=torch.long)\nall_token_type_ids = torch.tensor([f.token_type_ids for f in train_features], dtype=torch.long)\nall_start_positions = torch.tensor([f.start_position for f in train_features], dtype=torch.long)\nall_end_positions = torch.tensor([f.end_position for f in train_features], dtype=torch.long)\ntrain_dataset = TensorDataset(all_input_ids, all_attention_mask, all_token_type_ids, all_start_positions, all_end_positions)\nnum_samples = 100\ntrain_dataset = TensorDataset(\nall_input_ids[:num_samples],\nall_attention_mask[:num_samples],\nall_token_type_ids[:num_samples],\nall_start_positions[:num_samples],\nall_end_positions[:num_samples])\ntrain_sampler = RandomSampler(train_dataset)\ntrain_dataloader = DataLoader(train_dataset, sampler=train_sampler, batch_size=train_batch_size)\n# \u52a0\u8f7dBERT\u6a21\u578b\u548c\u4f18\u5316\u5668\nmodel = BertForQuestionAnswering.from_pretrained('bert-base-uncased').to(device)\noptimizer = AdamW(model.parameters(), lr=5e-5)\n# \u5fae\u8c03BERT\nfor epoch in range(num_epochs):\nfor step, batch in enumerate(train_dataloader):\nmodel.train()\noptimizer.zero_grad()\ninput_ids, attention_mask, token_type_ids, start_positions, end_positions = tuple(t.to(device) for t in batch)\noutputs = model(input_ids=input_ids,\nattention_mask=attention_mask,\ntoken_type_ids=token_type_ids,\nstart_positions=start_positions,\nend_positions=end_positions)\nloss = outputs.loss\nloss.backward()\noptimizer.step()\n# Print the training loss every 500 steps\nif step % 5 == 0:\nprint(f\"Epoch [{epoch+1}/{num_epochs}], Step [{step+1}/{len(train_dataloader)}], Loss: {loss.item():.4f}\")\n# \u4fdd\u5b58\u5fae\u8c03\u540e\u7684\u6a21\u578b\nmodel.save_pretrained(\"SQuAD_finetune_bert\")\n</code></pre>"},{"location":"AI/huggingface/#_4","title":"\u52a0\u8f7d\u5fae\u8c03\u540e\u6a21\u578b\u548c\u53c2\u6570\u6587\u4ef6","text":"<p>\u53c2\u8003</p> <pre><code>import torch\n# \u662f\u5426\u6709GPU\nfrom transformers import BertForQuestionAnswering, BertTokenizer\nif __name__ == '__main__':\ndevice = torch.device('cuda' if torch.cuda.is_available() else 'cpu')\nmodel_path = r\"SQuAD_finetuned_bert\"\nmodel = BertForQuestionAnswering.from_pretrained(model_path)\ntokenizer = BertTokenizer.from_pretrained(model_path)\nquestion, text = \"national treasure of China?\", \"The giant panda is known as a national treasure of china.\"\ninputs = tokenizer.encode_plus(question, text, add_special_tokens=True, return_tensors=\"pt\")\nwith torch.no_grad():\noutputs = model(**inputs.to(device))\nanswer_start_index = torch.argmax(outputs.start_logits)\nanswer_end_index = torch.argmax(outputs.end_logits) + 1\npredict_answer_tokens = inputs['input_ids'][0][answer_start_index:answer_end_index]\npredicted_answer = tokenizer.decode(predict_answer_tokens)\nprint(question + \" \", predicted_answer)\n</code></pre>"},{"location":"AI/huggingface/#kaggle","title":"kaggle","text":"<p>kaggle\u662f\u4e00\u4e2a\u5728\u7ebfpynb</p> <pre><code># \u4e0d\u5bfc\u5165\u4f1a\u4ea7\u751f\u7684\u95ee\u9898\u53c2\u8003\uff1ahttps://blog.csdn.net/qq_43374681/article/details/115469240\nimport os\nos.environ[\"KMP_DUPLICATE_LIB_OK\"]=\"TRUE\"\n# Matplotlib\u662fPython\u7684\u4e00\u4e2a\u7ed8\u56fe\u5e93\uff0c\u662fPython\u4e2d\u6700\u5e38\u7528\u7684\u53ef\u89c6\u5316\u5de5\u5177\u4e4b\u4e00\n%matplotlib inline\nimport torch\n# torch.nn\u662f\u4e3a\u795e\u7ecf\u7f51\u7edc\u8bbe\u8ba1\u7684\u6a21\u5757\u5316\u63a5\u53e3\u3002\u6784\u5efa\u4e8eautograd\u4e4b\u4e0a\uff0c\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u548c\u8fd0\u884c\u795e\u7ecf\u7f51\u7edc\u3002\nimport torch.nn as nn\n# NumPy\u662fPython\u8bed\u8a00\u7684\u4e00\u4e2a\u6269\u5145\u7a0b\u5e8f\u5e93\u3002\u652f\u6301\u9ad8\u7ea7\u5927\u91cf\u7684\u7ef4\u5ea6\u6570\u7ec4\u4e0e\u77e9\u9635\u8fd0\u7b97\uff0c\u6b64\u5916\u4e5f\u9488\u5bf9#\u6570\u7ec4\u8fd0\u7b97\u63d0\u4f9b\u5927\u91cf\u7684\u6570\u5b66\u51fd\u6570\u5e93\u3002\n# Pandas\u662f\u57fa\u4e8eNumPy \u7684\u4e00\u79cd\u5de5\u5177\uff0c\u8be5\u5de5\u5177\u662f\u4e3a\u4e86\u89e3\u51b3\u6570\u636e\u5206\u6790\u4efb\u52a1\u800c\u521b\u5efa\u7684\u3002Pandas \u7eb3##\u5165\u4e86\u5927\u91cf\u5e93\u548c\u4e00\u4e9b\u6807\u51c6\u7684\u6570\u636e\u6a21\u578b\uff0c\u63d0\u4f9b\u4e86\u9ad8\u6548\u5730\u64cd\u4f5c\u5927\u578b\u6570\u636e\u96c6\u6240\u9700\u7684\u5de5\u5177\u3002Pandas\u63d0#\u4f9b\u4e86\u5927\u91cf\u80fd\u4f7f\u6211\u4eec\u5feb\u901f\u4fbf\u6377\u5730\u5904\u7406\u6570\u636e\u7684\u51fd\u6570\u548c\u65b9\u6cd5\u3002\nimport numpy as np\n</code></pre>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/","title":"\u6570\u5b66\u57fa\u7840","text":"<ul> <li>\u7ebf\u6027\u4ee3\u6570<ul> <li>\u6982\u5ff5</li> <li>\u77e9\u9635</li> <li>\u6700\u5c0f\u4e8c\u4e58\u6cd5:<ul> <li>\u884c\u5217\u5f0f</li> </ul> </li> <li>\u7279\u5f81\u503c\u4e0e\u7279\u5f81\u5411\u91cf<ul> <li>PCA\u4e3b\u6210\u5206\u5206\u6790</li> <li>SVD \u5947\u5f02\u503c\u5206\u89e3<ul> <li>\u524d\u7f6e\u4e00\uff1a\u5bf9\u79f0\u77e9\u9635\u7684\u7279\u5f81\u5411\u91cf\u6b63\u4ea4</li> <li>\u524d\u7f6e\u4e8c\uff1a\u6b63\u4ea4\u77e9\u9635\u7684\u8f6c\u7f6e\u7b49\u4e8e\u5176\u9006</li> </ul> </li> </ul> </li> </ul> </li> <li>\u5fae\u79ef\u5206<ul> <li>\u6c42\u5bfc\u6cd5\u5219</li> </ul> </li> </ul> <p>\u7528Python\u505a\u6df1\u5ea6\u5b66\u4e60\u4e00:\u6570\u5b66\u57fa\u7840</p>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_1","title":"\u7ebf\u6027\u4ee3\u6570","text":""},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_2","title":"\u6982\u5ff5","text":"<ul> <li>\u7ebf\u6027 \u2014\u300b\u7ebf\u6027\u53d8\u6362\uff08\u8fd0\u7b97\uff09</li> <li>\u4ee3\u6570 \u2014\u300b \u6570\u7684\u62bd\u8c61\u8868\u793a \u2014\u300b \u5411\u91cf\u7a7a\u95f4\uff08\u7ebf\u6027\u7a7a\u95f4\uff09</li> <li>\u4e24\u8005\u8054\u7cfb\uff1a\u5411\u91cf\u7a7a\u95f4\u4e4b\u95f4\u6216\u5185\u90e8\u901a\u8fc7\u7ebf\u6027\u53d8\u6362\u5b8c\u6210\u8f6c\u6362</li> <li>\u77e9\u9635\uff1a\u63cf\u8ff0\u5411\u91cf\u7a7a\u95f4\u7684\u5de5\u5177\uff0c\u5982\u4e0b\u56fe\u4e2d\u77e9\u9635A\u8868\u793a\u7531(1, 4)\u548c(2, 5)\u7ec4\u6210\u7684\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762</li> </ul>  A = \\begin{bmatrix} 1 &amp; 2 \\\\ 4 &amp; 5 \\end{bmatrix}  <ul> <li>\u7ebf\u6027\u65e0\u5173\uff1a\u5411\u91cf\u95f4\u6ee1\u8db3 x_2 \\neq ax_1 \\quad (x_1, x_2 \u5747\u4e0d\u4e3a 0) </li> <li>\u57fa\uff1a\u53ef\u4ee5\u8868\u793a N\u7ef4\u5411\u91cf\u7a7a\u95f4 \u7684 N\u4e2a \u7ebf\u6027\u65e0\u5173\u5411\u91cf</li> <li>\u5b50\u7a7a\u95f4\uff1a1. \u7a7a\u95f4\u8fc7\u539f\u70b9  2. \u7a7a\u95f4\u5c5e\u4e8e\u539f\u7a7a\u95f4\u7684\u4e00\u90e8\u5206\uff08\u7ef4\u5ea6\u5c0f\u4e8e\u7b49\u4e8e\u539f\u7a7a\u95f4\u7ef4\u5ea6\uff09</li> </ul>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_3","title":"\u77e9\u9635","text":"<ul> <li> <p>\u77e9\u9635\u4e58\u6cd5: \\quad A_{x \\times y}B_{y \\times z} = C_{x \\times z}\\quad \uff08B\u77e9\u9635\u7684i\u5217\u4e0eA\u77e9\u9635j\u884c\u76f8\u4e58\u7b49\u5230C_{ij}\uff09</p> </li> <li> <p>\u8f6c\u7f6e\uff1a</p> </li> </ul>  \\begin{aligned} &amp; \u82e5 \\\\ &amp; \\quad A_{m \\times n}x_{n \\times 1} = b_{m \\times 1}, \\\\ &amp; \u53c8 \\\\ &amp; \\quad x_{1 \\times m}^{T}A_{m \\times n} = b_{1 \\times n}^T, \\\\ &amp; \u5f53\\ m = n\\ \u65f6, \\\\ &amp; \\quad Ax = (x^TA)^T \\end{aligned}  <ul> <li> <p>\u53ef\u9006\uff1a\u6ee1\u8db31. \u65b9\u9635 2. \u7ebf\u6027\u65e0\u5173\uff0c\u5219\\ Ax=b, \u6709\\ x=A^{-1}b</p> </li> <li> <p>A \\vec x = 0 : \u6709\u552f\u4e00\u89e3\u8868\u793aA\u7ebf\u6027\u65e0\u5173</p> </li> </ul>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_4","title":"\u6700\u5c0f\u4e8c\u4e58\u6cd5:","text":"\\begin{aligned} &amp;\\ C\\ \u5230\\ A\\ \u4e0a\u8ddd\u79bb\u8f6c\u5316\u4e3a\uff1a \u6c42||Ax-C||^2\u6700\u5c0f\u503c \\\\ &amp; \u663e\u7136 \\ C\\ \u4e0d\u5728\\ OA\\ \u4e0a \\\\ &amp; \u6240\u4ee5 \\ A\\widehat{x} = C \\ \u65e0\u89e3\uff0c \\\\ &amp; \u4f46  \\ A^TA\\widehat{x}=A^TC \\ \u53ef\u80fd\u6709\u89e3\uff0c \\\\ &amp; I\\widehat{x}=(A^TA)^{-1}A^TC \\end{aligned} \\tag{$\\widehat{x}=(A^TA)^{-1}A^TC$}  <pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\nA = np.array([[3], [1]])\nC = np.array([[1], [3]])\nB1 = np.linalg.inv(A.T.dot(A))\nB2 = A.T.dot(C)\nB = A*B1*B2\nE = C - B\nprint(B)\nprint(E)\nx = np.linspace(-2, 2, 10) # \u7b49\u5dee\u6570\u5217\nx.shape=(1,10) # \u8f6c\u4e3a1\u884c10\u5217\u7684\u4e8c\u7ef4\u6570\u7ec4\nxx = A.dot(x)  # A\u5728x\u7684\u6295\u5f71\nfig = plt.figure()\nax = fig.add_subplot(111)\nax.plot(xx[0,:],xx[1,:])\nax.plot(A[0],A[1],'ko')\nax.plot([C[0],B[0]],[C[1],B[1]],'r-o')\nax.plot([0,C[0]],[0,C[1]],'m-o')\nax.plot([0,E[0]],[0,E[1]],'k-o')\nmargin=0.1\nax.text(A[0]+margin, A[1]+margin, r\"A\",fontsize=20)\nax.text(C[0]+margin, C[1]+margin, r\"C\",fontsize=20)\nax.text(B[0]+margin, B[1]+margin, r\"B\",fontsize=20)\nax.text(E[0]+margin, E[1]+margin, r\"E\",fontsize=20)\nax.axis('equal')\nplt.show()\n</code></pre> <ul> <li>\u6700\u5c0f\u4e8c\u4e58\u6cd5\u7684\u7269\u7406\u610f\u4e49</li> </ul>  \u82e5 Ax = b \\rightarrow \\begin{bmatrix} x_1 &amp; 1 \\\\ x_2 &amp; 1 \\\\ \\cdots &amp; \\cdots \\\\ x_4 &amp; 1 \\end{bmatrix} \\begin{bmatrix} a \\\\ b \\end{bmatrix} = \\begin{bmatrix} y_1 \\\\ y_2 \\\\ \\cdots \\\\ y_4 \\end{bmatrix} \\\\ \u53ef\u80fd\u5b58\u5728 \\widehat{x}=(A^TA)^{-1}A^TC  <p>\u8868\u793a \\quad \\vec{b}\\quad  \u5728  A  \u7684\u5b50\u7a7a\u95f4\u7684\u6295\u5f71\\quad  \\widehat{x}\\quad  \uff0c\u7279\u5f81\u5411\u91cf\u5728\u6837\u672c\u5b50\u7a7a\u95f4\u7684\u6295\u5f71</p>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_5","title":"\u884c\u5217\u5f0f","text":"<ol> <li>\u6982\u5ff5    $$    \u82e5\\quad A =    \\begin{bmatrix}    a &amp; b    \\end{bmatrix}    =    \\begin{bmatrix}    x_a &amp; x_b \\    y_a &amp; y_b    \\end{bmatrix}    $$</li> </ol> <p>\u7269\u7406\u610f\u4e49:\u884c\u5217\u5f0f\u53ef\u4ee5\u770b\u505a\u662f\u6709\u5411\u9762\u79ef\u6216\u4f53\u79ef\u7684\u6982\u5ff5\u5728\u6b27\u51e0\u91cc\u5f97\u7a7a\u95f4\u4e2d\u7684\u63a8\u5e7f</p>  \\begin{aligned} \u63a8\u5bfc:\\left\\| a \\right\\| \\left\\| b \\right\\| \\sin{\\theta} &amp;=\\left\\| a \\right\\| \\left\\| b \\right\\| \\sin(\\theta_b - \\theta_a) \\\\ &amp;=\\left\\| a \\right\\| \\left\\| b \\right\\| (\\sin\\theta_b \\cos\\theta_a - \\cos\\theta_b \\sin\\theta_a) \\\\ &amp;=x_a y_b - x_b y_a \\end{aligned}  <p>\u5373 \\quad det|A| =x_a y_b - y_a x_b</p> <ol> <li>\u5224\u65ad\u7ebf\u6027\u76f8\u5173 det|A| = 0 \uff0c\u5219\u5217\u5411\u91cf\u7ebf\u6027\u76f8\u5173</li> </ol>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_6","title":"\u7279\u5f81\u503c\u4e0e\u7279\u5f81\u5411\u91cf","text":"\\begin{aligned} \u5982\u679c\u5b58\u5728 \\quad Ax &amp;= \\lambda x  \\\\ (A - \\lambda I)x &amp;= 0 \\\\ Bx &amp;= 0 \\\\ \u5373B\u662f\u7ebf\u6027\u76f8\u5173\u7684\uff0c&amp;\\ x\\ \u79f0\u4e3a\u7279\u5f81\u5411\u91cf\uff0c\\ \\lambda \\ \u79f0\u4e3a\u7279\u5f81\u503c \\end{aligned} \\tag{1}   \u53ea\u8981 \\quad det\\left \\| B \\right \\| = 0 \\tag{2} \\\\"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#pca","title":"PCA\u4e3b\u6210\u5206\u5206\u6790","text":"<p>\u7531\u7279\u5f81\u6839\u5206\u89e3(A\u662f\u65b9\u9635)\uff0c\u53ef\u4ee5\u63a8\u5bfc\u51fa\u4ee5\u4e0b\u5f0f\u5b50\uff1a</p>  Ax = \\lambda x \\\\ A \\begin{bmatrix} x_1 &amp; x_2 \\end{bmatrix} = \\begin{bmatrix} \\lambda x_1 &amp; \\lambda x_2 \\end{bmatrix} \\\\ A \\begin{bmatrix} x_1 &amp; x_2 \\end{bmatrix} = \\begin{bmatrix} x_1 &amp; x_2 \\end{bmatrix} \\begin{bmatrix} \\lambda_1 &amp; 0 \\\\ 0 &amp; \\lambda_2 \\end{bmatrix} \\\\   AS = S \\Lambda \\quad (S = \\begin{bmatrix} x_1 &amp; x_2 \\end{bmatrix}) \\tag{3}  <p>\u7531\uff083\uff09\u6709 $$ A=S \\Lambda S^{-1}\\tag{4} $$</p>  \\Lambda = S^{-1}AS\\tag{5}   A * AS = A * S\\Lambda = AS * \\Lambda \\\\ \u518d \u4ee3\u5165\uff083\uff09 \\rightarrow A^2S = S \\Lambda^{2} \\\\ \u63a8\u5e7f\uff1a A^nS = S \\Lambda^{n}  <p>\u5f53\\Lambda\u4e2d\u67d0\u4e2a\\lambda_i\u5206\u91cf\u6bd4\u5176\u4ed6\u5206\u91cf\u5927\uff0c n\u8d8a\u5927\\lambda_i\u5bf9\u7ed3\u679c\u7684\u5f71\u54cd\u8d8a\u5927\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7528\u6700\u5927\u7684\u51e0\u4e2a\\lambda\u6765\u505a\u964d\u7ef4\u64cd\u4f5c</p>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#svd","title":"SVD \u5947\u5f02\u503c\u5206\u89e3","text":""},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_7","title":"\u524d\u7f6e\u4e00\uff1a\u5bf9\u79f0\u77e9\u9635\u7684\u7279\u5f81\u5411\u91cf\u6b63\u4ea4","text":"<p>\u5bf9\u79f0\u77e9\u9635\u7684\u4e00\u4e2a\u91cd\u8981\u6027\u8d28\u662f\u5b83\u7684\u7279\u5f81\u5411\u91cf\u53ef\u4ee5\u6b63\u4ea4\u5bf9\u89d2\u5316\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u79f0\u77e9\u9635\u80fd\u627e\u5230\u4e00\u7ec4\u6b63\u4ea4\u7279\u5f81\u5411\u91cf\u3002</p> <p>\u8bc1\u660e\u5982\u4e0b\uff1a</p> <p>\u6211\u4eec\u8bbe A \u4e3a\u5bf9\u79f0\u77e9\u9635\uff0cv_1 \u548c v_2 \u662f A \u7684\u4e24\u4e2a\u7279\u5f81\u5411\u91cf\uff0c\u5bf9\u5e94\u7684\u7279\u5f81\u503c\u5206\u522b\u4e3a \\lambda_1 \u548c \\lambda_2\u3002\u56e0\u4e3a A \u662f\u5bf9\u79f0\u77e9\u9635\uff0c\u6240\u4ee5\u6709 Av_1 = \\lambda_1v_1 \u548c Av_2 = \\lambda_2v_2\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u8981\u8bc1\u660e\u7684\u662f v_1 \u548c v_2 \u6b63\u4ea4\uff0c\u5373 v_1^T v_2 = 0\u3002</p> <p>\u6211\u4eec\u5c06 v_1 \u4ee3\u5165\u7b2c\u4e8c\u4e2a\u5f0f\u5b50\uff0c\u5f97\u5230\uff1a</p>  v_1^T Av_2 = v_1^T \\lambda_2v_2 = \\lambda_2 v_1^T v_2  <p>\u540c\u7406\uff0c\u5c06 v_2 \u4ee3\u5165\u7b2c\u4e00\u4e2a\u5f0f\u5b50\uff0c\u5f97\u5230\uff1a</p>  v_2^T Av_1 = v_2^T \\lambda_1v_1 = \\lambda_1 v_2^T v_1  <p>\u56e0\u4e3a A \u662f\u5bf9\u79f0\u77e9\u9635\uff0c\u6240\u4ee5\u6709 v_1^T Av_2 = v_2^T Av_1\uff0c\u4e8e\u662f\u53ef\u4ee5\u5f97\u5230\uff1a</p>  \\lambda_2 v_1^T v_2 = \\lambda_1 v_2^T v_1  <p>\u79fb\u9879\u5f97\u5230\uff1a</p>  (\\lambda_2 - \\lambda_1) v_1^T v_2 = 0  <p>\u56e0\u4e3a \\lambda_2 \\neq \\lambda_1\uff0c\u6240\u4ee5\u53ef\u4ee5\u5f97\u5230 v_1^T v_2 = 0\uff0c\u5373 v_1 \u548c v_2 \u662f\u6b63\u4ea4\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u79f0\u77e9\u9635\u7684\u7279\u5f81\u5411\u91cf\u80fd\u591f\u88ab\u6b63\u4ea4\u5bf9\u89d2\u5316\u3002</p> <p>\u4e0b\u4e00\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 Gram-Schmidt \u6b63\u4ea4\u5316\u65b9\u6cd5\uff0c\u5c06\u7ebf\u6027\u65e0\u5173\u7684\u7279\u5f81\u5411\u91cf\u6574\u7406\u6210\u4e00\u7ec4\u6b63\u4ea4\u7684\u7279\u5f81\u5411\u91cf\uff0c\u8fd9\u5c31\u662f\u5bf9\u79f0\u77e9\u9635\u7684\u6b63\u4ea4\u7279\u5f81\u5411\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5bf9\u79f0\u77e9\u9635\uff0c\u6211\u4eec\u80fd\u591f\u627e\u5230\u4e00\u7ec4\u6b63\u4ea4\u7279\u5f81\u5411\u91cf\uff0c\u8fd9\u4e9b\u7279\u5f81\u5411\u91cf\u53ef\u4ee5\u5c06\u77e9\u9635\u8fdb\u884c\u6b63\u4ea4\u5bf9\u89d2\u5316\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u4e2a\u5bf9\u89d2\u77e9\u9635\uff0c\u5bf9\u89d2\u7ebf\u4e0a\u7684\u5143\u7d20\u5c31\u662f\u77e9\u9635\u7684\u7279\u5f81\u503c\u3002</p>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_8","title":"\u524d\u7f6e\u4e8c\uff1a\u6b63\u4ea4\u77e9\u9635\u7684\u8f6c\u7f6e\u7b49\u4e8e\u5176\u9006","text":"<p>\u9006\u77e9\u9635\uff1a\u5982\u679c\u5411\u91cf\u88abA\u77e9\u9635\u53d8\u6362\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7B\u77e9\u9635\u8fd8\u539f\uff0c\u5219B\u662fA\u7684\u9006\u77e9\u9635\u3002</p> <p>\u6b63\u4ea4\u77e9\u9635\u8868\u793a\u7684\u662f\u4e00\u7ec4\u6b63\u4ea4\u57fa\uff0c\u5982\u679c\u8be5\u77e9\u9635\u662f\u65b9\u9635\uff0c\u5b83\u7684\u6bcf\u884c\uff08\u6216\u6bcf\u5217\uff09\u90fd\u662f\u4e00\u4e2a\u5355\u4f4d\u5411\u91cf\uff0c\u4e14\u8fd9\u4e9b\u5355\u4f4d\u5411\u91cf\u4e24\u4e24\u6b63\u4ea4\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5176\u8f6c\u7f6e\u77e9\u9635\u548c\u9006\u77e9\u9635\u90fd\u6ee1\u8db3: $$ \\begin{aligned} A A^T &amp;= AA^{-1} = I \\end{aligned} $$ \u5176\u4e2d A \u8868\u793a\u6b63\u4ea4\u77e9\u9635\uff0cA^T \u8868\u793a\u77e9\u9635\u7684\u8f6c\u7f6e\uff0cA^{-1} \u8868\u793a\u77e9\u9635\u7684\u9006\u3002\u6839\u636e\u77e9\u9635\u7684\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a $$ A^T = A^{-1} $$ \u8fd9\u5c31\u4ee3\u8868\u6b63\u4ea4\u77e9\u9635\u7684\u9006\u77e9\u9635\u7b49\u4e8e\u5b83\u7684\u8f6c\u7f6e\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6b63\u4ea4\u77e9\u9635 A\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u53d6\u5176\u8f6c\u7f6e\u6765\u6c42\u5b83\u7684\u9006\u77e9\u9635\uff0c\u5373 A^{-1} = A^T\u3002</p> <p>\u8fd9\u4e2a\u7ed3\u8bba\u4ee3\u8868\u4e86\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u6027\u8d28\uff1a\u6b63\u4ea4\u77e9\u9635\u4fdd\u6301\u5411\u91cf\u7684\u957f\u5ea6\u4e0d\u53d8\uff0c\u5e76\u4e14\u4fdd\u6301\u5411\u91cf\u4e4b\u95f4\u7684\u76f8\u5bf9\u89d2\u5ea6\u4e0d\u53d8\u3002\u8fd9\u79cd\u4fdd\u6301\u957f\u5ea6\u548c\u89d2\u5ea6\u4e0d\u53d8\u7684\u6027\u8d28\u5728\u8bb8\u591a\u5e94\u7528\u4e2d\u975e\u5e38\u6709\u7528\uff0c\u4f8b\u5982\u56fe\u50cf\u5904\u7406\u4e2d\u7684\u65cb\u8f6c\u3001\u5e73\u79fb\u548c\u7f29\u653e\u53d8\u6362\uff0c\u7269\u7406\u5b66\u4e2d\u7684\u6b27\u62c9\u89d2\u7b49\u3002</p> <p>\u56e0\u6b64\uff0c\u6b63\u4ea4\u77e9\u9635\u7684\u91cd\u8981\u6027\u8d28\u4e3a\uff1a\u4e00\u4e2a\u77e9\u9635\u662f\u6b63\u4ea4\u77e9\u9635\uff0c\u5f53\u4e14\u4ec5\u5f53\u5176\u5217\u5411\u91cf\u662f\u4e00\u7ec4\u6807\u51c6\u6b63\u4ea4\u5411\u91cf\u7ec4\u6210\u7684\uff0c\u5373\u5217\u5411\u91cf\u4e92\u76f8\u5782\u76f4\u4e14\u957f\u5ea6\u4e3a1\u3002</p>  Ax = b \\tag{1}   \u8bbe\u6709\u77e9\u9635A, \u5176\u5bf9\u5355\u4f4d\u6b63\u4ea4\u57fa\\vec{v}_1,\\vec{v}_2\u8fdb\u884c\u7ebf\u6027\u53d8\u6362, \\\\ \u5f97\u5230\u7684\u5411\u91cf\u4ecd\u7136\u662f\u5f7c\u6b64\u6b63\u4ea4, \u5373 \\\\ A\\vec{v}_1,A\\vec{v}_2\u4ecd\u7136\u662f\u6b63\u4ea4\u7684. \u8bbeA\\vec{v}_1,A\\vec{v}_2\u65b9\u5411\u4e0a\u7684\u5355\u4f4d\u5411\u91cf\u662f\\vec{u}_1,\\vec{u}_2,\\\\ \u957f\u5ea6\u662f\\sigma_1,\\sigma_2 ,\u5219\u6211\u4eec\u53ef\u5f97   A\\vec{v_1} = \\sigma_1 \\vec{u_1} \\tag{2}   A\\vec{v_2} = \\sigma_2 \\vec{u_2} \\tag{3}  <p>\u73b0\u5728\u5229\u7528\u77e9\u9635 A \u5bf9\u5411\u91cf \\vec{x} \u8fdb\u884c\u7ebf\u6027\u53d8\u6362. \u6211\u4eec\u5148\u5c06\u5411\u91cf  \\vec{x} \u5728\u5355\u4f4d\u6b63\u4ea4\u57fa \\vec{v}_1, \\vec{v}_2 \u4e0a\u8fdb\u884c\u8868\u793a, \u5373</p>  \\begin{aligned} \\vec{x} =\\vec{x}I &amp;=\\begin{bmatrix} v_1 &amp; v_2  \\end{bmatrix} \\begin{bmatrix} v_1^T \\\\ v_2^T \\end{bmatrix} \\vec{x} \\\\ &amp;=\\begin{bmatrix} v_1 &amp; v_2  \\end{bmatrix} \\begin{bmatrix} v_1^T \\vec{x}\\\\ v_2^T \\vec{x} \\end{bmatrix} \\end{aligned}\\tag{4}  <p>\u7531\uff082\uff09\u3001\uff083\uff09\u3001\uff084\uff09\uff0c\u6211\u4eec\u6709</p>  \\begin{aligned} \\because A\\vec{x}  &amp;=A \\begin{bmatrix} v_1, v_2 \\end{bmatrix} \\begin{bmatrix} v_1^T \\\\ v_2^T \\end{bmatrix} \\vec{x} \\\\ &amp;= \\begin{bmatrix} Av_1, Av_2 \\end{bmatrix} \\begin{bmatrix} v_1^T \\\\ v_2^T \\end{bmatrix} \\vec{x}\uff08\u4ee3\u51652\uff09 \\\\ &amp;= \\begin{bmatrix} \\sigma_1 u_1, \\sigma_2 u_2 \\end{bmatrix} \\begin{bmatrix} v_1^T \\\\ v_2^T \\end{bmatrix} \\vec{x} \\\\ &amp;= \\begin{bmatrix} u_1, u_2 \\end{bmatrix} \\begin{bmatrix} \\sigma_1, 0 \\\\ 0, \\sigma_2  \\end{bmatrix} \\begin{bmatrix} v_1^T \\\\ v_2^T \\end{bmatrix} \\vec{x} \\\\ &amp;= U \\Sigma V^T \\vec{x} \\end{aligned}   \\therefore A=U \\Sigma V^T \\tag{\u5947\u5f02\u503c\u5206\u89e3}  <p>SVD\u63ed\u793a\u4e86\u4e00\u4e2a\u4e8b\u5b9e\uff1a\u5bf9\u4e8e\u4efb\u610f\u7684\u77e9\u9635 , \u6211\u4eec\u603b\u80fd\u627e\u5230\u4e00\u7ec4\u5355\u4f4d\u6b63\u4ea4\u57fa, \u4f7f\u5f97 \u5bf9\u5176\u8fdb\u884c\u53d8\u6362\u4e4b\u540e, \u5f97\u5230\u7684\u5411\u91cf\u7ec4\u4ecd\u7136\u662f\u6b63\u4ea4\u7684.</p>"},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_9","title":"\u5fae\u79ef\u5206","text":""},{"location":"AI/%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/#_10","title":"\u6c42\u5bfc\u6cd5\u5219","text":"<p>\u5f53\u81ea\u53d8\u91cf\u7684\u589e\u91cf\u8d8b\u4e8e\u96f6\u65f6\uff0c\u56e0\u53d8\u91cf\u7684\u589e\u91cf\u4e0e\u81ea\u53d8\u91cf\u7684\u589e\u91cf\u4e4b\u5546\u7684\u6781\u9650\u3002</p> <p>\u53c2\u8003</p> <p>Bilibili 3Blue1Brown \u5fae\u79ef\u5206\u672c\u8d28 - 04 - \u76f4\u89c2\u7406\u89e3\u94fe\u5f0f\u6cd5\u5219\u548c\u4e58\u79ef\u6cd5\u5219</p> <ul> <li>\u52a0\u6cd5\u6cd5\u5219</li> </ul> <p>\u548c\u7684\u5bfc\u6570\u7b49\u4e8e\u5206\u522b\u6c42\u5bfc\u76f8\u52a0 $$ \\frac{d}{dx}(\\sin(x) + x^2) = \\cos{(x)}+2x $$ * \u4e58\u6cd5\u6cd5\u5219 (\u7406\u89e3\u4e3a\u9762\u79ef\u5dee\u5f97\u5230\u7684\u4e24\u4e2a\u7a84\u9762\u79ef)</p> <p>\u5de6\u4e58\u53f3\u5bfc\u52a0\u4e0a\u5de6\u5bfc\u53f3\u4e58 $$ \\frac{d}{dx}(\\sin{(x)} + x^2) = \\sin(x)*2x + x^2 * \\cos(x) $$ * \u94fe\u5f0f\u6cd5\u5219</p>  \\begin{cases} \u82e5\\quad y=f(g(x)) \\\\ \u5219\\quad \\frac{dy}{dx}= \\frac{dy}{dg}\\frac{dg}{dx} \\end{cases}  <p>\u7406\u89e3</p> <p>\u81ea\u53d8\u91cfx\u7684\u53d8\u5316\uff0c\u5bf9\u4e8e\u5185\u5c42\u51fd\u6570\u800c\u8a00\u53ea\u5f71\u54cd\u5176\u5bfc\u6570\uff0c\u5bf9\u4e8e\u5916\u5c42\u51fd\u6570\u800c\u8a00\u4f1a\u5f71\u54cd\u5176\u5185\u5c42\u51fd\u6570\u7684\u7ed3\u679c\u548c\u5bfc\u6570\uff0c\u5176\u4e24\u8005\u4e58\u79ef\u5373\u603b\u7684\u5f71\u54cd $$ \\frac{d}{dx}(\\sin(x^2)) = \\cos(x^2)*2x $$</p> <ul> <li>\u524d\u5411\u4f20\u64ad\uff1a\u901a\u8fc7\u9010\u5c42\u5411\u540e\u8ba1\u7b97\u795e\u7ecf\u5143\u53c2\u6570\uff0c\u76ee\u7684\u662f\u83b7\u5f97\u6700\u7ec8\u5c42\u8f93\u51fa</li> <li>\u540e\u5411\u4f20\u64ad\uff1a\u94fe\u5f0f\u6cd5\u5219\u7684\u8fd0\u7528\uff0c\u901a\u8fc7\u4ece\u6700\u540e\u5c42\u5f00\u59cb\u6c42\u68af\u5ea6\uff0c\u5f97\u5230\u6bcf\u5c42\u5bfc\u6570\uff0c\u76ee\u7684\u662f\u66f4\u65b0\u53c2\u6570</li> </ul> <p>\u7406\u89e3\u53cd\u5411\u4f20\u64ad\u6c42\u5bfc\u6743\u91cd\u77e9\u9635\u9700\u8981\u8f6c\u7f6e</p>  \u5bf9\u4e8e\\quad Y = AX \\\\ \u5b58\u5728\\quad X = A^TY  <p></p>"},{"location":"AI/%E6%9C%AF%E8%AF%AD/","title":"\u672f\u8bed","text":""},{"location":"AI/%E6%9C%AF%E8%AF%AD/#embedding","title":"Embedding","text":"<ul> <li>\u4f5c\u7528</li> <li>\u964d\u7ef4 \u76f8\u6bd4\u4e8eone-hot\u7f16\u7801\uff0c\u901a\u8fc7\u77e9\u9635\u53d8\u5316\uff0c\u89e3\u51b3\u6570\u636e\u7a00\u758f\u95ee\u9898</li> <li>\u5206\u7c7b \u5728\u77e9\u9635\u53d8\u5316\u6620\u5c04\u4e2d\uff0c\u5207\u5206\u7a00\u758f\u7279\u5f81\u3001\u805a\u5408\u7a20\u5bc6\u7279\u5f81</li> <li>\u53ef\u8ba1\u7b97 \u6bcf\u4e2a\u7279\u5f81\u90fd\u662f\u4e00\u4e2a\u5411\u91cf\uff0c\u901a\u8fc7\u8ba1\u7b97\u5411\u91cf\u95f4\u8ddd\u79bb\uff08\u6b63\u5f26\uff09\u5373\u53ef\u83b7\u5f97\u5176\u5173\u8054\u5ea6</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/","title":"\u8bba\u6587\u7cbe\u8bfb","text":"<ul> <li>AlexNet - ImageNet Classification with Deep Convolutional Neural Networks</li> <li>RestNet - Deep Residual Learning for Image Recognition</li> <li>Transformer - Attention is All you Need</li> <li>GNN/GCN - A Gentle Introduction to Graph Neural Networks</li> <li>GAN - Generative Adversarial Networks</li> <li>BERT - Pre-training of Deep Bidirectional Transformers for Language Understanding</li> <li>ViT - An Image is Worth 16x16 Words</li> <li>MAE - Masked Autoencoders Are Scalable Vision Learners</li> <li>MOCO - Momentum Contrast for Unsupervised Visual Representation Learning</li> </ul> <p>\u6709\u9053\u7ffb\u8bd1</p>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#alexnet-imagenet-classification-with-deep-convolutional-neural-networks","title":"AlexNet - ImageNet Classification with Deep Convolutional Neural Networks","text":"<p>B\u7ad9</p> <p>\u8bba\u6587</p> <p>\u7f51\u7edc\u7ed3\u6784\u8be6\u89e3</p> <ul> <li>AlexNet\uff0c\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc</li> <li>Training on Multiple GPUs</li> <li>Dropout\u65b9\u6cd5\u975e\u5e38\u6709\u6548\uff0c\u80fd\u663e\u8457\u63d0\u9ad8\u6a21\u578b\u7684\u6cdb\u5316\u80fd\u529b</li> <li>Depth is important.</li> <li>\u5377\u79ef\u5c42\uff1a\u5377\u79ef\u5c42\u901a\u8fc7\u5bf9\u8f93\u5165\u6570\u636e\u8fdb\u884c\u5377\u79ef\u8fd0\u7b97\u6765\u63d0\u53d6\u7279\u5f81\uff0c\u53ef\u4ee5\u5b66\u4e60\u5230\u8f93\u5165\u6570\u636e\u7684\u5c40\u90e8\u76f8\u5173\u6027\u548c\u5e73\u79fb\u4e0d\u53d8\u6027\u3002</li> <li>\u6c60\u5316\u5c42\uff1a\u6c60\u5316\u5c42\u901a\u8fc7\u5bf9\u8f93\u5165\u6570\u636e\u8fdb\u884c\u4e0b\u91c7\u6837\uff08\u5e73\u5747\u6216\u6700\u5927\u503c\uff09\u6765\u51cf\u5c11\u8ba1\u7b97\u91cf\u5e76\u63d0\u53d6\u66f4\u62bd\u8c61\u7684\u7279\u5f81\u3002</li> <li>\u5168\u8fde\u63a5\u5c42\uff1a\u5168\u8fde\u63a5\u5c42\u5219\u5c06\u524d\u9762\u5c42\u7684\u8f93\u51fa\u8fde\u63a5\u5230\u5206\u7c7b\u5668\uff0c\u4ee5\u8f93\u51fa\u9884\u6d4b\u7ed3\u679c\u3002</li> <li>\u5411\u91cf\u96c6\u5408\uff1a\u8f93\u5165\u56fe\u7247\u5728 CNN \u7684\u5012\u6570\u7b2c\u4e8c\u5c42\u7684\u6570\uff0c\u4f5c\u4e3a\u6bcf\u4e2a\u56fe\u7247\u7684\u8bed\u4e49\u5411\u91cf\uff1bps\uff1a\u4f5c\u8005\u5e76\u6ca1\u6709\u610f\u8bc6\u5230\u6b64\u5173\u952e\u73b0\u8c61</li> </ul> <p></p>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#restnet-deep-residual-learning-for-image-recognition","title":"RestNet - Deep Residual Learning for Image Recognition","text":"<p>B\u7ad9</p> <p>\u8bba\u6587</p> <ul> <li>RestNet\uff0c\u6b8b\u5dee\u7f51\u7edc</li> <li>\u6a21\u578b\u5c42\u6570\u589e\u52a0\u5e26\u6765\u4e86\u8bad\u7ec3\u8bef\u5dee\uff0c\u53c2\u6570\u6d88\u5931\u548c\u53c2\u6570\u7206\u70b8</li> <li>Bottleneck\u8bbe\u8ba1</li> <li>\u975e\u7ebf\u6027\u5c42\u6ee1\u8db3 $F(x, {Wi})  $ \uff0c\u7136\u540e\u4ece\u8f93\u5165\u76f4\u63a5\u5f15\u5165\u4e00\u4e2a\u77ed\u8fde\u63a5\u5230\u975e\u7ebf\u5f62\u5c42\u7684\u8f93\u51fa\u4e0a\uff0c\u4f7f\u5f97\u6574\u4e2a\u6620\u5c04\u53d8\u4e3a $y = F(x, {Wi}) + x $\uff0c\u8fd9\u5c31\u662f\u6b8b\u5dee\u7f51\u7edc\u3002</li> </ul> <p></p> <ul> <li>\u5e26\u77ed\u8fde\u63a5\u7684\u7f51\u7edc\u7684\u62df\u5408\u9ad8\u7ef4\u51fd\u6570\u7684\u80fd\u529b\u6bd4\u666e\u901a\u8fde\u63a5\u7684\u7f51\u7edc\u66f4\u5f3a\uff0c\u68af\u5ea6\u4e0a\u6bd4\u4e0d\u52a0\u6b8b\u5dee\u591a\u4e86\u5bf9x\u7684\u68af\u5ea6</li> <li>\u66f4\u5feb\u7684\u6536\u655b</li> <li>\u52a0\u5165\u9879\u80fd\u907f\u514d\u6c42\u5bfc\u540e\u6574\u4f53\u8d8b\u4e8e0\uff0c\u4e0d\u5bb9\u6613\u51fa\u73b0\u68af\u5ea6\u592a\u5c0f\u800c\u5bfc\u81f4\u68af\u5ea6\u6d88\u5931</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#transformer-attention-is-all-you-need","title":"Transformer - Attention is All you Need","text":"<p>\u8bba\u6587</p> <p></p> <p></p> <ul> <li>encoder-decoder\u67b6\u6784\uff0cBert\u4f7f\u7528\u4e86encoder\uff0cGpt\u5219\u4f7f\u7528\u4e86decode</li> <li>multi-attention:  query\u3001key\u76f8\u4f3c\u5ea6\u662fkey-value\u7684\u6743\u91cd\uff0c\u4e0a\u65b9\u56fe\u5373\u5bf9\u5e94scaled dot-product</li> </ul>  Attention(Q,K,V)=softmax(\\frac{QK^T}{\\sqrt{d_k}})V  <ul> <li>\u5bf9\u6bd4RNN\uff0cTransformer\u5728\u505aAttention\u8fd0\u7b97\uff08\u4e00\u6b21\u8f93\u5165\u6240\u6709\u6570\u636e+\u5d4c\u5165\u4f4d\u7f6e\u4fe1\u606f\uff09\u5df2\u7ecf\u6c47\u805a\u4e86\u5168\u5c40\u7684\u4fe1\u606f\uff1b\u800cRNN\u9700\u8981\u6839\u636e\u65f6\u5e8f\u83b7\u5f97\u5168\u5c40\u4fe1\u606f\uff0c\u4e14\u65e0\u6cd5\u5e76\u884c\u8fd0\u7b97</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#gnngcn-a-gentle-introduction-to-graph-neural-networks","title":"GNN/GCN - A Gentle Introduction to Graph Neural Networks","text":"<p>B\u7ad9</p> <p>\u535a\u5ba2 \u6ca1\u80fd\u8bbf\u95ee\u6210\u529f</p> <ul> <li>\u56fe\u662f\u4ec0\u4e48\uff1a\u4e00\u4e2a\u56fe\u5c31\u4ee3\u8868\u5404\u4e2a\u5b9e\u4f53\u8282\u70b9\uff08node\uff09\u4e4b\u95f4\u7684\u5173\u7cfb\uff08edge\uff09</li> <li>\u56fe\u65e0\u5904\u4e0d\u5728\uff1a\u56fe\u7247\u3001\u6587\u672c\u3001\u5206\u5b50\u3001\u793e\u4ea4\u5173\u7cfb\u7b49\u90fd\u53ef\u4ee5\u8868\u793a\u4e3a\u56fe</li> </ul> <p></p> <ul> <li>\u56fe\u89e3\u51b3\u54ea\u51e0\u7c7b\u95ee\u9898\uff1a\u56fe\u5c42\u9762\u3001\u9876\u70b9\u7ea7\u522b\u3001\u8868\u7ea7\u522b</li> <li>\u56fe\u795e\u7ecf\u7f51\u7edc\u7684\u6311\u6218\uff1a1. \u9ad8\u6548\u5b58\u50a8 2. \u5bf9\u79f0\u6027\u3001\u8fde\u63a5\u4e0d\u53d8\u6027(\u884c\u5217\u4ea4\u6362\u4e0d\u5f71\u54cd)</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#gan-generative-adversarial-networks","title":"GAN - Generative Adversarial Networks","text":"<p>\u8bba\u6587</p> <p>B\u7ad9</p> <ul> <li>\u5bf9\u6297\u6a21\u578b\uff1a\u8bad\u7ec3\u4e24\u4e2a\u6a21\u578b\uff0c\u8fa8\u522b\u6a21\u578bD\uff08\u8b66\u5bdf\uff09\u548c\u751f\u6210\u6a21\u578bG\uff08\u4f2a\u949e\u5236\u4f5c\u8005\uff09\uff0c\u5982\u679c\u535a\u5f08\u4e2d\u65e0\u6cd5\u8fa8\u522b\u771f\u4f2a\u5219\u8bad\u7ec3\u6536\u655b</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#bert-pre-training-of-deep-bidirectional-transformers-for-language-understanding","title":"BERT - Pre-training of Deep Bidirectional Transformers for Language Understanding","text":"<p>\u8bba\u6587</p> <p>B\u7ad9</p> <ul> <li>\u53cc\u5411\u5e26\u63a9\u7801Transformer\uff08\u5b8c\u5f62\u586b\u7a7a\uff09</li> <li>\u9884\u8bad\u7ec3+\u5fae\u8c03</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#vit-an-image-is-worth-16x16-words","title":"ViT - An Image is Worth 16x16 Words","text":"<p>\u8bba\u6587</p> <p>B\u7ad9</p> <ul> <li>\u6211\u4eec\u5c06\u4e00\u5e45\u56fe\u50cf\u5206\u5272\u4e3a\u591a\u4e2apatches\uff0c\u5e76\u5c06\u8fd9\u4e9bpatches\u7684\u7ebf\u6027embeddings\u5e8f\u5217\u4f5c\u4e3aTransformer\u7684\u8f93\u5165</li> <li>\u5927\u4e00\u7edf\u4e86Transformer\u5728CV\u3001NLP\u9886\u57dfSOTA\uff0c\u6253\u7834NLP\u3001CV\u58c1\u5792</li> <li>\u5728\u67d0\u4e9b\u4e0b\u6e38\u4efb\u52a1\u4e0a\u8868\u73b0\u6bd4CNN\u66f4\u597d</li> </ul> <p></p> <ul> <li>\u501f\u9274\u4e86Bert\u6a21\u578b\uff0c\u4f8b\u5982\u6dfb\u52a0\u4e86\u4f4d\u7f6e\u4fe1\u606fPosition Embedding\u8bb0\u5f55\u56fe\u7247\u7684\u76f8\u5bf9\u4f4d\u7f6e</li> <li>\u5728ImageNet-21k\u4ee5\u4e0a\u6570\u636e\u96c6\u6548\u679c\u6bd4\u5377\u79ef\u7f51\u7edc\u6548\u679c\u66f4\u597d\uff0c\u66f4\u52a0\u7ecf\u6d4e\u3002</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#mae-masked-autoencoders-are-scalable-vision-learners","title":"MAE - Masked Autoencoders Are Scalable Vision Learners","text":"<p>\u8bba\u6587</p> <p>B\u7ad9</p> <ul> <li>\u56fe\u50cf\u5207\u6210\u4e0d\u91cd\u53e0\u7684patch\uff0c\u5e76\u968f\u673amask\u6389\u90e8\u5206patch\uff0cmask\u6389\u7684\u5c31\u662f\u56fe\u4e2d\u7070\u8272\u7684patch</li> <li>\u53ef\u89c1\u7684patch\u8f93\u5165\u5230encoder\u4e2d\uff0c\u7ecf\u8fc7\u7f16\u7801\u5f97\u5230\u6bcf\u4e2apatch\u7684\u7279\u5f81</li> <li>\u628amask\u7684patch\u91cd\u65b0\u653e\u56de\u539f\u6765\u7684\u4f4d\u7f6e\uff0c\u8f93\u5165\u5230decoder\u4e2d\u53bb\u8fdb\u884c\u91cd\u6784</li> <li>MAE\u7684encoder\u662f\u4e00\u4e2aViT\uff0c\u4e0d\u540c\u7684\u662f\u53ea\u8f93\u5165\u6ca1\u6709masked\u6389\u7684\u90e8\u5206</li> </ul>"},{"location":"AI/%E8%AE%BA%E6%96%87%E7%B2%BE%E8%AF%BB/#moco-momentum-contrast-for-unsupervised-visual-representation-learning","title":"MOCO - Momentum Contrast for Unsupervised Visual Representation Learning","text":"<p>\u8bba\u6587</p> <ul> <li> <p>\u5bf9\u6bd4\u5b66\u4e60\u7684\u76ee\u7684\uff1a\u81ea\u52a8\u7684\u62c9\u8fd1\u76f8\u4f3c\u6837\u672c\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u589e\u5927\u4e0d\u76f8\u4f3c\u6837\u672c\u4e4b\u95f4\u7684\u8ddd\u79bb</p> </li> <li> <p>\u4f7f\u7528\u5bf9\u6bd4\u5b66\u4e60\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7406\u4efb\u52a1\u975e\u5e38\u7075\u6d3b\u5b9a\u4e49\u6b63\u6837\u672c\uff08\u5982\u540c\u5f20\u56fe\u7247\u4e0d\u540c\u89c6\u89d2\uff09</p> </li> <li>\u52a8\u6001\u5b57\u5178\u7684\u8981\u6c42\uff1a\uff081\uff09key\u6570\u91cf\u8db3\u591f\u591a \uff082\uff09\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0ckey\u8981\u5177\u6709\u4e00\u81f4\u6027\uff0c\u7531\u76f8\u540c\u6216\u8005\u76f8\u4f3c\u7684\u7f16\u7801\u5668\u5f97\u5230\uff0c\u4e0eq\u8fdb\u884c\u67e5\u8be2\u65f6\u624d\u80fd\u4fdd\u6301\u4e00\u81f4\uff08\u5b57\u5178\u4e2d\u7684key\u662f\u968f\u673a\u53d6\u6837\u7684\uff09</li> <li>MoCo\u7684\u4e24\u4e2a\u4eae\u70b9\uff1a \uff081\uff09\u5229\u7528queue\u89e3\u51b3key\u6570\u91cf\u8fc7\u5927\uff0cGPU\u663e\u5b58\u4e0d\u591f\u7684\u95ee\u9898\uff08\u6bcf\u6b21\u53ea\u7528queue\u4e2d\u7684\u4e00\u4e2abatch\u8fdb\u884c\u8bad\u7ec3\uff09 \uff082\uff09\u5f15\u5165momentum encoder\uff0c\u5c06m\u8bbe\u5927\uff0c\u662f\u5176\u66f4\u65b0\u7f13\u6162\uff0c\u4fdd\u8bc1\u4e86key\u7684\u4e00\u81f4\u6027</li> <li>\u607a\u660e\u5927\u795e\u975e\u5e38\u6709\u8fdc\u89c1\u7684\u63d0\u51fa\u4e86\uff1ait is possible to adopt MoCo for pretext tasks like masked auto-encoding\uff0c\u8fd9\u6b63\u662f\u4e24\u5e74\u540eMAE\u7684\u601d\u60f3</li> </ul>"},{"location":"AV/ffmpeg/","title":"ffmpeg","text":"<ul> <li>\u547d\u4ee4</li> <li>ffmpeg5\u7f16\u8bd1</li> <li>\u5173\u952e\u7ed3\u6784\u4f53</li> </ul>"},{"location":"AV/ffmpeg/#_1","title":"\u547d\u4ee4","text":"<p>command line</p> <pre><code># \u63d0\u53d6\u97f3\u9891 vn \u5ffd\u7565\u89c6\u9891\nffmpeg -i input.mp4 -ss 00:01:00 -to 00:02:00 -vn -c -c:a copy output.wav\n# \u6dfb\u52a0\u6c34\u5370\u6ee4\u955c overlay=10:10 \u590d\u6742\u6ee4\u955c \u8986\u76d6,\u5750\u680710,10\nffmpeg -i input.mp4 -i water.png -filter_complex \"overlay=10:10\" out.mp4\n# \u65cb\u8f6c\u6ee4\u955c\nffmpeg -i input.mp4 -vf \"transpose=3\" out.mp4\n# Example: automatic stream selection\n# Out1.mkv \u662f\u4e00\u4e2a Matroska \u5bb9\u5668\u6587\u4ef6\uff0c\u63a5\u53d7\u89c6\u9891\u3001\u97f3\u9891\u548c\u5b57\u5e55\u6d41\uff0c\u56e0\u6b64 ffmpeg \u5c06\u5c1d\u8bd5\u4ece\u6bcf\u79cd\u7c7b\u578b\u4e2d\u9009\u62e9\u4e00\u79cd\u3002\n# \u5bf9\u4e8e\u89c6\u9891\uff0c\u5b83\u5c06\u4ece B.mp4\u4e2d\u9009\u62e9\u6d410\uff0c\u8fd9\u662f\u6240\u6709\u8f93\u5165\u89c6\u9891\u6d41\u4e2d\u5206\u8fa8\u7387\u6700\u9ad8\u7684\u3002\n# \u5bf9\u4e8e\u97f3\u9891\uff0c\u5b83\u5c06\u4ece B.mp4\u4e2d\u9009\u62e9\u6d413\uff0c\u56e0\u4e3a\u5b83\u62e5\u6709\u6700\u591a\u7684\u9891\u9053\u3002\n# \u5bf9\u4e8e\u5b57\u5e55\uff0c\u5b83\u5c06\u4ece B.mp4\u4e2d\u9009\u62e9\u6d412\uff0c\u8fd9\u662f\u4ece A.avi \u548c B.mp4\u4e2d\u9009\u62e9\u7684\u7b2c\u4e00\u4e2a\u5b57\u5e55\u6d41\u3002\nffmpeg -i A.avi -i B.mp4 out1.mkv out2.wav -map 1:a -c:a copy out3.mov\n# B\u7ad9\u7f13\u5b58\u8d44\u6e90\u8f6cmp4\nffmpeg -i audio.m4s -i video.m4s -c copy bilibili.mp4\n</code></pre>"},{"location":"AV/ffmpeg/#ffmpeg5","title":"ffmpeg5\u7f16\u8bd1","text":"<ol> <li> <p>\u4e0b\u8f7d \u6e90\u7801\u5305n5.02</p> </li> <li> <p>\u4e0b\u8f7dndk\uff0c\u9009\u62e9r24\u4e0b\u8f7d</p> </li> <li> <p>\u7f16\u8bd1</p> </li> <li> <p>\u4fee\u6539 <code>build_android.sh</code> \u4e2d <code>NDK_ROOT</code> \u8def\u5f84</p> </li> </ol> <pre><code>#!/bin/bash\n# \u7528\u4e8e\u7f16\u8bd1android\u5e73\u53f0\u7684\u811a\u672c\n# NDK\u6240\u5728\u76ee\u5f55\nNDK_PATH=/root/ndk/android-ndk-r24\n# macOS \u5e73\u53f0\u7f16\u8bd1\uff0c\u5176\u4ed6\u5e73\u53f0\u770b\u4e00\u4e0b $NDK_PATH/toolchains/llvm/prebuilt/ \u4e0b\u7684\u6587\u4ef6\u5939\u540d\u79f0\nHOST_PLATFORM=darwin-x86_64\n# minSdkVersion\nAPI=23\nTOOLCHAINS=\"$NDK_PATH/toolchains/llvm/prebuilt/$HOST_PLATFORM\"\nSYSROOT=\"$NDK_PATH/toolchains/llvm/prebuilt/$HOST_PLATFORM/sysroot\"\n# \u751f\u6210 -fpic \u4e0e\u4f4d\u7f6e\u65e0\u5173\u7684\u4ee3\u7801\nCFLAG=\"-D__ANDROID_API__=$API -Os -fPIC -DANDROID \"\nLDFLAG=\"-lc -lm -ldl -llog \"\n# \u8f93\u51fa\u76ee\u5f55\nPREFIX=`pwd`/android-build\n# \u65e5\u5fd7\u8f93\u51fa\u76ee\u5f55\nCONFIG_LOG_PATH=${PREFIX}/log\n# \u516c\u5171\u914d\u7f6e\nCOMMON_OPTIONS=\n# \u4ea4\u53c9\u914d\u7f6e\nCONFIGURATION=\nbuild() {\nAPP_ABI=$1\necho \"======== &gt; Start build $APP_ABI\"\ncase ${APP_ABI} in\narmeabi-v7a)\nARCH=\"arm\"\nCPU=\"armv7-a\"\nMARCH=\"armv7-a\"\nTARGET=armv7a-linux-androideabi\n    CC=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCXX=\"$TOOLCHAINS/bin/$TARGET$API-clang++\"\nLD=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\n# \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u524d\u7f00\nCROSS_PREFIX=\"$TOOLCHAINS/bin/arm-linux-androideabi-\"\nEXTRA_CFLAGS=\"$CFLAG -mfloat-abi=softfp -mfpu=vfp -marm -march=$MARCH \"\nEXTRA_LDFLAGS=\"$LDFLAG\"\nEXTRA_OPTIONS=\"--enable-neon --cpu=$CPU \"\n;;\narm64-v8a)\nARCH=\"aarch64\"\nTARGET=$ARCH-linux-android\n    CC=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCXX=\"$TOOLCHAINS/bin/$TARGET$API-clang++\"\nLD=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCROSS_PREFIX=\"$TOOLCHAINS/bin/$TARGET-\"\nEXTRA_CFLAGS=\"$CFLAG\"\nEXTRA_LDFLAGS=\"$LDFLAG\"\nEXTRA_OPTIONS=\"\"\n;;\nx86)\nARCH=\"x86\"\nCPU=\"i686\"\nMARCH=\"i686\"\nTARGET=i686-linux-android\n    CC=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCXX=\"$TOOLCHAINS/bin/$TARGET$API-clang++\"\nLD=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCROSS_PREFIX=\"$TOOLCHAINS/bin/$TARGET-\"\n#EXTRA_CFLAGS=\"$CFLAG -march=$MARCH -mtune=intel -mssse3 -mfpmath=sse -m32\"\nEXTRA_CFLAGS=\"$CFLAG -march=$MARCH  -mssse3 -mfpmath=sse -m32\"\nEXTRA_LDFLAGS=\"$LDFLAG\"\nEXTRA_OPTIONS=\"--cpu=$CPU \"\n;;\nx86_64)\nARCH=\"x86_64\"\nCPU=\"x86-64\"\nMARCH=\"x86_64\"\nTARGET=$ARCH-linux-android\n    CC=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCXX=\"$TOOLCHAINS/bin/$TARGET$API-clang++\"\nLD=\"$TOOLCHAINS/bin/$TARGET$API-clang\"\nCROSS_PREFIX=\"$TOOLCHAINS/bin/$TARGET-\"\n#EXTRA_CFLAGS=\"$CFLAG -march=$CPU -mtune=intel -msse4.2 -mpopcnt -m64\"\nEXTRA_CFLAGS=\"$CFLAG -march=$CPU -msse4.2 -mpopcnt -m64\"\nEXTRA_LDFLAGS=\"$LDFLAG\"\nEXTRA_OPTIONS=\"--cpu=$CPU \"\n;;\nesac\necho \"-------- &gt; Start clean workspace\"\nmake clean\n\necho \"-------- &gt; Start build configuration\"\nCONFIGURATION=\"$COMMON_OPTIONS\"\nCONFIGURATION=\"$CONFIGURATION --logfile=$CONFIG_LOG_PATH/config_$APP_ABI.log\"\nCONFIGURATION=\"$CONFIGURATION --prefix=$PREFIX\"\nCONFIGURATION=\"$CONFIGURATION --libdir=$PREFIX/libs/$APP_ABI\"\nCONFIGURATION=\"$CONFIGURATION --incdir=$PREFIX/includes/$APP_ABI\"\nCONFIGURATION=\"$CONFIGURATION --pkgconfigdir=$PREFIX/pkgconfig/$APP_ABI\"\nCONFIGURATION=\"$CONFIGURATION --cross-prefix=$CROSS_PREFIX\"\nCONFIGURATION=\"$CONFIGURATION --arch=$ARCH\"\nCONFIGURATION=\"$CONFIGURATION --sysroot=$SYSROOT\"\nCONFIGURATION=\"$CONFIGURATION --cc=$CC\"\nCONFIGURATION=\"$CONFIGURATION --cxx=$CXX\"\nCONFIGURATION=\"$CONFIGURATION --ld=$LD\"\n# nm \u548c strip\nCONFIGURATION=\"$CONFIGURATION --nm=$TOOLCHAINS/bin/llvm-nm\"\nCONFIGURATION=\"$CONFIGURATION --strip=$TOOLCHAINS/bin/llvm-strip\"\nCONFIGURATION=\"$CONFIGURATION $EXTRA_OPTIONS\"\necho \"-------- &gt; Start config makefile with $CONFIGURATION --extra-cflags=${EXTRA_CFLAGS} --extra-ldflags=${EXTRA_LDFLAGS}\"\n./configure ${CONFIGURATION} \\\n--extra-cflags=\"$EXTRA_CFLAGS\" \\\n--extra-ldflags=\"$EXTRA_LDFLAGS\"\necho \"-------- &gt; Start make $APP_ABI with -j1\"\nmake -j1\n\necho \"-------- &gt; Start install $APP_ABI\"\nmake install\n  echo \"++++++++ &gt; make and install $APP_ABI complete.\"\n}\nbuild_all() {\n#\u914d\u7f6e\u5f00\u6e90\u534f\u8bae\u58f0\u660e\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-gpl\"\n#\u76ee\u6807android\u5e73\u53f0\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --target-os=android\"\n#\u53d6\u6d88\u9ed8\u8ba4\u7684\u9759\u6001\u5e93\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-static\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-shared\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-protocols\"\n#\u5f00\u542f\u4ea4\u53c9\u7f16\u8bd1\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-cross-compile\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-optimizations\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-debug\"\n#\u5c3d\u53ef\u80fd\u5c0f\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-small\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-doc\"\n#\u4e0d\u8981\u547d\u4ee4\uff08\u6267\u884c\u6587\u4ef6\uff09\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-programs\"  # do not build command line programs\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-ffmpeg\"    # disable ffmpeg build\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-ffplay\"    # disable ffplay build\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-ffprobe\"   # disable ffprobe build\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-symver\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-network\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-x86asm\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --disable-asm\"\n#\u542f\u7528\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-pthreads\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-mediacodec\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-jni\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-zlib\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-pic\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-muxer=flv\"\n#COMMON_OPTIONS=\"$COMMON_OPTIONS --enable-avresample\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=h264\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=mpeg4\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=mjpeg\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=png\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=vorbis\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=opus\"\nCOMMON_OPTIONS=\"$COMMON_OPTIONS --enable-decoder=flac\"\necho \"COMMON_OPTIONS=$COMMON_OPTIONS\"\necho \"PREFIX=$PREFIX\"\necho \"CONFIG_LOG_PATH=$CONFIG_LOG_PATH\"\nmkdir -p ${CONFIG_LOG_PATH}\n# build \"armeabi-v7a\"\nbuild \"arm64-v8a\"\n# build \"x86\"\n# build \"x86_64\"\n}\necho \"-------- Start --------\"\nbuild_all\necho \"-------- End --------\"\n</code></pre> <ul> <li><code>./configure --disable-x86asm</code></li> <li><code>./build_android.sh</code></li> </ul> <pre><code># \u751f\u6210\u7f16\u8bd1\u6587\u4ef6\n./android-build/libs/arm64-v8a/libswscale.so\n./android-build/libs/arm64-v8a/libavcodec.so\n./android-build/libs/arm64-v8a/libavformat.so\n./android-build/libs/arm64-v8a/libavfilter.so\n./android-build/libs/arm64-v8a/libpostproc.so\n./android-build/libs/arm64-v8a/libavdevice.so\n./android-build/libs/arm64-v8a/libswresample.so\n./android-build/libs/arm64-v8a/libavutil.so\n</code></pre>"},{"location":"AV/ffmpeg/#_2","title":"\u5173\u952e\u7ed3\u6784\u4f53","text":"<p>\u96f7\u9704\u9a85\u535a\u5ba2</p> <p></p> <ul> <li>\u7f16\u89e3\u7801\u672c\u8d28\u5c31\u662f AVPacket \u548c AVFrame\uff08RawData\uff09 \u7684\u8f6c\u5316</li> <li>AVClass\u662f\u8fde\u63a5 AVFormatContext \u548c AVOption \u7684\u6865\u6881</li> </ul>"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/","title":"\u97f3\u8996\u983b\u57fa\u790e","text":"<ul> <li>\u7f16\u89e3\u7801\u539f\u7406</li> <li>\u9854\u8272\u7a7a\u95f4<ul> <li>RGB</li> <li>YUV (\u4e5f\u79f0YCrCb)</li> <li>\u8865\u5145</li> </ul> </li> <li>I\\P\\B\u5e27</li> </ul>"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#_1","title":"\u7f16\u89e3\u7801\u539f\u7406","text":"<pre><code>graph LR;\n\nA1{\u9ea6\u514b\u98ce} --&gt; A2[\u91c7\u6837\u5e27]\nA2 --&gt; A3[\u97f3\u9891\u5904\u7406]\nA3 --&gt; A4[\u91c7\u6837\u5e27\u961f\u5217]\nA4 --&gt; A5[\u97f3\u9891\u7f16\u7801]\nA5 --&gt; A6[\u97f3\u9891\u5305\u961f\u5217]\nA10[\u97f3\u9891\u5305\u961f\u5217] --&gt; A11[\u97f3\u9891\u89e3\u7801]\nA11 --&gt; A12[\u91c7\u6837\u5e27\u961f\u5217]\nA12 --&gt; A13[\u97f3\u9891\u5904\u7406]\nA13 --&gt; A14{\u97f3\u7bb1}\n\nB2{\u65f6\u949f} --&gt; A2\nB2 --&gt; C2\nA6 --&gt; B7{\u590d\u7528\u5668}\nC6 --&gt; B7\nB7 --&gt; B8(\u6587\u4ef6\\\u6d41)\nB8 --&gt; B9{\u89e3\u590d\u7528\u5668}\nB9 --&gt; A10\nB9 --&gt; C10\nB12{\u540c\u6b65\u63a7\u5236} --&gt; A13\nB12 --&gt; C13\n\nC1{\u6444\u50cf\u5934} --&gt; C2[\u56fe\u50cf\u5e27]\nC2 --&gt; C3[\u56fe\u50cf\u5904\u7406]\nC3 --&gt; C4[\u56fe\u50cf\u5e27\u961f\u5217]\nC4 --&gt; C5[\u56fe\u50cf\u7f16\u7801]\nC5 --&gt; C6[\u56fe\u50cf\u5305\u961f\u5217]\nC10[\u56fe\u50cf\u5305\u961f\u5217] --&gt; C11[\u56fe\u50cf\u89e3\u7801]\nC11 --&gt; C12[\u56fe\u50cf\u5e27\u961f\u5217]\nC12 --&gt; C13[\u56fe\u50cf\u5904\u7406]\nC13 --&gt; C14{\u663e\u793a\u5668}</code></pre>"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#_2","title":"\u9854\u8272\u7a7a\u95f4","text":""},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#rgb","title":"RGB","text":"<ul> <li>\u81ea\u7136\u4e2d\u901a\u7528\u7684\uff0c\u4eba\u773c\u53ef\u611f\u77e5\u7684\u4e09\u539f\u8272RGB\u683c\u5f0f\u6807\u51c6</li> <li>\u4e3b\u8981\u6709RGB888\u6216\u8005RGB565\uff0c\u6216\u8005ARGB8888</li> </ul>"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#yuv-ycrcb","title":"YUV (\u4e5f\u79f0YCrCb)","text":"<ul> <li>\u7528\u9014\uff1a\u4e3b\u8981\u7528\u4e8e\u89c6\u9891\u4fe1\u53f7\u7684\u538b\u7f29\u3001\u4f20\u8f93\u3001\u5b58\u50a8\uff1b\u5411\u540e\u517c\u5bb9\u8001\u5f0f\u9ed1\u767d\u5f71\u50cf\u3002</li> <li>\u5176\u4e2d \u201cY\u201d \u8868\u793a\u660e\u4eae\u5ea6\uff08Luminance\u6216Luma\uff09\uff0c\u4e5f\u79f0\u7070\u9636\u503c</li> <li>\u201cU\" \u6216 \u201dV\u201c \u8868\u793a\u8272\u5ea6\uff08Chrominance\u6216Chroma\uff09\uff0c\u4f5c\u7528\u662f\u63cf\u8ff0 \u5f71\u50cf\u8272\u5f69\u53ca\u9971\u548c\u5ea6\uff0c\u7528\u4e8e\u6307\u5b9a\u50cf\u7d20\u989c\u8272</li> <li>\u5206\u7c7b</li> </ul> <p>yuv\u683c\u5f0f\u975e\u5e38\u591a\uff0c\u6bcf\u7c7b\u4e0b\u9762\u4e3b\u8981\u6709 planar \u548c packed \u533a\u522b</p> <p>\u5bf9\u4e8eplanar\u7684YUV\u683c\u5f0f\uff0c\u5148\u8fde\u7eed\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684Y\uff0c\u7d27\u63a5\u7740\u5b58\u50a8\u6240\u6709\u50cf\u7d20\u70b9\u7684U\uff0c\u968f\u540e\u662f\u6240\u6709\u50cf\u7d20\u70b9\u7684V\u3002 </p> <p>\u5bf9\u4e8epacked\u7684YUV\u683c\u5f0f\uff0c\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684Y,U,V\u662f\u8fde\u7eed\u4ea4\u53c9\u5b58\u50a8\u7684\u3002</p> <ol> <li>YUV444</li> </ol> <p>\u5360\u7528 8 + 8 + 8 = 24 bit, 3 byte</p> <p>1 \u7ec4Y\u5171\u7528 1 \u7ec4UV</p>  YUV444 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline \\end{array}   YV24 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline \\end{array}  <ol> <li>YUV422</li> </ol> <p>\u5360\u7528 8 + 4 + 4 = 16 bit, 2 byte</p> <p>2 \u7ec4Y\u5171\u7528 1 \u7ec4UV</p> <p>packed \u683c\u5f0f</p>  YUV422\uff08YUVY\u3001YUYV\uff09 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;U0&amp;Y1&amp;V0&amp;Y2&amp;U1&amp;Y3&amp;V1\\\\     \\hline Y4&amp;U2&amp;Y5&amp;V2&amp;Y6&amp;U3&amp;Y7&amp;V3\\\\     \\hline Y8&amp;U4&amp;Y9&amp;V4&amp;Y10&amp;U5&amp;Y11&amp;V5\\\\     \\hline \\end{array}   YUV422\uff08UYVY\uff09 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline U0&amp;Y0&amp;V0&amp;Y1&amp;U1&amp;Y2&amp;V1&amp;Y3\\\\     \\hline U2&amp;Y4&amp;V2&amp;Y5&amp;U3&amp;Y6&amp;V3&amp;Y7\\\\     \\hline U4&amp;Y8&amp;V4&amp;Y9&amp;U5&amp;Y10&amp;V5&amp;Y11\\\\     \\hline \\end{array}  <p>planar \u683c\u5f0f</p>  YUV422P\uff08YU16\u3001I422\uff09 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline \\end{array}   YUV422P\uff08YV16\uff09 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline \\end{array}  <ol> <li>YUV420</li> </ol> <p>\u5360\u7528 8 + 2 + 2 = 12 bit, 1.5 byte</p> <p>4 \u7ec4Y\u5171\u7528 1 \u7ec4UV</p> <p>planar \u683c\u5f0f\uff0c\u6b64\u4e24\u79cd\u79f0\u4e3a YUV420P\uff0cUV\u5206\u5f00\u5b58\u50a8</p>  YU12 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline Y9&amp;Y10&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y23\\\\     \\hline Y24&amp;Y25&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y31\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline \\end{array}   YV12 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline Y9&amp;Y10&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y23\\\\     \\hline Y24&amp;Y25&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y31\\\\     \\hline V0&amp;V1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;V7\\\\     \\hline U0&amp;U1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;U7\\\\     \\hline \\end{array}  <p>packed \u683c\u5f0f\uff0c\u6b64\u4e24\u79cd\u79f0\u4e3a YUV420SP\uff0c\u540c\u6837\u5148\u5b58\u50a8Y\uff0c\u4f46UV\u4ea4\u53c9\u5b58\u50a8</p>  NV12 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline Y9&amp;Y10&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y23\\\\     \\hline Y24&amp;Y25&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y31\\\\     \\hline U0&amp;V0&amp;U1&amp;V1&amp;U2&amp;V2&amp;U3&amp;V3\\\\     \\hline U4&amp;V4&amp;U5&amp;V5&amp;U6&amp;V6&amp;U7&amp;V7\\\\     \\hline \\end{array}   NV21 \\quad \\rightarrow \\quad \\begin{array}{|c|c|c|}     \\hline Y0&amp;Y1&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y7\\\\     \\hline Y8&amp;Y9&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y15\\\\     \\hline Y9&amp;Y10&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y23\\\\     \\hline Y24&amp;Y25&amp;...&amp;...&amp;...&amp;..&amp;..&amp;Y31\\\\     \\hline V0&amp;U0&amp;V1&amp;U1&amp;V2&amp;U2&amp;V3&amp;U3\\\\     \\hline V4&amp;U4&amp;V5&amp;U5&amp;V6&amp;U6&amp;V7&amp;U7\\\\     \\hline \\end{array}\\tag{android\u9ed8\u8ba4\u683c\u5f0f}"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#_3","title":"\u8865\u5145","text":"<p>stride\uff1a\u8de8\u8ddd\uff0c\u4e3a\u4e86\u63d0\u9ad8\u5bfb\u5740\u6548\u7387\uff0c\u5bf9\u5206\u8fa8\u7387\u5bbd\uff08\u6bcf\u884c\uff09\u8ba1\u7b97\u5185\u5b58\u65f6\u505a32\u4f4d\u5bf9\u9f50\u64cd\u4f5c\u3002</p> <p>plane\uff1a\u4e00\u822c\u662f\u4ee5luma plane\u3001chroma plane\u7684\u5f62\u5f0f\u51fa\u73b0\uff0c\u5176\u5b9e\u5c31\u662fluma\u5c42\u548cchroma\u5c42\uff0c\u5c31\u50cfRGB\uff0c\u8981\u7528\u4e09\u4e2aplane\u6765\u5b58\u3002</p>"},{"location":"AV/%E9%9F%B3%E8%A6%96%E9%A0%BB%E5%9F%BA%E7%A4%8E/#ipb","title":"I\\P\\B\u5e27","text":"<p>\u53c2\u8003</p> <p>\u97f3\u89c6\u9891\u5f00\u53d1\u8fdb\u9636\u2014\u89c6\u9891\u7f16\u7801\u4e4bI\uff0cP\uff0cB\u5e27</p> <p>Easy Tech\uff1a\u4ec0\u4e48\u662fI\u5e27\u3001P\u5e27\u548cB\u5e27\uff1f </p> <ul> <li>I\u5e27\u6216\u5173\u952e\u5e27\u6216\u5e27\u5185\u5e27\uff08I-frame or Key-Frame or Intra-frame\uff09\u4ec5\u7531\u5e27\u5185\u9884\u6d4b\u7684\u5b8f\u5757\u7ec4\u6210\u3002</li> </ul> <p>I\u5e27\u4e2d\u7684\u6bcf\u4e2a\u5b8f\u5757\u53ea\u80fd\u5728\u540c\u4e00\u5e27\u5185\u5339\u914d\u5176\u4ed6\u5b8f\u5757\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u5b83\u53ea\u80fd\u5229\u7528\u5e27\u5185\u201c\u7a7a\u95f4\u5197\u4f59\u201d\u6765\u8fdb\u884c\u538b\u7f29\u3002\u7a7a\u95f4\u5197\u4f59\u662f\u4e00\u4e2a\u672f\u8bed\uff0c\u7528\u6765\u6307\u5355\u4e2a\u5e27\u7684\u50cf\u7d20\u4e4b\u95f4\u7684\u76f8\u4f3c\u6027\u3002</p> <ul> <li> <p>P\u5e27\u4ee3\u8868\u9884\u6d4b\u5e27\uff0c\u9664\u4e86\u7a7a\u57df\u9884\u6d4b\u4ee5\u5916\uff0c\u5b83\u8fd8\u53ef\u4ee5\u901a\u8fc7\u65f6\u57df\u9884\u6d4b\u6765\u8fdb\u884c\u538b\u7f29\u3002P\u5e27\u53c2\u8003\u524d\u9762\u7684\u5e27\u8fdb\u884c\u8fd0\u52a8\u4f30\u8ba1\u3002</p> </li> <li> <p>B\u5e27\u53ef\u4ee5\u53c2\u8003\u5728\u5176\u524d\u540e\u51fa\u73b0\u7684\u5e27\u3002\u7531\u4e8eB\u5e27\u53ef\u4ee5\u53c2\u8003\u548c\u63d2\u5165\u5728\u5b83\u4e4b\u524d\u548c\u4e4b\u540e\u53d1\u751f\u7684\u4e24\u4e2a\uff08\u6216\u66f4\u591a\uff09\u5e27\uff08\u5728\u65f6\u95f4\u7ef4\u5ea6\u4e0a\uff09\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u663e\u8457\u964d\u4f4e\u5e27\u7684\u5927\u5c0f\uff0c\u540c\u65f6\u4fdd\u6301\u89c6\u9891\u8d28\u91cf\u3002B\u5e27\u80fd\u591f\u5229\u7528\u7a7a\u95f4\u5197\u4f59\u548c\u65f6\u95f4\u5197\u4f59\uff08\u672a\u6765\u7684\u5e27\u548c\u8fc7\u53bb\u7684\u5e27\uff09\uff0c\u8fd9\u4f7f\u5f97\u5b83\u5728\u89c6\u9891\u538b\u7f29\u4e2d\u975e\u5e38\u6709\u7528\u3002B\u5e27\u662f\u8d44\u6e90\u5bc6\u96c6\u578b\u3002</p> </li> </ul> <p></p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/adb/","title":"adb","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/adb/#adb","title":"adb\u76f8\u5173","text":"<ul> <li>\u67e5\u627e\u8bbe\u5907</li> </ul> <pre><code>adb devices\n</code></pre> <ul> <li> <p>\u83b7\u53d6\u5f53\u524d Activity <pre><code>adb shell dumpsys activity activities | findstr mResumedActivity\n</code></pre></p> </li> <li> <p>\u62c9\u53d6\u5f53\u524d apk \u5230\u672c\u5730</p> </li> </ul> <pre><code>adb shell pm path packageName\nadb pull xxx.apk .\n# PS D:\\docs&gt; adb shell pm path cn.soulapp.android\n# package:/data/app/cn.soulapp.android-p0zMa4iCS9lt56ETMszpxg==/base.apk\n</code></pre> <ul> <li>wifi\u93c8\u63a5(\u71b1\u9ede)</li> </ul> <pre><code>adb tcpip 5555\nadb connect 192.168.43.1:5555\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/","title":"clion+wsl","text":"<ul> <li>wsl\u5b89\u88c5<ul> <li>\u73af\u5883\u8981\u6c42</li> <li>\u7ec4\u4ef6\u5b89\u88c5</li> <li>\u5b89\u88c5wsl\u547d\u4ee4</li> <li>\u5b89\u88c5ubuntu\u53d1\u884c\u7248\u672c</li> <li>\u5b89\u88c5build-essential</li> <li>\u5b89\u88c5gdb</li> </ul> </li> <li>\u914d\u7f6eclion<ul> <li>\u5728ubuntu\u4e2d\u914d\u7f6essh\uff0c\u65b9\u4fbf\u62f7\u8d1d\u6587\u4ef6\u7b49</li> <li>\u914d\u7f6eclion Toolchains</li> </ul> </li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#wsl","title":"wsl\u5b89\u88c5","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#_1","title":"\u73af\u5883\u8981\u6c42","text":"<ul> <li>Windows 10 \u4ee5\u4e0a\uff0c\u7248\u672c\u8981\u6c42\u5df2\u66f4\u65b0\u5230\u7248\u672c 2004 \u7684\u5185\u90e8\u7248\u672c 19041 \u6216\u66f4\u9ad8\u7248\u672cWin11\u7cfb\u7edf</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#_2","title":"\u7ec4\u4ef6\u5b89\u88c5","text":"<ul> <li>\u6253\u5f00 \u201c\u63a7\u5236\u9762\u677f\u201d-\u300b\u201c\u7a0b\u5e8f\u201d-\u300b\u201c\u542f\u7528\u6216\u5173\u95edwindow\u529f\u80fd\u201d</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#wsl_1","title":"\u5b89\u88c5wsl\u547d\u4ee4","text":"<p>\u5728 PowerShell \u6216 Windows \u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u8f93\u5165wsl --install\uff0c\u9700\u8981\u7ba1\u7406\u5458\u65b9\u5f0f\u8fd0\u884c\u3002 </p> <p>\u5b89\u88c5\u540e\u5efa\u8bae\u6267\u884cwsl --update\u66f4\u65b0\u4e0b\u3002 \u9700\u8981\u91cd\u542f\u7cfb\u7edf\u3002</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#ubuntu","title":"\u5b89\u88c5ubuntu\u53d1\u884c\u7248\u672c","text":"<ul> <li>\u76f4\u63a5\u5728microsoft\u5e94\u7528\u5546\u5e97\u641c\u7d22ubuntu\u3002</li> </ul> <p>\u8bbe\u7f6e\u56fd\u5185\u6e90</p> <pre><code>sudo mv /etc/apt/sources.list /etc/apt/sources.list.bak\nsudo vi /etc/apt/sources.list\n</code></pre> <pre><code># \u9ed8\u8ba4\u6ce8\u91ca\u4e86\u6e90\u7801\u955c\u50cf\u4ee5\u63d0\u9ad8 apt update \u901f\u5ea6\uff0c\u5982\u6709\u9700\u8981\u53ef\u81ea\u884c\u53d6\u6d88\u6ce8\u91ca\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-security main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-security main restricted universe multiverse\n# \u9884\u53d1\u5e03\u8f6f\u4ef6\u6e90\uff0c\u4e0d\u5efa\u8bae\u542f\u7528\n# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse\n# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse\n</code></pre> <pre><code>sudo apt-get update\nsudo apt-get upgrade\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#build-essential","title":"\u5b89\u88c5build-essential","text":"<pre><code>apt install build-essential\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#gdb","title":"\u5b89\u88c5gdb","text":"<pre><code>sudo apt-get install gdb cmake\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#clion","title":"\u914d\u7f6eclion","text":"<p>\u4e0b\u8f7d</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#ubuntussh","title":"\u5728ubuntu\u4e2d\u914d\u7f6essh\uff0c\u65b9\u4fbf\u62f7\u8d1d\u6587\u4ef6\u7b49","text":"<pre><code>sudo apt install openssh-server\n\n# line35 : StrictHostKeyChecking no\n#sudo vi /etc/ssh/ssh_config\n# line57 : PasswordAuthentication yes\nsudo vi /etc/ssh/sshd_config\n\nsudo service ssh restart\n</code></pre> <pre><code>PS C:\\Users\\Administrator&gt; ssh mark@localhost\nmark@localhost's password:\nWelcome to Ubuntu 22.04.2 LTS (GNU/Linux 5.10.16.3-microsoft-standard-WSL2 x86_64)\n...\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/clion%2Bwsl/#clion-toolchains","title":"\u914d\u7f6eclion Toolchains","text":"<ul> <li>\u914d\u7f6e\u597dToolchains\uff0c\u70b9\u51fb\u4e0b\u65b9CMake\u6807\u7b7e\uff0c\u7136\u540e\u518d <code>Reload CMake Project</code> \u5373\u53ef\u8fd0\u884c\u8c03\u8bd5</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","title":"conda\u73af\u5883\u914d\u7f6e","text":"<ul> <li>Anaconda<ul> <li>\u4e0b\u8f7d\u3001\u914d\u7f6e</li> <li>\u5b89\u88c5\u3001notebook\u4f7f\u7528</li> <li>pycharm\u914d\u7f6econda</li> </ul> </li> <li>Pytorch-CUDA\u5b89\u88c5</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#anaconda","title":"Anaconda","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#_1","title":"\u4e0b\u8f7d\u3001\u914d\u7f6e","text":"<pre><code># conda\u73af\u5883\u53d8\u91cf\u81ea\u884c\u8bbe\u7f6e\n# \u914d\u7f6e\u6e05\u534e\u6e90\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\nconda config --set show_channel_urls yes\nconda config --set ssl_verify false\n# pip \u8bbe\u7f6e\u9ed8\u8ba4\u6e05\u534e\u6e90, \u5426\u5219\u9700\u8981 pip install xxx -i https://pypi.tuna.tsinghua.edu.cn/simple\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#notebook","title":"\u5b89\u88c5\u3001notebook\u4f7f\u7528","text":"<pre><code># Anaconda Powershell Prompt (Anaconda3)\n(base) PS C:\\Users\\F1243749&gt; conda -V\nconda 4.12.0\n(base) PS C:\\Users\\F1243749&gt; conda create -n d2l python=3.9 -y\n(base) PS C:\\Users\\F1243749&gt; conda activate d2l\n(d2l) PS C:\\Users\\F1243749&gt; jupyter notebook\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#pycharmconda","title":"pycharm\u914d\u7f6econda","text":"<ul> <li> <p>\u914d\u7f6econda\u73af\u5883 </p> </li> <li> <p>\u4f7f\u7528</p> </li> </ul> <p>\u8fd0\u884cd2l\u76f8\u5173demo</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/conda%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#pytorch-cuda","title":"Pytorch-CUDA\u5b89\u88c5","text":"<p>\u53c2\u8003 kaggle\u7b14\u8bb0</p> <p></p> <ol> <li>\u4fdd\u8bc1\u7cfb\u7edf\u5b58\u5728\u81f3\u5c11\u4e00\u5757GPU</li> <li>\u67e5\u770b nvidia-smi\uff08\u9a45\u52d5\uff09\uff0c\u786e\u8ba4\u6709\u9a71\u52a8, \u4e14 cuda driver &gt;= cuda toolkit \u7248\u672c</li> <li>\u521b\u5efa\u865a\u62df\u73af\u5883 <pre><code># \u6211\u7684\u9a45\u52d5\u7248\u672c\u662f11.7,\u6240\u4ee5\u9019\u88e1cudatoolkit\u4e0d\u80fd\u5927\u65bc11.7\nconda create --prefix=E:/AI python=3.10.9 cudnn=8.4.1.50 cudatoolkit=11.7.0 ffmpeg x264\n</code></pre></li> <li>\u5b89\u88c5\u9644\u5e26CUDA toolkit(\u4e0d\u5b8c\u6574\u7248)pytorch <pre><code>pip install torch==2.0.0+cu117 torchvision==0.15.1+cu117 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cu117\n</code></pre></li> </ol> <p>wenda gcc\u7f16\u8bd1\u95ee\u9898</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/","title":"docker","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#_1","title":"\u5b89\u88c5\u914d\u7f6e","text":"<ul> <li> <p>\u5b98\u7f51\u4e0b\u8f7d</p> </li> <li> <p>\u914d\u7f6e\u4ee3\u7406 (Setting-&gt;Resources-&gt;Proxies) \u5982\u679c\u65e0\u9700\u4ee3\u7406\u8bbf\u95ee\u5916\u7f51\u5219\u65e0\u9700\u8bbe\u7f6e</p> </li> <li>\u5171\u4eab\u76ee\u5f55 (Setting-&gt;Resources-&gt;File Sharing) </li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#_2","title":"\u955c\u50cf","text":"<pre><code># \u62c9\u53d6\u5b98\u65b9\u955c\u50cf\ndocker login\ndocker pull hello-world\ndocker images\n\n# \u62c9\u53d6\u5b98\u65b9\u6700\u65b0\u7684ubuntu\u955c\u50cf \ndocker pull ubuntu\n\n# \u5220\u9664\u955c\u50cf\ndocker rmi ImageID\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#_3","title":"\u955c\u50cf\u4ed3\u5e93\u64cd\u4f5c","text":"<pre><code># \u901a\u8fc7\u5bb9\u5668\u521b\u5efa\u81ea\u5df1\u7684\u955c\u50cf - \u8fd9\u91cc\u767b\u5f55\u7684\u662f\u963f\u91cc\u4e91\u7684\u4ed3\u5e93\ndocker login --username=\"hackxxxxxx.com\" --password=\"Dxxxx02b\" registry.cn-shenzhen.aliyuncs.com\ndocker commit ContainId ImgName\ndocker tag hello-world remoteSpaceName/ImgName:VersionTag\ndocker push remoteSpaceName/ImgName:VersionTag\n\n# \u62c9\u53d6\u81ea\u5df1\u4ed3\u5e93\u7684\u955c\u50cf\ndocker pull remoteSpaceName/ImgName:VersionTag\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#_4","title":"\u5bfc\u5165\u955c\u50cf\u5230\u5176\u4ed6\u673a\u5668","text":"<pre><code># \u4ece\u963f\u91cc\u4e91\u4e0a\u5bfc\u5165\u4e2a\u4eba\u670d\u52a1\u5668\u7684\u4e00\u6b21\u5b9e\u8df5\n# \u5bfc\u51fa docker save -o TarName ImageID/Tag:Version \n# \u6216 docker save ImageID/Tag:Version &gt; TarName\ndocker save redis:alpine &gt; redis.tar\ndocker save svn_calc-web:latest &gt; svn_calc_web.tar\n\n# \u5bfc\u5165 docker -i/&lt; IMAGE ID/Tag:Version\ndocker load &lt; redis.tar\ndocker load &lt; svn_calc_web.tar\n\n# \u5982\u679c\u4ee5ImageID\u5bfc\u51fa\uff0c\u5219Tag\u548cVersion\u9ed8\u8ba4\u4e3a&lt;None&gt;\ndocker image tag 10d0756f21af 10.xxx.xx.63:9004/svn-calc-web:1.0.0-Beta\n\n# \u6267\u884c docker-compose.yml \u811a\u672c, \u53c2\u7167 ### docker-compose \u6dfb\u52a0app.py \u548c docker-compose.yml\n# \u8bbf\u95eehttp://xxx.xxx.xx.xx:9004/ \u6b63\u5e38\u54cd\u5e94\n[root@xtrack-docker-dp svn_calc]# docker-compose up\nStarting svn_calc_web_1   ... done\nStarting svn_calc_redis_1 ... done\nAttaching to svn_calc_redis_1, svn_calc_web_1\n...\nweb_1    |  * Serving Flask app 'app.py'\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#apt-get","title":"\u914d\u7f6eapt-get","text":"<pre><code># \u66f4\u6362\u56fd\u5185\u963f\u91cc\u6e90\nsed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list\nsed -i s@/security.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list\napt-get clean\n# \u66f4\u65b0\napt-get update\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#_5","title":"\u5bb9\u5668","text":"<pre><code># \u8fd0\u884c\u5e76\u7ec8\u7aef\u767b\u5f55-\u9000\u51fa\u4e0d\u4fdd\u5b58\u4fee\u6539\u8bb0\u5f55\ndocker run -it ubuntu /bin/bash\n\n# \u8fd0\u884c\u5e76\u7ec8\u7aef\u767b\u5f55\ndocker exec -it ubuntu /bin/bash\n\n# \u9000\u51fa\u5bb9\u5668\u7ec8\u7aef\u5e76\u505c\u6b62\u5bb9\u5668\u8fd0\u884c ctrl+q+p \u6216\u8005 exit\n# \u67e5\u770b\u5df2\u7ecf\u8fd0\u884c\u7684\u5bb9\u5668\ndocker ps -a\n\n# \u8fdb\u5165\u5df2\u7ecf\u8fd0\u884c\u7684\u5bb9\u5668\ndocker attach ContainId\n\n# \u67e5\u770b\u5bb9\u5668\u7aef\u53e3\u6620\u5c04\ndocker port ContainId\n\n# \u67e5\u770b\u65e5\u5fd7\u8f93\u51fa\ndocker logs -f ContainId\n# \u6253\u5370\u540e\u4ee3\u5bb9\u5668\u65e5\u5fd7\ndocker logs --tail=50 ContainId\n\n# \u67e5\u770b\u5bb9\u5668\u5185\u90e8\u8fdb\u7a0b\ndocker top ContainId\n\n# \u5bfc\u51fa\u5bb9\u5668\ndocker export ContainId &gt; ubuntu.tar\n\n# \u5bfc\u5165\u5bb9\u5668\ncat docker/ubuntu.tar | docker import - mark/ubuntu:v1\n# \u901a\u8fc7url\u6216\u8005\u6587\u4ef6\u8def\u5f84\u5bfc\u5165\u5bb9\u5668\ndocker import http://example.com/ubuntu.tar mark/ubuntu:v1\n\n# \u6302\u8f7d\u5bbf\u4e3b\u673a\u5df2\u5171\u4eab\u76ee\u5f55\u5230\u5bb9\u5668/share\u8282\u70b9\u4e0a\ndocker -it run ubuntu /bin/bash -v D:\\docker:/share\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#hanlp","title":"\u4f7f\u7528\u4ed3\u5e93hanlp\u955c\u50cf","text":"<pre><code>docker run --name hanlp -d  -p 8888:8888 registry.cn-shenzhen.aliyuncs.com/devan/hanlp-jupyterlab\n# \u663e\u793a\u65e5\u5fd7\ndocker logs -f hanlp\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#-","title":"\u8fdb\u9636-\u81ea\u52a8\u6784\u5efa","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#github-actions","title":"GitHub Actions","text":"<p>GItHub Actions\u662f\u4e00\u4e2a\u6301\u7eed\u96c6\u6210\u548c\u6301\u7eed\u4ea4\u4ed8\u7684\u5e73\u53f0\uff0c\u80fd\u591f\u8ba9\u4f60\u81ea\u52a8\u5316\u4f60\u7684\u7f16\u8bd1\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u6d41\u7a0b\u3002</p> <ul> <li>\u521b\u5efa\u4e00\u4e2adocker\u955c\u50cf\u4ed3\u5e93\uff08\u4f7f\u7528\u963f\u91cc\u4e91\uff09</li> </ul> <p></p> <ul> <li>\u8bbe\u7f6e <code>Repo Security</code></li> </ul> <p></p> <ul> <li>\u5728github\u4e0a\u521b\u5efa\u6d41\u6c34\u7ebf\u73af\u5883</li> </ul> <p>:+1: push\u540e\u4f1a\u81ea\u52a8\u89e6\u53d1\u6784\u5efa\u4efb\u52a1</p> <p>.github/workflows/build.yml</p> <pre><code>name: Docker Image CI\non:\npush:\nbranches: [ main ]\npull_request:\nbranches: [ main ]\njobs:\nbuild:\nruns-on: ubuntu-latest\nsteps:\n- uses: actions/checkout@v2\n- name: Build the Docker image\nrun: | docker version\n# \u767b\u5f55\u963f\u91cc\u4e91\u955c\u50cf\u4ed3\u5e93\ndocker login --username=${{ secrets.DOCKER_USERNAME }} --password=${{ secrets.DOCKER_PASSWORD }} registry.cn-shenzhen.aliyuncs.com\n# \u4f7f\u7528Dockerfile\u6784\u5efa\u955c\u50cf\ndocker build . --file Dockerfile --tag registry.cn-shenzhen.aliyuncs.com/devan/hanlp-jupyterlab\n# \u63a8\u9001\u955c\u50cf\u5230\u955c\u50cf\u4ed3\u5e93 - \u8fd9\u91cc\u5bf9\u5e94 https://cr.console.aliyun.com/cn-shenzhen/instance/repositories\ndocker push registry.cn-shenzhen.aliyuncs.com/hanlp/hanlp_lab\n</code></pre> <ul> <li>\u63a8\u9001\u5bf9\u5e94 <code>Dockerfile</code> \u6765\u8fdb\u884c\u6784\u5efa</li> </ul> <pre><code>FROM python:3.9.0\nRUN pip --no-cache-dir install hanlp[full]\nRUN pip install jupyterlab\n\nWORKDIR /jupyter\nEXPOSE 8888\nCMD [\"bash\", \"-c\", \"jupyter lab --notebook-dir=/jupyter --ip 0.0.0.0 --no-browser --allow-root\"]\n</code></pre> <p>:+1:\u51fa\u73b0\u4ee5\u4e0b\u8bf4\u660e\u6d41\u6c34\u7ebf\u5df2\u7ecf\u81ea\u52a8\u8dd1\u8d77\u6765\u4e86</p> <p></p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#docker-compose","title":"docker-compose","text":"<p>Step 1: Define the application dependencies</p> <ol> <li>Create a directory for the project:</li> </ol> <pre><code>mkdir composetest\ncd composetest\n</code></pre> <ol> <li>Create a file called <code>app.py</code> in your project directory and paste the following code in:</li> </ol> <pre><code>import time\nimport redis\nfrom flask import Flask\napp = Flask(__name__)\n# \u901a\u8fc7\u4e0e\u5bb9\u5668\u540d\u76f8\u540c\u7684\u57df\u540d\u53ef\u8bbf\u95ee\u5bf9\u5e94\u5bb9\u5668(compose\u81ea\u52a8\u751f\u6210)\ncache = redis.Redis(host='redis', port=6379)\ndef get_hit_count():\nretries = 5\nwhile True:\ntry:\nreturn cache.incr('hits')\nexcept redis.exceptions.ConnectionError as exc:\nif retries == 0:\nraise exc\nretries -= 1\ntime.sleep(0.5)\n@app.route('/')\ndef hello():\ncount = get_hit_count()\nreturn 'Hello World! I have been seen {} times.\\n'.format(count)\n</code></pre> <ol> <li>Create another file called <code>requirements.txt</code> in your project directory and paste the following code in:</li> </ol> <pre><code>flask\nredis\n</code></pre> <p>Step 2: Create a Dockerfile</p> <p>The Dockerfile is used to build a Docker image. The image contains all the dependencies the Python application requires, including Python itself.</p> <p>In your project directory, create a file named <code>Dockerfile</code> and paste the following code in:</p> <pre><code># syntax=docker/dockerfile:1\nFROM python:3.7-alpine\nWORKDIR /code\nENV FLASK_APP=app.py\nENV FLASK_RUN_HOST=0.0.0.0\nRUN apk add --no-cache gcc musl-dev linux-headers\nCOPY requirements.txt requirements.txt\nRUN pip install -r requirements.txt\nEXPOSE 5000\nCOPY . .\nCMD [\"flask\", \"run\"]\n</code></pre> <p>Step 3: Define services in a Compose file</p> <p>Create a file called <code>docker-compose.yml</code> in your project directory and paste the following:</p> <pre><code>version: \"3.9\"\nservices:\nweb:\nbuild: .\nports:\n- \"8000:5000\"\nredis:\nimage: \"redis:alpine\"\n</code></pre> <p>This Compose file defines two services: <code>web</code> and <code>redis</code>.</p> <p>The <code>web</code> service uses an image that\u2019s built from the <code>Dockerfile</code> in the current directory. It then binds the container and the host machine to the exposed port, <code>8000</code>. This example service uses the default port for the Flask web server, <code>5000</code>.</p> <p>The <code>redis</code> service uses a public Redis image pulled from the Docker Hub registry.</p> <p>Step 4: Build and run your app with Compose</p> <ol> <li>From your project directory, start up your application by running <code>docker compose up</code>.</li> </ol> <pre><code>$ docker compose up\n\nCreating network \"composetest_default\" with the default driver\nCreating composetest_web_1 ...\nCreating composetest_redis_1 ...\nCreating composetest_web_1\nCreating composetest_redis_1 ... done\nAttaching to composetest_web_1, composetest_redis_1\nweb_1    |  * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)\nredis_1  | 1:C 17 Aug 22:11:10.480 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo\nredis_1  | 1:C 17 Aug 22:11:10.480 # Redis version=4.0.1, bits=64, commit=00000000, modified=0, pid=1, just started\nredis_1  | 1:C 17 Aug 22:11:10.480 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf\nweb_1    |  * Restarting with stat\nredis_1  | 1:M 17 Aug 22:11:10.483 * Running mode=standalone, port=6379.\nredis_1  | 1:M 17 Aug 22:11:10.483 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.\nweb_1    |  * Debugger is active!\nredis_1  | 1:M 17 Aug 22:11:10.483 # Server initialized\nredis_1  | 1:M 17 Aug 22:11:10.483 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.\n</code></pre> <ol> <li>Enter http://localhost:8000/ in a browser to see the application running.</li> </ol> <p>If this doesn\u2019t resolve, you can also try http://127.0.0.1:8000.</p> <p>You should see a message in your browser saying:</p> <pre><code>Hello World! I have been seen 1 times.\n</code></pre> <p>Step 5: Edit the Compose file to add a bind mount</p> <p>Edit <code>docker-compose.yml</code> in your project directory to add a bind mount for the <code>web</code> service:</p> <pre><code>version: \"3.9\"\nservices:\nweb:\nbuild: .\nports:\n- \"8000:5000\"\nvolumes:\n- .:/code\nenvironment:\nFLASK_DEBUG: \"true\"\nredis:\nimage: \"redis:alpine\"\n</code></pre> <p>The new <code>volumes</code> key mounts the project directory (current directory) on the host to <code>/code</code> inside the container, allowing you to modify the code on the fly, without having to rebuild the image. The <code>environment</code> key sets the <code>FLASK_DEBUG</code> environment variable, which tells <code>flask run</code> to run in development mode and reload the code on change. This mode should only be used in development.</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#docker-compose_1","title":"docker-compose\u8865\u5145","text":"<pre><code># \u5982\u679c DokerFile \u53d8\u52a8 \u9700\u8981\u91cd\u65b0\u6784\u5efa image\ndocker compose build\n\n# \u540e\u53f0\u8fd0\u884c\u5bb9\u5668\ndocker compose up -d\n\n# \u5728\u8fd0\u884c\u7684\u955c\u50cf(\u9700\u8981\u5b89\u88c5\u4e86bash)\u4e2d\u6267\u884c\u547d\u4ee4\ndocker compose exec Server_Name /bin/bash\n\n# \u91cd\u8981\uff01!! \u4e0d\u8981\u4f7f\u7528 docker stop&amp;rm ContainId \u91cd\u542f, \u5426\u5219\u6570\u636e\u4f1a\u51b2\u6389\n# pip install ctop\nctop # \u9009\u62e9\u5bf9\u5e94\u5bb9\u5668 restart \u5373\u53ef, \u6ce8\u610f\u68c0\u67e5\u4e0b\u624b\u52a8\u542f\u52a8\u7684\u670d\u52a1\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#docker-compose_2","title":"\u8f83\u590d\u6742\u7684docker-compose","text":"<pre><code># docker-compose.yml\nversion: \"3.3\"\nservices:\nweb:\nimage: \"xxx.xxx.xxx.xxx:9004/calc-web:1.0.0\"\n# build:\n#   context: .\n#   dockerfile: Dockerfile_web\nports:\n- \"9004:5000\"\nvolumes:\n- ./code:/code   # \u4e3b\u673a\u76ee\u5f55:\u5bb9\u5668\u5185\u76ee\u5f55\nenvironment:\nFLASK_DEBUG: \"false\"\nredis:\nimage: \"redis:alpine\"\nsvn:\nimage: \"xxx.xxx.xxx.xxx:9004/calc-svn:1.0.0\"\n# build:\n#   context: .\n#   dockerfile: Dockerfile_svn\nvolumes:\n- ./code:/code   # \u4e3b\u673a\u76ee\u5f55:\u5bb9\u5668\u5185\u76ee\u5f55\n</code></pre> <pre><code># Dockerfile_web\nFROM python:3.7-alpine\nWORKDIR /code\nENV FLASK_APP=app.py\nENV FLASK_RUN_HOST=0.0.0.0\nRUN apk add --no-cache gcc musl-dev linux-headers\nCOPY requirements.txt requirements.txt\nRUN pip install -r requirements.txt\nEXPOSE 5000\n# COPY . .\nCMD [\"flask\", \"run\"]\n</code></pre> <pre><code># Dockerfile_svn\nFROM ubuntu:20.04\nWORKDIR /code\nRUN apt-get update &amp;&amp; apt-get install cron -y &amp;&amp; apt-get install python3 -y &amp;&amp; apt-get install subversion -y\n# Copy daily-cron file to the cron.d directory\nCOPY daily-cron /etc/cron.d/daily-cron\n# Give execution rights on the cron job\nRUN chmod 0644 /etc/cron.d/daily-cron\n# Apply cron job\nRUN crontab /etc/cron.d/daily-cron\n# Create the log file to be able to run tail\nRUN touch /var/log/cron.log\n# Run the command on container startup, \u9632\u6b62Exited(2)\nCMD service cron start &amp;&amp; tail -f /var/log/cron.log\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#docker","title":"\u5e38\u7528docker\u4ed3\u5e93","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#pythonjupyterlab","title":"python/jupyterlab \u955c\u50cf","text":"<pre><code>FROM jupyter:latest\nWORKDIR /jupyter\nEXPOSE 8888\nCMD [\"bash\", \"-c\", \"jupyter lab --notebook-dir=/jupyter --ip 0.0.0.0 --no-browser --allow-root\"]\n</code></pre> <pre><code>docker build . --file Dockerfile --tag image-python/python-3.9\ndocker run --rm -p 8888:8888 jupyter/base-notebook:latest\n</code></pre> <p>Or</p> <p>github\u81ea\u52a8\u6784\u5efa - \u8fd9\u4e2a\u5305\u5305\u542b\u4e86java\u73af\u5883\uff0c\u592a\u5927\u4e0d\u5efa\u8bae\u4f7f\u7528</p> <pre><code>docker run --name image_python -d  -p 8888:8888 registry.cn-shenzhen.aliyuncs.com/hanlp/hanlp_lab\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/docker/#play-with-docker","title":"play-with-docker","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/git/","title":"git","text":"<ul> <li>\u914d\u7f6e</li> </ul> <pre><code># add\u6587\u4ef6\u663e\u793a\u4e71\u7801\ngit config --global core.quotepath false core.quotepath=false\n# LF will be replaced by CRLF the next time Git touches it\ngit config --global core.autocrlf true\n</code></pre> <p>\u914d\u7f6e\u63d0\u4ea4\u4fe1\u606f</p> <pre><code># \u672c\u9879\u76ee\ngit config --local user.email \"you@example.com\"\ngit config --local user.name \"Your Name\"\n# \u5168\u5c40\ngit config --global user.email \"hacker.do@163.com\"\ngit config --global user.name \"Mark\"\n</code></pre> <ul> <li>\u65b0\u5efa\u65b0\u4ed3\u5e93</li> </ul> <pre><code>git clone https://jihulab.com/1987/mydocs.git\ncd mydocs\ngit switch -c main\ntouch README.md\ngit add README.md\ngit commit -m \"add README\"\ngit push -u origin main\n</code></pre> <ul> <li>\u63a8\u9001\u73b0\u6709\u672c\u5730\u4ed3\u5e93</li> </ul> <pre><code>git init --initial-branch=main\ngit remote add origin https://jihulab.com/1987/mydocs.git\ngit add .\ngit commit -m \"Initial commit\"\ngit push -u origin main\n</code></pre> <ul> <li>\u63a8\u9001\u73b0\u6709\u8fdc\u7a0b\u4ed3\u5e93</li> </ul> <pre><code>git remote rename origin old-origin\ngit remote add origin https://jihulab.com/1987/mydocs.git\ngit push -u origin --all\ngit push -u origin --tags\n</code></pre> <ul> <li>\u83b7\u53d6add\u672acommit\u4fee\u6539</li> </ul> <pre><code>git add\ngit diff --cached\n</code></pre> <ul> <li>\u5220\u9664\u672a\u5ffd\u7565\u4e14\u5df2\u7ecfpush\u5230\u8fdc\u7a0b\u7684\u6587\u4ef6</li> </ul> <pre><code>git rm -r --cached xxx\n# \u4fee\u6539.gitignore\ngit add .\ngit commit -am \"gitignore\u6587\u4ef6\u4fee\u6539\u5220\u9664XXX\u6587\u4ef6\"\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/git/#git","title":"git\u8fdb\u9636\u7528\u6cd5","text":"<p>github\u7684Page\u5f00\u542f\u9700\u8981\u516c\u5f00\u4ed3\u5e93\u6216\u8005\u4ed8\u8d39, \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u79c1\u6709, \u901a\u8fc7Action\u63a8\u9001\u9700\u8981\u7684\u5206\u652f\u5230\u53e6\u5916\u4e00\u4e2a\u516c\u5f00\u4ed3\u5e93\u7528\u4e8epage</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/git/#_1","title":"\u7f51\u7edc\u95ee\u9898","text":"<p>fatal: unable to access 'https://github.com/fantasy-mark/v5_docs.git/': Failed to connect to github.com port 443 after 21101 ms: Couldn't connect to server</p> <p>\u4fee\u6539 hosts\u6587\u4ef6 \u89e3\u51b3</p> <pre><code># localhost name resolution is handled within DNS itself.\n# 127.0.0.1 localhost\n# ::1 localhost20.205.243.166 github.com\n</code></pre> <pre><code>ipconfig /flushdns\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/gradle%E7%BC%96%E8%AF%91/","title":"gradle\u7f16\u8bd1","text":"<ul> <li>\u5e38\u89c1\u95ee\u9898:<ul> <li>sync project with gradle \u8d85\u65f6</li> <li>AGP\u7248\u672c\u4e0d\u5bf9</li> </ul> </li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/gradle%E7%BC%96%E8%AF%91/#_1","title":"\u5e38\u89c1\u95ee\u9898:","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/gradle%E7%BC%96%E8%AF%91/#sync-project-with-gradle","title":"sync project with gradle \u8d85\u65f6","text":"<p>\u5899\u95ee\u9898\uff0c\u66f4\u6362\u4e3a\u963f\u91cc\u6e90\u5373\u53ef</p> <pre><code>// settings.gradle\npluginManagement {\nrepositories {\nmaven { url 'https://plugins.gradle.org/m2/' }\nmaven { url 'https://maven.aliyun.com/nexus/content/repositories/google' }\nmaven { url 'https://maven.aliyun.com/nexus/content/groups/public' }\nmaven { url 'https://maven.aliyun.com/nexus/content/repositories/jcenter'}\ngradlePluginPortal()\ngoogle()\nmavenCentral()\nmaven { url \"https://jitpack.io\" }\n}\n}\ndependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\nmaven { url 'https://plugins.gradle.org/m2/' }\nmaven { url 'https://maven.aliyun.com/nexus/content/repositories/google' }\nmaven { url 'https://maven.aliyun.com/nexus/content/groups/public' }\nmaven { url 'https://maven.aliyun.com/nexus/content/repositories/jcenter'}\ngoogle()\nmavenCentral()\nmaven { url \"https://jitpack.io\" }\n}\n}\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/gradle%E7%BC%96%E8%AF%91/#agp","title":"AGP\u7248\u672c\u4e0d\u5bf9","text":"<p>The project is using an incompatible version (AGP 7.3.1) of the Android Gradle plugin. Latest supported version is AGP 7.2.1</p> <pre><code>// \u8fd9\u91cc\u6309\u7167\u63d0\u793a\u628a 'com.android.application' 'com.android.library' \u7248\u672c\u6539\u4e3a 7.2.1 \u5c31\u89e3\u51b3\u95ee\u9898\u4e86, \u539f\u56e0\u53ef\u4ee5\u770b\u4ee5\u4e0b\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\nid 'com.android.application' version '7.2.1' apply false\nid 'com.android.library' version '7.2.1' apply false\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n</code></pre> <p>\u8fd9\u91cc\u6709\u4e09\u4e2a\u6982\u5ff5\uff1a</p> <ol> <li>AS\uff08Android Studio\uff09\u7248\u672c - \u57fa\u672c\u4e0d\u6362IDE</li> <li>Gradle\u7248\u672c - \u9879\u76ee\u5305\u542b\u4e0b\u8f7d\u4e86\u4e00\u822c\u4e0d\u6539</li> <li>AGP\uff08Android Gradle Plugin\uff09\u7248\u672c - \u914d\u7f6e\u811a\u672c\u5c31\u597d\uff0c\u4e00\u822c\u52a8\u8fd9\u4e2a</li> </ol> <p>\u6240\u4ee5\u4e00\u822c\u786e\u8ba4\u66f4\u6539AGP\u7248\u672c\u53f7\u6d41\u7a0b AS -&gt; Gradle -&gt; AGP</p> <p>gradle\u6587\u6863</p> <p></p> <p>\u9996\u5148 <code>Android Studio</code> \u6709\u4e00\u4e2a\u652f\u6301Gradle\u63d2\u4ef6\u7684\u8303\u56f4\uff08\u67e5\u770b Help-About \u53ef\u89c1\u7248\u672c\uff09\uff0c\u7136\u540e\u4ece\u9879\u76ee <code>gradle-wrapper.properties</code> \u6587\u4ef6\u770b\u4f7f\u7528\u7684Gradle\u7248\u672c\uff08\u5b83\u6709\u6700\u4f4e\u7684\u63d2\u4ef6\uff09</p> <p>\u53ef\u4ee5\u770b\u5230\u63d2\u4ef6\u7248\u672c\u4e3a 7.2.x\u65f6\u53ea\u8981gradle\u7248\u672c\u5927\u4e8e7.3.3\u5373\u53ef\uff0cas\u6ee1\u8db3\u6761\u4ef6</p> <p></p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/jetbrains_IDE/","title":"jetbrains_IDE","text":"<ul> <li>\u4e0b\u8f7d</li> <li>\u5e38\u7528\u63d2\u4ef6</li> <li>\u5e38\u7528\u5feb\u6377\u952e</li> <li>\u8bbe\u7f6essh\u8fdc\u7a0b\u540c\u6b65</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/jetbrains_IDE/#_1","title":"\u4e0b\u8f7d","text":"<p>Essential tools for software developers and teams</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/jetbrains_IDE/#_2","title":"\u5e38\u7528\u63d2\u4ef6","text":"<ul> <li>IdeaVim - vim\u5728idea\u4e0a\u7684\u63d2\u4ef6</li> <li>NewChatGPT - \u767d\u5ad6GPT\uff0c\u6bcf\u592920\u6b21</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/jetbrains_IDE/#_3","title":"\u5e38\u7528\u5feb\u6377\u952e","text":"<p>\u7cfb\u7edf\uff1a</p> <ol> <li>Alt + Enter\uff1a\u6839\u636e\u63d0\u793a\u8865\u5168\u4ee3\u7801</li> <li>Ctrl + Tab\uff1a\u5728\u4e0d\u540c\u7a97\u53e3\u4e4b\u95f4\u5207\u6362</li> <li>Ctrl + Tab\uff1a\u5728\u4e0d\u540c\u7a97\u53e3\u4e4b\u95f4\u5207\u6362</li> </ol> <p>\u529f\u80fd\uff1a</p> <ol> <li>Ctrl + N\uff1a\u5feb\u901f\u67e5\u627e\u7c7b</li> <li>Ctrl + Shift + N\uff1a\u5feb\u901f\u67e5\u627e\u6587\u4ef6</li> <li>Ctrl + Alt + L\uff1a\u5bf9\u4ee3\u7801\u8fdb\u884c\u683c\u5f0f\u5316</li> <li>Ctrl + /\uff1a\u6ce8\u91ca\u6216\u53d6\u6d88\u6ce8\u91ca</li> <li>Ctrl + Shift + F\uff1a\u5168\u5c40\u67e5\u627e</li> <li>Ctrl + Shift + R\uff1a\u5168\u5c40\u66ff\u6362</li> </ol>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/jetbrains_IDE/#ssh","title":"\u8bbe\u7f6essh\u8fdc\u7a0b\u540c\u6b65","text":"<ul> <li>Automatic Upload(Alway) - \u81ea\u52a8\u540c\u6b65\u672c\u5730\u4fee\u6539\u5230\u8fdc\u7a0b</li> <li>\u53ef\u4ee5\u901a\u8fc7RemoteHost\u4e2d\u901a\u8fc7Exclude Path\u6765\u63a7\u5236\u662f\u5426\u53c2\u4e0e\u540c\u6b65</li> <li>\u76f4\u63a5\u767b\u5f55\u8fdc\u7a0b\u4fee\u6539\u6587\u4ef6\u4e0d\u4f1a\u540c\u6b65\u5230\u672c\u5730\uff0c\u9700\u8981\u624b\u52a8Download\u8986\u76d6</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/","title":"mkdocs","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/#_1","title":"\u521b\u5efa\u9879\u76ee","text":"<pre><code>   3 pip install mkdocs mkdocs-material\n   # \u521b\u5efa\u9879\u76ee\n5 mkdocs new my-project\n   # \u6dfb\u52a0\u4e3b\u9898 name: material\n8 notepad.exe .\\mkdocs.yml\n  13 mkdocs serve\n  15 git init .\n  16 git remote add origin https://gitee.com/git4mark/docs.git\n  19 git add .\n  20 git commit -m \"1st build\"\n24 git push --set-upstream origin master\n  25 git push\n  # \u6b64\u64cd\u4f5c\u662f\u63a8\u9001\u5230gh-pages\u5206\u652f\uff0c\u5fc5\u987b\u8fd9\u4e48\u505a\uff01\n26 mkdocs.exe gh-deploy\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/#gitee","title":"gitee\u8bbe\u7f6e","text":"<p>\u9879\u76ee\u9875\u9762-\u300b\u670d\u52a1\u6807\u7b7e-\u300bGitee Pages\u6253\u5f00\u914d\u7f6e</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/#_2","title":"\u6587\u6863\u914d\u7f6e","text":"<p>yaml</p> <p>mkdocs</p> <ul> <li>\u5de6\u4fa7\u5bfc\u822a\u6761</li> </ul> <pre><code>nav:\n- \u4e00. \u4ecb\u7ecd: index.md\n- \u4e8c. \u5b89\u88c5:\n- 1. \u672c\u5730\u73af\u5883\u642d\u5efa: install/local.md\n- 2. \u53d1\u5e03\u81f3GitHub Pages: install/github-pages.md\n- 3. \u53d1\u5e03\u81f3\u81ea\u5df1\u7684HTTP Server: install/http-server.md\n- \u4e09. \u8bed\u6cd5:\n- 1. \u8bed\u6cd5\u603b\u89c8: syntax/main.md\n- 2. \u6807\u9898: syntax/headline.md\n- 3. \u6bb5\u843d: syntax/paragraph.md # (1)\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/#drawio","title":"\u8fdb\u9636\uff08\u642d\u914ddrawio\uff09","text":"<p>\u53c2\u8003</p> <ul> <li>\u5b89\u88c5</li> </ul> <pre><code>pip install mkdocs-drawio-exporter\n</code></pre> <ul> <li>\u914d\u7f6e</li> </ul> <p>1\uff09\u9700\u8981\u5b89\u88c5draw.io\u4e14\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u5230PATH</p> <p>2\uff09draw\u6587\u4ef6\u8def\u5f84\u4e0d\u80fd\u5305\u542b\u4e2d\u6587</p> <p>3\uff09 yaml\u6587\u4ef6\u4e2d\u914d\u7f6e</p> <pre><code>plugins:\n- search # built-in search must be always activated\n- drawio-exporter\n</code></pre> <ul> <li>\u4f7f\u7528</li> </ul> <pre><code>![My alt text](my-diagram.drawio)\n# \u591a\u9875\n![Page 1](my-diagram.drawio#0)\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/mkdocs/#_3","title":"\u963f\u91cc\u4e91\u90e8\u7f72","text":"<ul> <li>\u7279\u522b\u5730,\u5f00\u542f\u7aef\u53e3\u5728 \u4e91\u670d\u52a1\u5668ECS -&gt; \u5b89\u5168\u7ec4 -&gt; \u7ba1\u7406\u5b9e\u4f8b(\u5bf9\u5e94\u5b9e\u4f8b) -&gt; \u624b\u52a8\u6dfb\u52a0 <p>\u4ee5\u4e0b\u8868\u793a\u5f00\u542f9000-9001\u7aef\u53e3</p> </li> </ul> \u6388\u6743\u7b56\u7565 \u4f18\u5148\u7ea7 \u534f\u8bae\u7c7b\u578b \u7aef\u53e3\u8303\u56f4 \u6388\u6743\u5bf9\u8c61 \u63cf\u8ff0 \u521b\u5efa\u65f6\u95f4 \u64cd\u4f5c \u5141\u8bb8 1 \u81ea\u5b9a\u4e49 TCP \u76ee\u7684:9000/9100 \u6e90:0.0.0.0/0 docker 2023\u5e746\u670820\u65e5 10:05:58 \u7f16\u8f91\u590d\u5236\u5220\u9664 <pre><code># \u5b89\u88c5\u542f\u7528 nginx\nsudo apt update\nsudo apt install nginx\nsudo systemctl status nginx\n# \u5141\u8bb8\u6d41\u91cf\u901a\u8fc7 HTTP\uff0880\uff09\u548c HTTPS\uff08443\uff09\u7aef\u53e3\nsudo ufw allow 'Nginx Full'\nsudo ufw status\n# \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\nvi /etc/nginx/sites-available/default\n</code></pre> <pre><code>server {\nlisten 80 default_server;\nlisten [::]:80 default_server;\n...\n# \u6539\u4e3amkdocs\u76ee\u5f55\u8def\u5f84\uff0c\u5fc5\u987b\u653e\u7f6e\u5728/var/www/\u76ee\u5f55\u4e0b\nroot /var/www/mydocs;\n}\n</code></pre> <pre><code># \u90e8\u7f72 mkdocs \u9879\u76ee\ngit clone https://github.com/fantasy-mark/mydocs.git\ngit checkout gh-pages\ngit pull\n</code></pre> <pre><code># \u91cd\u8f7dnginx\u670d\u52a1\nnginx -s reload\nnginx -s stop\nnginx\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/","title":"neo4j","text":"<ul> <li>\u5b89\u88c5</li> <li>\u4f7f\u7528</li> <li>\u8fdb\u9636-cypher\u8bed\u6cd5<ul> <li>CREATE</li> <li>MATCH</li> <li>MERGE</li> <li>USE</li> <li>LOAD CSV</li> </ul> </li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#_1","title":"\u5b89\u88c5","text":"<ol> <li>\u4e0b\u8f7dcommunity\u7248\u672c</li> <li> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> </li> <li> <p><code>NEO4J_HOME</code>  : <code>E:\\neo4j-community-5.6.0</code></p> </li> <li> <p><code>PATH</code> : <code>%NEO4J_HOME%\\bin</code></p> </li> </ol>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#_2","title":"\u4f7f\u7528","text":"<ol> <li>\u542f\u52a8<code>neo4j</code></li> </ol> <pre><code>neo4j.bat console\n</code></pre> <ol> <li> <p>\u6d4f\u89c8\u5668\u767b\u5f55</p> </li> <li> <p>\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801 <code>neo4j\uff0c</code>\u521d\u6b21\u767b\u5f55\u9700\u8981\u66f4\u6539\u5bc6\u7801</p> </li> <li> <p>\u6d4b\u8bd5\u662f\u5426\u751f\u6210\u8282\u70b9</p> </li> </ol> <pre><code>create(e:Person{name:\"\u674e\u56db\"}) return e\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#-cypher","title":"\u8fdb\u9636-cypher\u8bed\u6cd5","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#create","title":"CREATE","text":"<pre><code>-- \u8282\u70b9\u521b\u5efa\nCREATE (oliver:Person {name: 'Oliver Stone'}) CREATE (WallStreet:Movie {title: 'Wall Street'}) -- \u521b\u5efa\u5173\u7cfb \nCREATE (oliver)-[:DIRECTED]-&gt;(WallStreet)\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#match","title":"MATCH","text":"<pre><code>-- \u5e26\u6807\u7b7e\u8282\u70b9\u67e5\u8be2\nMATCH (movie:Movie)\nRETURN movie.title\n-- \u5e26\u6807\u7b7e\u8282\u70b9\u67e5\u8be2, \u4e0e'Oliver Stone'\u76f8\u5173\u7684\u7535\u5f71\u540d\nMATCH (:Person { name: 'Oliver Stone' })--(movie:Movie)\nRETURN movie.title\n-- \u6307\u5b9a\u5173\u7cfb\u7c7b\u578b\uff0cACTED_IN\u662f\u521b\u5efa\u8282\u70b9\u65f6\u81ea\u5b9a\u4e49\u7684\u5173\u7cfb\nMATCH (wallstreet:Movie { title: 'Wall Street' })&lt;-[:ACTED_IN]-(actor)\nRETURN actor.name\n</code></pre> <ul> <li><code>shortestPath</code>\u6700\u77ed\u8def\u5f84,\u5e26\u7ea6\u675f\u7684\u6700\u77ed\u8def\u5f84\uff0c\u4f7f\u7528WHERE</li> </ul> <pre><code>-- Single shortest path with predicates\n-- \u4e0d\u8003\u8651father/son \u7684\u5173\u7cfb\nMATCH (charlie:Person { name: 'Charlie Sheen' }),(martin:Person { name: 'Marlin Sheen' }), p = shortestPath((charlie)-[*]-(martin))\nWHERE NONE (r IN relationships(p) WHERE type(r)= 'FATHER')\nRETURN p\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#merge","title":"MERGE","text":"<pre><code>-- MERGE\u786e\u4fdd\u6a21\u5f0f\u5728graph\u4e2d\u5b58\u5728\uff0c\u8981\u4e48\u5df2\u7ecf\u5b58\u5728\u8981\u4e48\u521b\u5efa\n-- MERGE\u5e26\u6807\u7b7e\u548c\u5c5e\u6027\u7684\u8282\u70b9\nMERGE (michael:Person { name: 'Michael Douglas' })\nRETURN michael.name, michael.bornIn\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#use","title":"USE","text":"<ul> <li>\u6307\u5b9a\u90a3\u4e2agraph\u5c06\u88ab\u67e5\u8be2</li> </ul>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/neo4j/#load-csv","title":"LOAD CSV","text":"<ul> <li>\u7528\u4e8e\u5bfc\u5165csv\u6587\u4ef6</li> <li>FROM\u540e\u9762\u63a5\u7740csv\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u7528AS\u6307\u5b9a\u7ed9\u53d8\u91cf</li> <li>\u53ef\u4ee5\u4eceHTTPS\u3001HTTP\u3001FTP\u5bfc\u5165CSV</li> </ul> <pre><code>-- \u5373\u4ececsv\u8bfb\u53d6\u6570\u636e\u65f6\u6bcf\u8bfb\u53d6500\u884c\u65f6\u5b58\u5165\u6570\u636e\u4e00\u6b21\nUSING PERIODIC COMMIT 500\nLOAD CSV FROM 'https://neo4j.com/docs/cypher-manual/4.1/csv/artists.csv' AS line\nCREATE (:Artist { name: line[1], year: toInteger(line[2])})\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/","title":"shell","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/#bash","title":"bash\u5c0f\u6280\u5de7","text":"<pre><code>mkdir very_long_dirname\n# !^/!$ \u6307\u4ee3 \u7b2c\u4e00/\u6700\u540e \u53c2\u6570, !:n \u6307\u4ee3\u7b2cn\u4e2a\u53c2\u6570(\u4ece1\u5f00\u59cb)\n# \u6bd4\u5982\u6253\u9519\u4e86 mvv one_dir other_dir\nmv !^ !$\n\n# \u6267\u884c\u4e0a\u6761\u547d\u4ee4, \u4e0a\u4e0a\u6761\u5219 !-2\n!!\n# \u6267\u884c history \u5bf9\u5e94 index \u547d\u4ee4\n!1152\n\n# ctrl + r \u641c\u7d22\u5386\u53f2\u547d\u4ee4\n# ctrl + a \u5149\u6807\u79fb\u52a8\u6700\u524d\n# ctrl + e \u5149\u6807\u79fb\u52a8\u6700\u540e\n# ctrl + h \u5220\u9664\u5149\u6807\u524d\u9762\u4e00\u4e2a\u5b57\u7b26\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/#splitcat-","title":"split/cat - \u6587\u4ef6\u5206\u5272\u3001\u7ec4\u5408","text":"<pre><code>split -b 50m all.tar part_\ncat part_* &gt; all.tar\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/#find-","title":"find - \u641c\u7d22","text":"<pre><code>find . -name \"*.py\" | xargs grep \"print(path)\"\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/#curl-","title":"curl - \u4e0b\u8f7d","text":"<pre><code># \u65ad\u70b9\u7eed\u4f20\u4e0b\u8f7d\u6587\u4ef6, \u9700\u8981\u670d\u52a1\u5668\u89e3\u6790Content-Range\u8bf7\u6c42\u5934\ncurl -C - -O https://releases.ubuntu.com/22.04/ubuntu-22.04-desktop-amd64.iso\n# Restful \u8bf7\u6c42\ncurl -X POST --data 'keyword=value' http://domain.com/mypath/\n# \u6dfb\u52a0\u5934\u90e8\ncurl -H 'Content-Type:application/json' -H 'Authorization: bearer MyToken' http://domain.com/mypath/\n# \u8bbe\u7f6e\u4ee3\u7406\ncurl -x socks5://proxyuser:proxypassword@proxy.domain.com:8001 https://domain.com/mypath/\n# \u5e2e\u52a9\ncurl --help all\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/shell/#cron-","title":"cron - \u5b9a\u65f6\u4efb\u52a1","text":"<pre><code>servicec cron start\nservice cron status\n * cron is running\n\ncat /etc/cron.d/daily-cron\n# \u6bcf3\u5206\u949f\u6267\u884c\u4e00\u6b21\n# */3 * * * * date &gt;&gt; /var/log/cron.log 2&gt;&amp;1\n# \u6bcf3\u5c0f\u65f6\u6267\u884c\u4e00\u6b21\n# 0 */3 * * * cd /code &amp;&amp; python3 daily.py\n# \u7f16\u8f91daily-cron\u540e\u5fc5\u987b\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\ncrontab /etc/cron.d/daily-cron service cron reload\nservice cron restart\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/vue/","title":"vue","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/vue/#_1","title":"\u53c2\u8003","text":"<p>echarts</p> <p>element-plus</p> <p>vue</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/vue/#_2","title":"\u73af\u5883\u914d\u7f6e","text":"<ul> <li>\u521d\u59cb\u5316vue\u9879\u76ee</li> </ul> <pre><code>npm init vite@latest\n\n# Need to install the following packages:\n#   create-vite@4.4.1\n# Ok to proceed? (y) y\n# \u221a Project name: ... element-plus\n# \u221a Select a framework: \u00bb Vue\n# \u221a Select a variant: \u00bb Customize with create-vue \u2197\n# \n# Vue.js - The Progressive JavaScript Framework\n# \n# \u221a Add TypeScript? ... [\u221a]No / Yes\n# \u221a Add JSX Support? ... [\u221a]No / Yes\n# \u221a Add Vue Router for Single Page Application development? ... [\u221a]No / Yes\n# \u221a Add Pinia for state management? ... [\u221a]No / Yes\n# \u221a Add Vitest for Unit Testing? ... [\u221a]No / Yes\n# \u221a Add an End-to-End Testing Solution? \u00bb [\u221a]No\n# \u221a Add ESLint for code quality? ... [\u221a]No / Yes\n# \n# Scaffolding project in D:\\vue_project\\element-plus...\n# \n# Done. Now run:\ncd element-plus\nnpm install\nnpm run dev\n</code></pre> <ul> <li>\u5b89\u88c5\u63d2\u4ef6</li> </ul> <pre><code>npm install element-plus --save\n</code></pre> <ul> <li>main.js\u5bfc\u5165Element plus</li> </ul> <pre><code>import './assets/main.css'\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport zhCn from 'element-plus/es/locale/lang/zh-cn'\nconst app = createApp(App)\napp.use(ElementPlus, {\nsize: 'small',\nzIndex: 3000,\nlocale: zhCn\n})\napp.mount('#app')\n</code></pre> <ul> <li>\u5b9e\u4f8b\u5316\u57fa\u7840\u7ec4\u4ef6(App.vue\u6216components)</li> </ul> <pre><code>&lt;script setup&gt;\nimport { ref } from 'vue'\nconst time = ref(0)\nconst onClick = () =&gt; {\ntime.value ++\n}\n&lt;/script&gt;\n&lt;template&gt;\n&lt;el-button type=\"primary\" @click=\"onClick\"&gt;\u70b9\u51fb\u4e86{{time}}\u6b21&lt;/el-button&gt;\n&lt;/template&gt;\n</code></pre> <ul> <li>\u5b89\u88c5\u5e38\u7528\u7ec4\u4ef6</li> </ul> <pre><code>npm add --save-dev sass\nnpm install echarts vue-echarts\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/vue/#axios","title":"\u4f7f\u7528axios","text":"<ul> <li>\u524d\u7aef\u4ee3\u7801</li> </ul> <pre><code>// request.js\n// npm install axios\nimport axios from 'axios'\nconst request = axios.create({\nbaseURL: 'http://localhost:5432/api', // \u57fa\u7840\u8def\u5f84,\u5c06\u7edf\u4e00\u7684\u90e8\u5206\u5168\u90e8\u5c01\u88c5, 5432\u4e3aflask\u7aef\u53e3\nwithCredentials: true, // \u8868\u793a\u8bf7\u6c42\u53ef\u4ee5\u643a\u5e26cookie\n})\n//\u524d\u7aef\u91c7\u7528export.default\uff0c\u5728\u5199\u540e\u7aef\u4ee3\u7801\u65f6\u7528module.export\nexport default request\n</code></pre> <pre><code>//\u4f7f\u7528, flask\u9700\u8981\u914d\u7f6e\u8de8\u57df\u8bbf\u95ee\nrequest.get('/hello')\n.then(response =&gt; {\nconsole.log(response.data['message']);\n})\n.catch(error =&gt; {\nconsole.error(error);\n});\n</code></pre> <ul> <li>\u540e\u7aef\u4ee3\u7801</li> </ul> <pre><code># pip install flask-cors\nfrom flask_cors import CORS\nbp = Blueprint('analyse', __name__, url_prefix='/api')\n@bp.route('/hello')\ndef markdown():\nreturn jsonify({'message': 'hello'})\ndef create_app(test_config=None):\napp = Flask(__name__, instance_relative_config=True)\n# http://localhost:5173\u4e3avue\u670d\u52a1\nCORS(app, origins='http://localhost:5173', methods=['GET', 'POST', 'PUT', 'DELETE'], allow_headers='Content-Type', supports_credentials=True)\napp.register_blueprint(bp)\nreturn app\nflask = create_app()\nif __name__ == '__main__':\nflask.run(host='0.0.0.0', port=5432)\n</code></pre>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/%E5%B8%B8%E7%94%A8%E7%8E%AF%E5%A2%83/","title":"\u5e38\u7528\u73af\u5883","text":""},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/%E5%B8%B8%E7%94%A8%E7%8E%AF%E5%A2%83/#chrome","title":"chrome\u63d2\u4ef6","text":"<ul> <li>\u6807\u7b7e\u5206\u7ec4\u6269\u5c55</li> <li>\u4e66\u7b7e\u7ba1\u7406</li> <li>vimium</li> <li>crxMouse</li> <li>ToDo</li> </ul> <p>vpn</p> <ul> <li>\u6f6e\u6c50</li> </ul> <p>\u901f\u5ea6\u8fd8\u884c\uff0c\u7a33\u5b9a\uff0c\u6bcf\u670815\u5143\uff0c\u5168\u7403\u8282\u70b9\u90fd\u6709</p>"},{"location":"%E5%B7%A5%E5%85%B7%E3%80%81%E7%8E%AF%E5%A2%83/%E5%B8%B8%E7%94%A8%E7%8E%AF%E5%A2%83/#oracle","title":"oracle \u6570\u636e\u5e93\u6d4f\u89c8","text":"<p>\u4e0b\u8f7d dbeaver</p> <p>\u89e3\u51b3\u9a71\u52a8\u95ee\u9898 \uff1a \u7a97\u53e3  -&gt;  \u9996\u9009\u9879  --&gt;  \u9a71\u52a8  --&gt;  Maven  \u52a0\u5165\u963f\u91cc\u4e91\u4ed3\u5e93\u5e76\u79fb\u5230\u6700\u4e0a</p> <pre><code>http://maven.aliyun.com/nexus/content/groups/public/\n</code></pre>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/ART%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/","title":"ART\u6d41\u7a0b\u5206\u6790","text":"<ul> <li>ART\u865a\u62df\u673a\u542f\u52a8\u5206\u6790</li> <li>ART\u865a\u62df\u673a\u8fd0\u884c\u5206\u6790</li> </ul> <p>\u6d41\u7a0b\u57fa\u4e8e android 11\u6e90\u7801 \uff0c \u53c2\u8003 \u8001\u7f57\u7684\u535a\u5ba2</p> <ul> <li> <p>Android\u8fdb\u7a0bfork\u81eaZygote\u8fdb\u7a0b\uff0c\u672c\u8d28\u8fd8\u662fLinux\u8fdb\u7a0b</p> </li> <li> <p>ART\u865a\u62df\u673a\u6d41\u7a0b\u53ef\u4ee5\u9605\u8bfb\u4ee5\u4e0b\u51e0\u4e2a\u7c7b\u5e2e\u52a9\u68b3\u7406\u6574\u4e2ajvm\u6846\u67b6\u3002</p> </li> </ul> <p>runtime\u3001thread_list\u3001thread\u3001signal_catcher\u3001class_linker\u3001intern_table\u3001java_vm_ext</p> <ul> <li>JVM\u5bf9\u5e94\u8fdb\u7a0b\uff0cJNIEev\u662f\u7ebf\u7a0b\u72ec\u6709</li> </ul>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/ART%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/#art","title":"ART\u865a\u62df\u673a\u542f\u52a8\u5206\u6790","text":"<ol> <li> <p>\u521b\u5efa\u4e86\u865a\u62df\u673a\u5b9e\u4f8b\uff1b</p> </li> <li> <p>\u52a0\u8f7d\u4e86Java\u6838\u5fc3\u7c7b\uff08\u7531zygote\uff09\u53ca\u5176JNI\u65b9\u6cd5\uff1b</p> </li> <li> <p>\u4e3a\u4e3b\u7ebf\u7a0b\u7684\u8bbe\u7f6e\u4e86\u4e00\u4e2aJNI\u73af\u5883\uff1b</p> </li> <li> <p>\u6ce8\u518c\u4e86Android\u6838\u5fc3\u7c7b\u7684JNI\u65b9\u6cd5\u3002</p> </li> </ol> <p></p> <pre><code>//init.rc\nservice zygote /system/bin/app_process -Xzygote /system/bin --zygote --start-system-server\nxref: /frameworks/base/cmds/app_process/app_main.cpp\n173  int main(int argc, char* const argv[])\n185      AppRuntime runtime(argv[0], computeArgBlockSize(argc, argv));\n-&gt;\n34  class AppRuntime : public AndroidRuntime\n338          runtime.start(\"com.android.internal.os.RuntimeInit\", args, zygote);\n//=============================================================================================\nxref: /frameworks/base/core/jni/AndroidRuntime.cpp\n1136  void AndroidRuntime::start(const char* className, const Vector&lt;String8&gt;&amp; options, bool zygote)\n1193      if (startVm(&amp;mJavaVM, &amp;env, zygote, primary_zygote) != 0) {\n1201      if (startReg(env) &lt; 0) {  //\u8bbe\u7f6eNativeFrameStack\u5927\u5c0f\u3001\u6ce8\u518cJNI\u51fd\u6570\n1239          jmethodID startMeth = env-&gt;GetStaticMethodID(startClass, \"main\",\n1240              \"([Ljava/lang/String;)V\");\n1245              env-&gt;CallStaticVoidMethod(startClass, startMeth, strArray);   //ART\u865a\u62df\u673a\u771f\u6b63\u8fd0\u884c\n-&gt;\n609  int AndroidRuntime::startVm(JavaVM** pJavaVM, JNIEnv** pEnv, bool zygote, bool primary_zygote)\n1095      if (JNI_CreateJavaVM(pJavaVM, pEnv, &amp;initArgs) &lt; 0) {\n//=============================================================================================\nxref: /art/runtime/jni/java_vm_ext.cc\n1195  extern \"C\" jint JNI_CreateJavaVM(JavaVM** p_vm, JNIEnv** p_env, void* vm_args) {\n1225    *p_env = Thread::Current()-&gt;GetJniEnv();    //\u83b7\u53d6\u4e4b\u524d\u5df2\u7ecf\u5728Attach\u6d41\u7a0b\u5b9e\u4f8b\u5316JniEnv\n1226    *p_vm = runtime-&gt;GetJavaVM();\n</code></pre> <ul> <li>JniEnv\u521b\u5efa\u5728JNIEnvExt::Create\uff0c\u4e3b\u8981\u521d\u59cb\u5316\u4e86native\u51fd\u6570\u8868\u3002</li> </ul> <pre><code>xref: /art/runtime/thread.cc\n980  Thread* Thread::Attach(const char* thread_name, bool as_daemon, PeerAction peer_action) {\n999        bool init_success = self-&gt;Init(runtime-&gt;GetThreadList(), runtime-&gt;GetJavaVM());\n-&gt;\n967      tlsPtr_.jni_env = JNIEnvExt::Create(this, java_vm, &amp;error_msg);\n//=============================================================================================\nxref: /art/runtime/jni/jni_env_ext.cc\n68  JNIEnvExt* JNIEnvExt::Create(Thread* self_in, JavaVMExt* vm_in, std::string* error_msg) {\n69    std::unique_ptr&lt;JNIEnvExt&gt; ret(new JNIEnvExt(self_in, vm_in, error_msg));\n-&gt;\n76  JNIEnvExt::JNIEnvExt(Thread* self_in, JavaVMExt* vm_in, std::string* error_msg)\n87    functions = GetFunctionTable(check_jni_);\n-&gt;\n323    return check_jni ? GetCheckJniNativeInterface() : GetJniNativeInterface();   //AndroidMainfest.xml\u4e2ddebuggable\u63a7\u5236\n//=============================================================================================\nxref: /art/runtime/jni/jni_internal.cc\n2962  const JNINativeInterface* GetJniNativeInterface() {\n2963    // The template argument is passed down through the Encode/DecodeArtMethod/Field calls so if\n2964    // JniIdType is kPointer the calls will be a simple cast with no branches. This ensures that\n2965    // the normal case is still fast.\n2966    return Runtime::Current()-&gt;GetJniIdType() == JniIdType::kPointer\n2967               ? &amp;JniNativeInterfaceFunctions&lt;false&gt;::gJniNativeInterface\n2968               : &amp;JniNativeInterfaceFunctions&lt;true&gt;::gJniNativeInterface;\n2969  }\n</code></pre> <ul> <li>JavaVM\u521b\u5efa\u5728JavaVMExt::Create\u4e2d\uff0c\u4e3b\u8981\u8bbe\u7f6ejvm\u53c2\u6570\u3001\u8bbe\u7f6eaot\u7f16\u8bd1\u903b\u8f91\u7b49\uff0c\u4ee5\u53caattach\u4e3b\u7ebf\u7a0b</li> </ul> <pre><code>xref: /art/runtime/runtime.cc\n763  bool Runtime::Create(const RuntimeOptions&amp; raw_options, bool ignore_unrecognized) {\n765    return ParseOptions(raw_options, ignore_unrecognized, &amp;runtime_options) &amp;&amp;\n766        Create(std::move(runtime_options));\n746  bool Runtime::Create(RuntimeArgumentMap&amp;&amp; runtime_options) {\n751    instance_ = new Runtime;\n752    Locks::SetClientCallback(IsSafeToCallAbort);\n753    if (!instance_-&gt;Init(std::move(runtime_options))) {\n-&gt;\n1186  bool Runtime::Init(RuntimeArgumentMap&amp;&amp; runtime_options_in) {\n937    SetUpAlternateSignalStack();\n941    InitCpu();\n942    InitTlsEntryPoints();\n943    RemoveSuspendTrigger();\n944    InitCardTable();\n945    InitTid();\n... //\u521d\u59cb\u5316\u7684\u4ee3\u7801\u5f88\u957f\uff0c\u5305\u62ec\u8bbe\u7f6ejvm\u53c2\u6570\u3001aot\u7f16\u8bd1\u7684\u903b\u8f91\u7b49\u90fd\u5728\u8fd9\u91cc\u8fdb\u884c,java_vm_\u5c31\u662f\u5b9e\u4f8b\u5316\u7684vm\u5bf9\u8c61\n1536    java_vm_ = JavaVMExt::Create(this, runtime_options, &amp;error_msg);\n1551    Thread* self = Thread::Attach(\"main\", false, nullptr, false);   //main\u7ebf\u7a0b\u5728\u8fd9\u91cc\u7ed1\u5b9a\n</code></pre>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/ART%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/#art_1","title":"ART\u865a\u62df\u673a\u8fd0\u884c\u5206\u6790","text":"<pre><code>xref: /frameworks/base/core/jni/AndroidRuntime.cpp\n1136  void AndroidRuntime::start(const char* className, const Vector&lt;String8&gt;&amp; options, bool zygote)\n1245              env-&gt;CallStaticVoidMethod(startClass, startMeth, strArray);\nxref: /art/runtime/jni/check_jni.cc\n2311    static void CallStaticVoidMethod(JNIEnv* env, jclass c, jmethodID mid, ...) {\n2314      CallMethodV(__FUNCTION__, env, nullptr, c, mid, vargs, Primitive::kPrimVoid, kStatic);\n//\u8fd9\u91cc\u533a\u5206\u4e0d\u540c\u7684\u8c03\u7528\u7c7b\u578b\u6267\u884c\n3271            switch (invoke) {\n3272              case kVirtual:\n3273                result.L = baseEnv(env)-&gt;CallObjectMethodV(env, obj, mid, vargs);\n3274                break;\n3275              case kDirect:\n3276                result.L = baseEnv(env)-&gt;CallNonvirtualObjectMethodV(env, obj, c, mid, vargs);\n3277                break;\n3278              case kStatic:\n3279                result.L = baseEnv(env)-&gt;CallStaticObjectMethodV(env, c, mid, vargs);\n3280                break;\n3281              default:\n3282                LOG(FATAL) &lt;&lt; \"Unexpected invoke: \" &lt;&lt; invoke;\n3283            }\n</code></pre>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/binder%E8%B5%B0%E8%AF%BB/","title":"binder\u8d70\u8bfb","text":"<pre><code>// \u8c03\u7528\u5173\u7cfb\u94fe\n// /frameworks/native/cmds/servicemanager/service_manager.c\nmain\nbs = binder_open(driver, 128*1024);\nif (binder_become_context_manager(bs)) {\nbinder_loop(bs, svcmgr_handler);\n// /frameworks/native/cmds/servicemanager/binder.c\nbs-&gt;fd = open(driver, O_RDWR | O_CLOEXEC);\nint result = ioctl(bs-&gt;fd, BINDER_SET_CONTEXT_MGR_EXT, &amp;obj);\nresult = ioctl(bs-&gt;fd, BINDER_SET_CONTEXT_MGR, 0);\nres = ioctl(bs-&gt;fd, BINDER_WRITE_READ, &amp;bwr);\n// \u9a71\u52a8\u5c42\u7684binder...\n</code></pre> <ul> <li> <p>\u4e3a\u4ec0\u4e48\u4f7f\u7528socket\u4f5c\u4e3azygote\u901a\u4fe1</p> </li> <li> <p>zygote\u8fdb\u7a0b\u8fdb\u7a0b\u65e0\u6cd5\u4fdd\u8bc1\u6ce8\u518cBinder\u65f6\uff0cinit\u8fdb\u7a0b\u5df2\u7ecf\u5b8c\u6210SeverManger\u7684\u521d\u59cb\u5316</p> </li> <li>Binder\u670d\u52a1\u7aef\u4f1a\u521b\u5efa\u7ebf\u7a0b\u6765\u63a5\u6536Binder\u9a71\u52a8\u6570\u636e\uff0c\u800cfork\u591a\u7ebf\u7a0b\u7684\u8fdb\u7a0b\u5bb9\u6613\u9020\u6210\u6b7b\u9501</li> <li>\u5982\u679czygote\u8fdb\u7a0b\u4f7f\u7528Binder\u4f5c\u4e3a\u901a\u4fe1\uff0c\u5219\u6bcf\u6b21fork\u51fa\u6765\u7684\u8fdb\u7a0b\u591a\u4f7f\u7528Binder\u5bf9\u8c61\u6d88\u8017\u7684\u5185\u5b58</li> </ul>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/","title":"mkdocs\u4ee3\u7801\u8d70\u8bfb","text":"<ul> <li>\u5f00\u7bc7</li> <li>0.2\u6e90\u7801</li> <li>0.13\u6e90\u7801</li> <li>click\u5e93</li> <li>\u603b\u7ed3</li> </ul>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/#_1","title":"\u5f00\u7bc7","text":"<p>\u5f00\u59cb\u770b\u7684\u662f 1.4.3 \u7248\u672c\u7684\u6e90\u7801\uff0c\u6e90\u7801\u7528\u4e86\u5927\u91cf\u88c5\u9970\u5668\uff0c\u770b\u4e0d\u61c2\u5c31\u53bb\u4e0b\u4e86\u6700\u65e9\u7684 0.2 \u7248\u672c\u6e90\u7801</p> <pre><code># mkdocs 1.4.3 mkdocs/__main__.py build \u547d\u4ee4\u7684\u89e3\u6790\u5b8c\u5168\u770b\u4e0d\u61c2\n@cli.command(name=\"build\")\n@click.option('-c', '--clean/--dirty', is_flag=True, default=True, help=clean_help)\n@common_config_options\n@click.option('-d', '--site-dir', type=click.Path(), help=site_dir_help)\n@common_options\ndef build_command(clean, **kwargs):\n\"\"\"Build the MkDocs documentation\"\"\"\nfrom mkdocs.commands import build\n_enable_warnings()\ncfg = config.load_config(**kwargs)\ncfg['plugins'].run_event('startup', command='build', dirty=not clean)\ntry:\nbuild.build(cfg, dirty=not clean)\nfinally:\ncfg['plugins'].run_event('shutdown')\n</code></pre>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/#02","title":"0.2\u6e90\u7801","text":"<pre><code># mkdocs/mkdocs\ndef main(cmd, options=None):\nelif cmd == 'build':\nconfig = mkdocs.load_config(options=options)\nmkdocs.build(config)\nif __name__ == '__main__':\ncmd = sys.argv[1] if len(sys.argv) &gt;= 2 else None\nargs = [arg_to_option(arg) for arg in sys.argv[2:] if arg.startswith('--')]\nmain(cmd, options=dict(args))\n</code></pre> <pre><code># mkdocs/build.py\ndef build(config):\n\"\"\"\n    Perform a full site build.\n    \"\"\"\nbuild_theme(config)\nbuild_statics(config)\nbuild_pages(config)\n</code></pre> <pre><code># mkdocs/config.py\ndef load_config(filename='mkdocs.yaml', options=None):\noptions = options or {}\nreturn config\n</code></pre> <ul> <li>\u4ee3\u7801\u975e\u5e38\u5e72\u723d\uff0c\u5c31\u662f\u5728\u547d\u4ee4\u884c\u89e3\u6790\u547d\u4ee4\u6267\u884c\u76f8\u5e94\u64cd\u4f5c</li> <li>\u5411\u4e0a\u8ffd\u6eaf\u67b6\u6784\u53d8\u5316\u7684\u7248\u672c</li> </ul>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/#013","title":"0.13\u6e90\u7801","text":"<pre><code># mkdocs/cli.py\n@cli.command(name=\"build\")\n@click.option('--clean', is_flag=True, help=clean_help)\n@click.option('--config-file', type=click.File('rb'), help=config_file_help)\n@click.option('--strict', is_flag=True, help=strict_help)\n@click.option('--theme', type=click.Choice(theme_choices), help=theme_help)\n@click.option('--site-dir', type=click.Path(), help=site_dir_help)\ndef build_command(clean, config_file, strict, theme, site_dir):\n\"\"\"Build the MkDocs documentation\"\"\"\nbuild.build(load_config(\nconfig_file=config_file,\nstrict=strict,\ntheme=theme,\nsite_dir=site_dir\n), clean_site_dir=clean)\n</code></pre> <ul> <li>\u53d1\u73b0\u662f\u7a81\u7136\u52a0\u5165\u7684\u4ee3\u7801\uff0c\u8ba9\u4eba\u9519\u6115</li> <li>gpt\u540e\u53d1\u73b0 cli.command \u662f click \u5e93\u5b9e\u73b0\u7684\uff0c\u4e07\u80fd\u7684gpt\uff0c\u4e07\u80fd\u7684\u795e</li> </ul>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/#click","title":"click\u5e93","text":"<pre><code>import click\n@click.command() # \u7b49\u540c\u4e8e cli.command()\n@click.option('--count', default=1, help='Number of greetings.')\n@click.option('--name', prompt='Your name',\nhelp='The person to greet.')\ndef hello(count, name):\n\"\"\"Simple program that greets NAME for a total of COUNT times.\"\"\"\nfor x in range(count):\nclick.echo(f\"Hello {name}!\")\nif __name__ == '__main__':\nhello()\n</code></pre> <pre><code>python hello.py --count=3\nYour name: John\nHello John!\nHello John!\nHello John!\n</code></pre> <ul> <li> <p>\u95ee\uff1a\u4e3a\u4f55cli.command\u53ef\u4ee5\u4ee3\u66ffclick.command</p> </li> <li> <p>\u7b54\uff1a</p> </li> </ul> <p><code>cli.command</code> \u5e76\u4e0d\u80fd\u4ee3\u66ff <code>click.command</code>\u3002\u5728\u4f60\u4e4b\u524d\u7684\u6d88\u606f\u4e2d\uff0c\u4f60\u63d0\u5230\u4e86 <code>mkdocs cli.command</code>\uff0c\u6211\u731c\u6d4b\u4f60\u53ef\u80fd\u662f\u60f3\u95ee <code>mkdocs</code> \u4e2d\u7684 <code>cli.command</code> \u662f\u4ec0\u4e48\u610f\u601d\u3002</p> <p>\u5728 <code>mkdocs</code> \u4e2d\uff0c<code>cli</code> \u662f\u4e00\u4e2a\u6a21\u5757\uff0c\u5b83\u4f7f\u7528\u4e86 <code>click</code> \u5e93\u6765\u5b9a\u4e49\u547d\u4ee4\u884c\u63a5\u53e3\u3002\u56e0\u6b64\uff0c\u5f53\u4f60\u770b\u5230 <code>cli.command</code> \u65f6\uff0c\u5b83\u5b9e\u9645\u4e0a\u662f\u6307 <code>click.command</code>\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728 <code>mkdocs</code> \u7684 <code>cli</code> \u6a21\u5757\u4e2d\uff0c<code>command</code> \u662f\u4ece <code>click</code> \u5e93\u4e2d\u5bfc\u5165\u7684\u3002</p> <ul> <li>\u95ee\uff1a\u5982\u679c\u6211\u8fd9\u6837\u5b9a\u4e49cli\u53ef\u4ee5\u4f7f\u7528cli.command\u4e86\u6ca1\uff1f</li> </ul> <pre><code>@click.group(context_settings={'help_option_names': ['-h', '--help']})\n@click.version_option(\n__version__,\n'-V',\n'--version',\nmessage=f'%(prog)s, version %(version)s from { PKG_DIR } (Python { PYTHON_VERSION })',\n)\n@common_options\ndef cli():\n</code></pre> <ul> <li>\u7b54\uff1a</li> </ul> <p>\u662f\u7684\uff0c\u5982\u679c\u4f60\u4f7f\u7528 <code>click.group</code> \u88c5\u9970\u5668\u6765\u5b9a\u4e49 <code>cli</code> \u51fd\u6570\uff0c\u90a3\u4e48\u4f60\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>cli.command</code> \u6765\u5b9a\u4e49\u5b50\u547d\u4ee4\u3002</p> <p><code>click.group</code> \u88c5\u9970\u5668\u4f1a\u5c06 <code>cli</code> \u51fd\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u547d\u4ee4\u7ec4\uff0c\u5b83\u5177\u6709 <code>command</code> \u65b9\u6cd5\uff0c\u53ef\u4ee5\u7528\u6765\u5b9a\u4e49\u5b50\u547d\u4ee4\u3002\u4f8b\u5982\uff1a</p> <pre><code>@click.group(context_settings={'help_option_names': ['-h', '--help']})\n@click.version_option(\n__version__,\n'-V',\n'--version',\nmessage=f'%(prog)s, version %(version)s from { PKG_DIR } (Python { PYTHON_VERSION })',\n)\n@common_options\ndef cli():\npass\n@cli.command()\ndef subcommand():\n...\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 <code>cli.command</code> \u88c5\u9970\u5668\u6765\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3a <code>subcommand</code> \u7684\u5b50\u547d\u4ee4\u3002</p> <pre><code># click.decorators.group\ndef group(\nname: t.Union[str, t.Callable[..., t.Any], None] = None, **attrs: t.Any\n) -&gt; t.Union[Group, t.Callable[[F], Group]]:\n\"\"\"Creates a new :class:`Group` with a function as callback.  This\n    works otherwise the same as :func:`command` just that the `cls`\n    parameter is set to :class:`Group`.\n    .. versionchanged:: 8.1\n        This decorator can be applied without parentheses.\n    \"\"\"\nif attrs.get(\"cls\") is None:\nattrs[\"cls\"] = Group\nif callable(name):\ngrp: t.Callable[[F], Group] = t.cast(Group, command(**attrs))\nreturn grp(name)\nreturn t.cast(Group, command(name, **attrs))\n</code></pre> <pre><code># click.decorators.command\ndef command(\nname: t.Union[str, t.Callable[..., t.Any], None] = None,    # t.Union \u8054\u5408\u4f53type\ncls: t.Optional[t.Type[Command]] = None,\n**attrs: t.Any,\n) -&gt; t.Union[Command, t.Callable[..., Command]]:\nr\"\"\"Creates a new :class:`Command` and uses the decorated function as\n    callback.  This will also automatically attach all decorated\n    :func:`option`\\s and :func:`argument`\\s as parameters to the command. \"\"\"\n</code></pre>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/mkdocs%E4%BB%A3%E7%A0%81%E8%B5%B0%E8%AF%BB/#_2","title":"\u603b\u7ed3","text":"<p>\u4f7f\u7528gpt\u7684\u786e\u53ef\u4ee5\u5f88\u597d\u5730\u8f85\u52a9\u5de5\u4f5c</p>"},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/unity/","title":"unity","text":""},{"location":"%E6%A1%86%E6%9E%B6%E8%A7%A3%E8%AF%BB/unity/#_1","title":"\u89e3\u51b3\u52a0\u8f7d\u5927\u56fe\u7247\u5de8\u5361\u95ee\u9898","text":"<ul> <li>\u4f7f\u7528RawImage\u800c\u4e0d\u662fImage</li> </ul>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/","title":"\u7b97\u6cd5\u57fa\u7840","text":"<ul> <li>\u57fa\u7840<ul> <li>\u590d\u6742\u5ea6</li> <li>\u679a\u4e3e</li> <li>\u6a21\u62df</li> <li>\u9012\u5f52 &amp; \u5206\u6cbb</li> <li>\u8d2a\u5fc3</li> </ul> </li> <li>\u641c\u7d22<ul> <li>DFS\u641c\u7d22</li> </ul> </li> </ul> <p>\u53c2\u8003\u7f51\u7ad9</p>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_1","title":"\u57fa\u7840","text":""},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_2","title":"\u590d\u6742\u5ea6","text":""},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_3","title":"\u679a\u4e3e","text":"<p>\u679a\u4e3e\uff08\u82f1\u8bed\uff1aEnumerate\uff09\u662f\u57fa\u4e8e\u5df2\u6709\u77e5\u8bc6\u6765\u731c\u6d4b\u7b54\u6848\u7684\u4e00\u79cd\u95ee\u9898\u6c42\u89e3\u7b56\u7565\u3002</p> <p>\u679a\u4e3e\u7684\u601d\u60f3\u662f\u4e0d\u65ad\u5730\u731c\u6d4b\uff0c\u4ece\u53ef\u80fd\u7684\u96c6\u5408\u4e2d\u4e00\u4e00\u5c1d\u8bd5\uff0c\u7136\u540e\u518d\u5224\u65ad\u9898\u76ee\u7684\u6761\u4ef6\u662f\u5426\u6210\u7acb\u3002</p> <p>\u679a\u4e3e\u7684\u65f6\u5019\u8981\u60f3\u6e05\u695a\uff1a\u53ef\u80fd\u7684\u60c5\u51b5\u662f\u4ec0\u4e48\uff1f\u8981\u679a\u4e3e\u54ea\u4e9b\u8981\u7d20\uff1f</p> <ul> <li>\u4e00\u4e2a\u6570\u7ec4\u4e2d\u7684\u6570\u4e92\u4e0d\u76f8\u540c\uff0c\u6c42\u5176\u4e2d\u548c\u4e3a 0 \u7684\u6570\u5bf9\u7684\u4e2a\u6570\u3002</li> </ul> <pre><code>//\u66b4\u529b\u904d\u5386\nfor (int i = 0; i &lt; n; ++i)\nfor (int j = 0; j &lt; n; ++j)\nif (a[i] + a[j] == 0) ++ans;\n//\u4f18\u53161\n//\u7531\u4e8e\u9898\u4e2d\u6ca1\u8981\u6c42\u6570\u5bf9\u662f\u6709\u5e8f\u7684\uff0c\u7b54\u6848\u5c31\u662f\u6709\u5e8f\u7684\u60c5\u51b5\u7684\u4e24\u500d\uff08\u8003\u8651\u5982\u679c (a, b) \u662f\u7b54\u6848\uff0c\u90a3\u4e48 (b, a) \u4e5f\u662f\u7b54\u6848\uff09\u3002\n//\u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ea\u9700\u7edf\u8ba1\u4eba\u4e3a\u8981\u6c42\u6709\u987a\u5e8f\u4e4b\u540e\u7684\u7b54\u6848\uff0c\u6700\u540e\u518d\u4e58\u4e0a 2 \u5c31\u597d\u4e86\u3002\nfor (int i = 0; i &lt; n; ++i)\nfor (int j = 0; j &lt; i; ++j)\nif (a[i] + a[j] == 0) ++ans;\n//\u4f18\u53162\n//\u4f7f\u7528\u6876\u6570\u7ec4\u4f18\u5316,\u9002\u7528\u4e8e\u89c4\u6a21\u4e0d\u5927\u4e14\u53ef\u8f6c\u5316\u4e3a\u6574\u6570\u6570\u7ec4\u7684\u95ee\u9898\n//see https://github.com/OI-wiki/gitment/discussions/557#discussioncomment-4303871\nbool met[MAXN * 2];\nmemset(met, 0, sizeof(met));\nfor (int i = 0; i &lt; n; ++i) {\nif (met[MAXN - a[i]]) ans += 1;\nmet[MAXN + a[i]] = true;\n}\n</code></pre>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_4","title":"\u6a21\u62df","text":"<ul> <li>\u4e00\u53ea\u957f\u5ea6\u4e0d\u8ba1\u7684\u8815\u866b\u4f4d\u4e8e n \u82f1\u5bf8\u6df1\u7684\u4e95\u7684\u5e95\u90e8\u3002\u5b83\u6bcf\u6b21\u5411\u4e0a\u722c u \u82f1\u5bf8\uff0c\u4f46\u662f\u5fc5\u987b\u4f11\u606f\u4e00\u6b21\u624d\u80fd\u518d\u6b21\u5411\u4e0a\u722c\u3002\u5728\u4f11\u606f\u7684\u65f6\u5019\uff0c\u5b83\u6ed1\u843d\u4e86 d \u82f1\u5bf8\u3002\u4e4b\u540e\u5b83\u5c06\u91cd\u590d\u5411\u4e0a\u722c\u548c\u4f11\u606f\u7684\u8fc7\u7a0b\u3002\u8815\u866b\u722c\u51fa\u4e95\u53e3\u9700\u8981\u81f3\u5c11\u722c\u591a\u5c11\u6b21\uff1f\u5982\u679c\u8815\u866b\u722c\u5b8c\u540e\u521a\u597d\u5230\u8fbe\u4e95\u7684\u9876\u90e8\uff0c\u6211\u4eec\u4e5f\u8bbe\u4f5c\u8815\u866b\u5df2\u7ecf\u722c\u51fa\u4e95\u53e3\u3002</li> </ul> <pre><code>#include &lt;cstdio&gt;\nint main(void) {\nint n = 0, u = 0, d = 0;\nstd::scanf(\"%d%d%d\", &amp;u, &amp;d, &amp;n);\nint time = 0, dist = 0;\nwhile (true) {  // \u7528\u6b7b\u5faa\u73af\u6765\u679a\u4e3e\ndist += u;\ntime++;\nif (dist &gt;= n) break;  // \u6ee1\u8db3\u6761\u4ef6\u5219\u9000\u51fa\u6b7b\u5faa\u73af\ndist -= d;\n}\nprintf(\"%d\\n\", time);  // \u8f93\u51fa\u5f97\u5230\u7684\u7ed3\u679c\nreturn 0;\n}\n//3\n//1\n//8\n//4\n//\u4ee5\u4e0a\u662f\u6a21\u62df\u884c\u4e3a\u7684\u601d\u8def\uff0c\u5b9e\u5219\u5728\u66f4\u9ad8\u7ef4\u5ea6\u601d\u8003\u53ef\u4ee5\u8f6c\u5316\u4e3a\ntime = (n - u) / (u - d) + 1\n</code></pre>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_5","title":"\u9012\u5f52 &amp; \u5206\u6cbb","text":"<p>\u9012\u5f52\u7684\u57fa\u672c\u601d\u60f3\u662f\u67d0\u4e2a\u51fd\u6570\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u5730\u8c03\u7528\u81ea\u8eab\uff0c\u8fd9\u6837\u539f\u95ee\u9898\u7684\u6c42\u89e3\u5c31\u8f6c\u6362\u4e3a\u4e86\u8bb8\u591a\u6027\u8d28\u76f8\u540c\u4f46\u662f\u89c4\u6a21\u66f4\u5c0f\u7684\u5b50\u95ee\u9898\u3002\u6c42\u89e3\u65f6\u53ea\u9700\u8981\u5173\u6ce8\u5982\u4f55\u628a\u539f\u95ee\u9898\u5212\u5206\u6210\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u95ee\u9898\uff0c\u800c\u4e0d\u9700\u8981\u8fc7\u5206\u5173\u6ce8\u8fd9\u4e2a\u5b50\u95ee\u9898\u662f\u5982\u4f55\u88ab\u89e3\u51b3\u7684\u3002</p> <ul> <li>\u8981\u70b9</li> </ul> <p>\u660e\u767d\u4e00\u4e2a\u51fd\u6570\u7684\u4f5c\u7528\u5e76\u76f8\u4fe1\u5b83\u80fd\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u5343\u4e07\u4e0d\u8981\u8df3\u8fdb\u8fd9\u4e2a\u51fd\u6570\u91cc\u9762\u4f01\u56fe\u63a2\u7a76\u66f4\u591a\u7ec6\u8282\uff0c \u5426\u5219\u5c31\u4f1a\u9677\u5165\u65e0\u7a77\u7684\u7ec6\u8282\u65e0\u6cd5\u81ea\u62d4\uff0c\u4eba\u8111\u80fd\u538b\u51e0\u4e2a\u6808\u554a\u3002</p> <p>\u4ee5\u904d\u5386\u4e8c\u53c9\u6811\u4e3a\u4f8b\u3002</p> <pre><code>void traverse(TreeNode* root) {\nif (root == nullptr) return;\n//do something?\ntraverse(root-&gt;left);\ntraverse(root-&gt;right);\n}\n</code></pre> <p>\u8fd9\u51e0\u884c\u4ee3\u7801\u5c31\u8db3\u4ee5\u904d\u5386\u4efb\u4f55\u4e00\u68f5\u4e8c\u53c9\u6811\u4e86\u3002\u5bf9\u4e8e\u9012\u5f52\u51fd\u6570 <code>traverse(root)</code>\uff0c\u53ea\u8981\u76f8\u4fe1\u7ed9\u5b83\u4e00\u4e2a\u6839\u8282\u70b9 <code>root</code>\uff0c\u5b83\u5c31\u80fd\u904d\u5386\u8fd9\u68f5\u6811\u3002\u6240\u4ee5\u53ea\u9700\u8981\u628a\u8fd9\u4e2a\u8282\u70b9\u7684\u5de6\u53f3\u8282\u70b9\u518d\u4f20\u7ed9\u8fd9\u4e2a\u51fd\u6570\u5c31\u884c\u4e86\u3002</p> <ul> <li>\u4f18\u70b9</li> <li>\u7ed3\u6784\u6e05\u6670\uff0c\u53ef\u8bfb\u6027\u5f3a\u3002</li> <li>\u7ec3\u4e60\u5206\u6790\u95ee\u9898\u7684\u7ed3\u6784\u3002\u5f53\u53d1\u73b0\u95ee\u9898\u53ef\u4ee5\u88ab\u5206\u89e3\u6210\u76f8\u540c\u7ed3\u6784\u7684\u5c0f\u95ee\u9898\u65f6\uff0c\u9012\u5f52\u5199\u591a\u4e86\u5c31\u80fd\u654f\u9510\u53d1\u73b0\u8fd9\u4e2a\u7279\u70b9\uff0c\u8fdb\u800c\u9ad8\u6548\u89e3\u51b3\u95ee\u9898\u3002</li> <li>\u7f3a\u70b9</li> <li>\u5728\u7a0b\u5e8f\u6267\u884c\u4e2d\uff0c\u9012\u5f52\u662f\u5229\u7528\u5806\u6808\u6765\u5b9e\u73b0\u7684\u3002\u6bcf\u5f53\u8fdb\u5165\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u6808\u5c31\u4f1a\u589e\u52a0\u4e00\u5c42\u6808\u5e27\uff0c\u6bcf\u6b21\u51fd\u6570\u8fd4\u56de\uff0c\u6808\u5c31\u4f1a\u51cf\u5c11\u4e00\u5c42\u6808\u5e27\u3002\u800c\u6808\u4e0d\u662f\u65e0\u9650\u5927\u7684\uff0c\u5f53\u9012\u5f52\u5c42\u6570\u8fc7\u591a\u65f6\uff0c\u5c31\u4f1a\u9020\u6210 \u6808\u6ea2\u51fa \u7684\u540e\u679c\u3002</li> </ul> <p>\u5206\u6cbb\uff08\u82f1\u8bed\uff1aDivide and Conquer\uff09\uff0c\u5b57\u9762\u4e0a\u7684\u89e3\u91ca\u662f\u300c\u5206\u800c\u6cbb\u4e4b\u300d\uff0c\u5c31\u662f\u628a\u4e00\u4e2a\u590d\u6742\u7684\u95ee\u9898\u5206\u6210\u4e24\u4e2a\u6216\u66f4\u591a\u7684\u76f8\u540c\u6216\u76f8\u4f3c\u7684\u5b50\u95ee\u9898\uff0c\u76f4\u5230\u6700\u540e\u5b50\u95ee\u9898\u53ef\u4ee5\u7b80\u5355\u7684\u76f4\u63a5\u6c42\u89e3\uff0c\u539f\u95ee\u9898\u7684\u89e3\u5373\u5b50\u95ee\u9898\u7684\u89e3\u7684\u5408\u5e76\u3002</p> <p>\u5206\u6cbb\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u5c31\u662f\u300c\u5206\u800c\u6cbb\u4e4b\u300d\u3002</p> <p>\u5927\u6982\u7684\u6d41\u7a0b\u53ef\u4ee5\u5206\u4e3a\u4e09\u6b65\uff1a\u5206\u89e3 -&gt; \u89e3\u51b3 -&gt; \u5408\u5e76\u3002</p> <ul> <li>\u5982\u679c\u5404\u5b50\u95ee\u9898\u662f\u4e0d\u72ec\u7acb\u7684\uff0c\u5219\u5206\u6cbb\u6cd5\u8981\u91cd\u590d\u5730\u89e3\u516c\u5171\u7684\u5b50\u95ee\u9898\uff0c\u4e5f\u5c31\u505a\u4e86\u8bb8\u591a\u4e0d\u5fc5\u8981\u7684\u5de5\u4f5c\u3002\u6b64\u65f6\u867d\u7136\u4e5f\u53ef\u7528\u5206\u6cbb\u6cd5\uff0c\u4f46\u4e00\u822c\u7528 \u52a8\u6001\u89c4\u5212 \u8f83\u597d\u3002</li> </ul> <ul> <li> <p>\u533a\u522b</p> </li> <li> <p>\u9012\u5f52\u548c\u679a\u4e3e\u7684\u533a\u522b\u5728\u4e8e\uff1a\u679a\u4e3e\u662f\u6a2a\u5411\u5730\u628a\u95ee\u9898\u5212\u5206\uff0c\u7136\u540e\u4f9d\u6b21\u6c42\u89e3\u5b50\u95ee\u9898\uff1b\u800c\u9012\u5f52\u662f\u628a\u95ee\u9898\u9010\u7ea7\u5206\u89e3\uff0c\u662f\u7eb5\u5411\u7684\u62c6\u5206\u3002</p> </li> <li> <p>\u9012\u5f52\u548c\u5206\u6cbb\u7684\u533a\u522b\u5728\u4e8e\uff1a\u9012\u5f52\u662f\u4e00\u79cd\u7f16\u7a0b\u6280\u5de7\uff0c\u4e00\u79cd\u89e3\u51b3\u95ee\u9898\u7684\u601d\u7ef4\u65b9\u5f0f\uff1b\u5206\u6cbb\u7b97\u6cd5\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u57fa\u4e8e\u9012\u5f52\u7684\uff0c\u89e3\u51b3\u66f4\u5177\u4f53\u95ee\u9898\u7684\u7b97\u6cd5\u601d\u60f3\u3002</p> </li> <li> <p>\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u53c9\u6811\uff0c\u5b83\u7684\u6bcf\u4e2a\u7ed3\u70b9\u90fd\u5b58\u653e\u7740\u4e00\u4e2a\u6574\u6570\u503c\u3002</p> </li> </ul> <p>\u627e\u51fa\u8def\u5f84\u548c\u7b49\u4e8e\u7ed9\u5b9a\u6570\u503c\u7684\u8def\u5f84\u603b\u6570\u3002</p> <p>\u8def\u5f84\u4e0d\u9700\u8981\u4ece\u6839\u8282\u70b9\u5f00\u59cb\uff0c\u4e5f\u4e0d\u9700\u8981\u5728\u53f6\u5b50\u8282\u70b9\u7ed3\u675f\uff0c\u4f46\u662f\u8def\u5f84\u65b9\u5411\u5fc5\u987b\u662f\u5411\u4e0b\u7684\uff08\u53ea\u80fd\u4ece\u7236\u8282\u70b9\u5230\u5b50\u8282\u70b9\uff09\u3002</p> <p>\u4e8c\u53c9\u6811\u4e0d\u8d85\u8fc7 1000 \u4e2a\u8282\u70b9\uff0c\u4e14\u8282\u70b9\u6570\u503c\u8303\u56f4\u662f [-1000000,1000000] \u7684\u6574\u6570\u3002</p> <pre><code>root = [10,5,-3,3,2,null,11,3,-2,null,1], sum = 8\n10\n/  \\\n    5   -3\n/ \\    \\\n  3   2   11\n/ \\   \\\n3  -2   1\n\u8fd4\u56de 3\u3002\u548c\u7b49\u4e8e 8 \u7684\u8def\u5f84\u6709\uff1a\n1.  5 -&gt; 3\n2.  5 -&gt; 2 -&gt; 1\n3. -3 -&gt; 11\n//\u7406\u89e3\u9898\u610f\n// \u6c42\u89e3 sum == \u8def\u5f84\u8282\u70b9\u548c\n// 1. \u904d\u5386\u8def\u5f84\n// 2. \u6c42\u67d0\u8282\u70b9\u8282\u70b9\u548c\uff08\uff09\n//\u53c2\u8003\u4ee3\u7801\n//\u7ed9\u5b9a\u4e00\u4e2a\u8282\u70b9\u548c\u4e00\u4e2a\u76ee\u6807\u503c\uff0c\u8fd4\u56de\u4ee5\u8fd9\u4e2a\u8282\u70b9\u4e3a\u6839\u7684\u6811\u4e2d\uff0c\u548c\u4e3a\u76ee\u6807\u503c\u7684\u8def\u5f84\u603b\u6570\nint pathSum(TreeNode *root, int sum) {\nif (root == nullptr) return 0;\nreturn count(root, sum) + pathSum(root-&gt;left, sum) +\npathSum(root-&gt;right, sum);\n}\n//\u7ed9\u5b9a\u4e00\u4e2a\u8282\u70b9\u548c\u4e00\u4e2a\u76ee\u6807\u503c\uff0c\u8fd4\u56de\u4ee5\u8fd9\u4e2a\u8282\u70b9\u4e3a\u6839\u7684\u6811\u4e2d\uff0c\u80fd\u51d1\u51fa\u51e0\u4e2a\u4ee5\u8be5\u8282\u70b9\u4e3a\u8def\u5f84\u5f00\u5934\uff0c\u548c\u4e3a\u76ee\u6807\u503c\u7684\u8def\u5f84\u603b\u6570\u3002\n//\u6ce8\u610f\u6ca1\u8fdb\u5165\u4e0b\u4e2a\u8282\u70b9\u6bd4\u5bf9\u7684 sum \u5df2\u7ecf\u51cf\u53bb node-&gt;val\nint count(TreeNode *node, int sum) {\nif (node == nullptr) return 0;\nreturn (node-&gt;val == sum) + count(node-&gt;left, sum - node-&gt;val) +\ncount(node-&gt;right, sum - node-&gt;val);\n}\n/*\n * \u603b\u7ed3\u4e0b\uff0cPathSum \u51fd\u6570\u63d0\u4f9b\u4e86\u4e8c\u53c9\u6811\u904d\u5386\u6846\u67b6\uff0c\u5728\u904d\u5386\u4e2d\u5bf9\u6bcf\u4e2a\u8282\u70b9\u8c03\u7528 count \u51fd\u6570\uff08\u8fd9\u91cc\u7528\u7684\u662f\u5148\u5e8f\u904d\u5386\uff0c\n * \u4e0d\u8fc7\u4e2d\u5e8f\u904d\u5386\u548c\u540e\u5e8f\u904d\u5386\u4e5f\u53ef\u4ee5\uff09\u3002count \u51fd\u6570\u4e5f\u662f\u4e00\u4e2a\u4e8c\u53c9\u6811\u904d\u5386\uff0c\u7528\u4e8e\u5bfb\u627e\u4ee5\u8be5\u8282\u70b9\u5f00\u5934\u7684\u76ee\u6807\u503c\u8def\u5f84\u3002\n */\n</code></pre>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_6","title":"\u8d2a\u5fc3","text":"<p>\u8d2a\u5fc3\u7b97\u6cd5\u5728\u6709\u6700\u4f18\u5b50\u7ed3\u6784\u7684\u95ee\u9898\u4e2d\u5c24\u4e3a\u6709\u6548\u3002\u6700\u4f18\u5b50\u7ed3\u6784\u7684\u610f\u601d\u662f\u95ee\u9898\u80fd\u591f\u5206\u89e3\u6210\u5b50\u95ee\u9898\u6765\u89e3\u51b3\uff0c\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\u80fd\u9012\u63a8\u5230\u6700\u7ec8\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff08\u5c40\u90e8\u6700\u4f18\uff09\u3002</p> <pre><code>package com.xproject.demo.leetcode.greedy\n/**\n * \u5bf9\u6bcf\u4e2a\u5b69\u5b50 i\uff0c\u90fd\u6709\u4e00\u4e2a\u80c3\u53e3\u503cg[i]\uff0c\u8fd9\u662f\u80fd\u8ba9\u5b69\u5b50\u4eec\u6ee1\u8db3\u80c3\u53e3\u7684\u997c\u5e72\u7684\u6700\u5c0f\u5c3a\u5bf8\uff1b\u5e76\u4e14\u6bcf\u5757\u997c\u5e72 j\uff0c\u90fd\u6709\u4e00\u4e2a\u5c3a\u5bf8 s[j]\u3002\n * \u5982\u679c s[j]&gt;= g[i]\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u997c\u5e72 j \u5206\u914d\u7ed9\u5b69\u5b50 i \uff0c\u8fd9\u4e2a\u5b69\u5b50\u4f1a\u5f97\u5230\u6ee1\u8db3\u3002\u4f60\u7684\u76ee\u6807\u662f\u5c3d\u53ef\u80fd\u6ee1\u8db3\u8d8a\u591a\u6570\u91cf\u7684\u5b69\u5b50\uff0c\n * \u5e76\u8f93\u51fa\u8fd9\u4e2a\u6700\u5927\u6570\u503c\u3002\n */\nfun findContentChildren(g: IntArray, s: IntArray): Int {\n//\u5df2\u7ecf\u9ed8\u8ba4\u5c0f\u5e8f\ns.sort()\ng.sort()\nvar count = 0\nvar index = 0\nfor (hunger in g) {\nif (index &gt;= s.size) {\nprintln(\"Break index is $index, hunger is $hunger\")\nbreak\n}\n//\u56e0\u4e3a\u5df2\u7ecf\u6392\u5e8f, \u540e\u9762\u5b69\u5b50\u7684\u80c3\u53e3\u4f1a\u66f4\u5927, \u6ee1\u8db3\u6761\u4ef6\u7684\u997c\u5e72\u53ea\u53ef\u80fd\u5728\u8fd8\u6ca1\u6bd4\u8f83\u7684\u997c\u5e72\u4e2d\nfor ((idx, size) in s.slice(index until s.size).withIndex()) {\nif (size &gt;= hunger) {\ncount++\nindex += idx + 1\nprintln(\"Get ====&gt; index is $index, size is $size, hunger is $hunger\")\nbreak\n} else {\nprintln(\"Skip index is $index, size is $size, hunger is $hunger\")\n}\n}\n}\nreturn count\n}\nfun main() {\nval ga = intArrayOf(10,9,8,7,10,9,8,7)\nval sa = intArrayOf(10,9,8,7)\nval count = findContentChildren(ga, sa)\nprintln(count)\n}\n</code></pre>"},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#_7","title":"\u641c\u7d22","text":""},{"location":"%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/#dfs","title":"DFS\u641c\u7d22","text":""},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/","title":"pytorch\u7f16\u8bd1\u6280\u672f","text":""},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/#pytorch","title":"pytorch\u7814\u7a76","text":"<p>pytorch\u9879\u76ee\u6e90\u7801\u4e3b\u8981\u7531 AT\u3001C10\u3001torch \u4e09\u90e8\u5206\u7ec4\u6210</p> <p></p> <p>\u6e90\u7801</p>"},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/#torchdynamo","title":"TorchDynamo","text":"<ul> <li>TorchDynamo \u662fpytorch\u5bf9python bytecode\u7684\u4f18\u5316\u7f16\u8bd1</li> </ul> <p>TorchDynamo is a Python-level JIT compiler designed to make unmodified PyTorch programs faster. TorchDynamo hooks into the frame evaluation API in CPython (PEP 523) to dynamically modify Python bytecode right before it is executed. It rewrites Python bytecode in order to extract sequences of PyTorch operations into an FX Graph which is then just-in-time compiled with a customizable backend. It creates this FX Graph through bytecode analysis and is designed to mix Python execution with compiled backends to get the best of both worlds \u2014 usability and performance.</p> <ul> <li>\u901a\u8fc7 torch.fx \u751f\u6210 graph\uff0c\u53ef\u4ee5\u901a\u8fc7fx\u5bf9\u6a21\u578b\u8fdb\u884chook</li> </ul> <p>\u53c2\u8003\uff1a\u52a8\u6001\u8c03\u6574\u7f51\u7edc</p> <pre><code>import torch\nimport torch.fx\ndef transform(m: nn.Module, tracer_class : type = torch.fx.Tracer) -&gt; torch.nn.Module:\n# Step 1: Acquire a Graph representing the code in `m`\n# trace nn.Module\ngraph : torch.fx.Graph = tracer_class().trace(m)\n# Step 2: \u8fd9\u91cc\u5bf9Graph\u8fdb\u884c\u4fee\u6539\ngraph = ...\n# Step 3: Construct a Module to return\nreturn torch.fx.GraphModule(m, graph)\n</code></pre>"},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/#at","title":"AT","text":"<p>A Tensor library for C++11</p> <ul> <li> <p>AT(ATen)\u8d1f\u8d23\u58f0\u660e\u548c\u5b9a\u4e49Tensor\u8fd0\u7b97\uff0c\u662f\u6700\u5e38\u7528\u5230\u7684\u547d\u540d\u7a7a\u95f4</p> </li> <li> <p>pytorch\u4f7f\u7528aten/src/ATen/gen.py\u52a8\u6001\u751f\u6210\u4e0d\u540c\u5e73\u53f0\u3001\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u76f8\u5e94\u7684aten\u8fd0\u7b97\u7b26</p> </li> <li> <p>pyroch\u7684C++/cuda\u63a5\u53e3</p> </li> <li> <p>\u7f16\u5199\uff1ac++/cuda\u62d3\u5c55\u6e90\u6587\u4ef6(pybind11)</p> </li> <li>\u7f16\u8bd1\uff1asetuptools\u5de5\u5177\u6307\u5bfcc++/cuda\u62d3\u5c55\u7684\u7f16\u8bd1</li> </ul> <pre><code># \u6587\u4ef6\u7ed3\u6784\u5982\u4e0b\uff1a\n# \u251c\u2500\u2500 csrc\n# \u2502   \u2514\u2500\u2500add.cpp\n# \u2514\u2500\u2500 setup.py\nfrom setuptools import  setup\nimport torch\nimport os,glob\nfrom torch.utils.cpp_extension import (CUDAExtension, CppExtension, BuildExtension)\n# \u8fd9\u4e09\u4e2aextension\u5f88\u91cd\u8981\uff01\ndef get_extensions():\nextensions = []\next_name = 'add_extension'  # \u7f16\u8bd1\u540e\u4fdd\u5b58\u7684\u6587\u4ef6\u524d\u7f00\u540d\u79f0\u53ca\u5176\u4f4d\u7f6e\n# prevent ninja from using too many resources\nos.environ.setdefault('MAX_JOBS', '4')\ndefine_macros = []\nif torch.cuda.is_available():\nprint(f'Compiling {ext_name} with CUDA')\ndefine_macros += [('WITH_CUDA', None)]\n# \u5b8f\u5904\u7406\uff0c\u4f1a\u5728\u6bcf\u4e2a.h/.cpp/.cu/.cuh\u6e90\u6587\u4ef6\u524d\u6dfb\u52a0 #define WITH_CUDA\uff01\uff01\u8fd9\u4e2a\u64cd\u4f5c\u5f88\u91cd\u8981\n# \u8fd9\u6837\u5728\u62d3\u5c55\u7684\u6e90\u6587\u4ef6\u4e2d\u5c31\u53ef\u4ee5\u901a\u8fc7#ifdef WITH_CUDA\u6765\u5224\u65ad\u662f\u5426\u7f16\u8bd1\u4ee3\u7801\nop_files = glob.glob('./csrc/*')\nextension = CUDAExtension # \u5982\u679ccuda\u53ef\u7528\uff0c\u90a3\u4e48extension\u7c7b\u578b\u4e3aCUDAExtension\nelse:\nprint(f'Compiling {ext_name} without CUDA')\nop_files = glob.glob('./csrc/*.cpp')\nextension = CppExtension\ninclude_path = os.path.abspath('./csrc')\next_ops = extension( # \u8fd4\u56desetuptools.Extension\u7c7b\nname=ext_name,\nsources=op_files,\ninclude_dirs=[include_path],\ndefine_macros=define_macros)\nextensions.append(ext_ops)\nreturn extensions # \u7531setuptools.Extension\u7ec4\u6210\u7684list\nsetup(\nname='extension_example',\next_modules=get_extensions(),\ncmdclass={'build_ext': BuildExtension}, # BuildExtension\u4ee3\u66ffsetuptools.command.build_ext\n)\n</code></pre> <ul> <li>\u8c03\u7528\uff1atorch.autograd.Functio\u7c7b\u5c01\u88c5</li> </ul>"},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/#c10","title":"C10","text":"<ul> <li>C10(Coffe Tensor)\u662f ATen \u7684\u57fa\u7840\uff0c\u5305\u542b\u4e86PyTorch\u7684\u6838\u5fc3\u62bd\u8c61\u3001Tensor\u548cStorage\u6570\u636e\u7ed3\u6784\u7684\u5b9e\u9645\u5b9e\u73b0</li> <li>\u4e3a\u5b9e\u73b0\u7cbe\u51c6\u7684\u63a7\u5236\u548c\u5bf9CUDA\u7b49\u786c\u4ef6\u7684\u4f7f\u7528\uff0cPyTorch\u5e95\u5c42\u91c7\u7528C++\u7f16\u5199\uff1b\u4e3a\u7ed9\u673a\u5668\u5b66\u4e60\u76f8\u5173\u9886\u57df\u5f00\u53d1\u8005\u63d0\u4f9b\u66f4\u8212\u9002\u7684\u754c\u9762\uff0cPyTorch\u7684\u9ad8\u5c42\u6a21\u5757\u4f7f\u7528Python\u7f16\u5199\uff0c\u5e76\u63d0\u4f9bPython\u63a5\u53e3</li> </ul>"},{"location":"%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/pytorch%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/#torch","title":"Torch","text":"<p>\u53c2\u8003</p> <ul> <li> <p>torch\u547d\u540d\u7a7a\u95f4\u4e0b\u5b9a\u4e49\u7684 Tensor \u76f8\u6bd4\u4e8eATen \u589e\u52a0\u81ea\u52a8\u6c42\u5bfc\u529f\u80fd</p> </li> <li> <p>torch.autograd.function \uff08\u51fd\u6570\u7684\u53cd\u5411\u4f20\u64ad\uff09</p> </li> <li>torch.autograd.functional \uff08\u8ba1\u7b97\u56fe\u7684\u53cd\u5411\u4f20\u64ad\uff09</li> <li>torch.autograd.gradcheck \uff08\u6570\u503c\u68af\u5ea6\u68c0\u67e5\uff09</li> <li>torch.autograd.anomaly_mode \uff08\u5728\u81ea\u52a8\u6c42\u5bfc\u65f6\u68c0\u6d4b\u9519\u8bef\u4ea7\u751f\u8def\u5f84\uff09</li> <li>torch.autograd.grad_mode \uff08\u8bbe\u7f6e\u662f\u5426\u9700\u8981\u68af\u5ea6\uff09</li> <li>model.eval() \u4e0e torch.no_grad()</li> <li>torch.autograd.profiler \uff08\u63d0\u4f9b function \u7ea7\u522b\u7684\u7edf\u8ba1\u4fe1\u606f\uff09</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80/Javascript/","title":"Javascript","text":"<pre><code>document.addEventListener('keydown', async function (e) {\nif (e.key.toLowerCase() == 's' &amp;&amp; (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\ne.preventDefault();\nalert('saved');\n}\nif (e.key.toLowerCase() == 'l' &amp;&amp; (navigator.platform.match(\"Mac\") ? e.metaKey : e.ctrlKey)) {\ne.preventDefault();\nalert('loaded');\n}\n});\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/","title":"Latex","text":"<ul> <li>\u5e38\u7528\u7b26\u53f7<ul> <li>\u4e0a\u4e0b\u6807\u3001\u6b63\u8d1f\u65e0\u7a77</li> <li>\u52a0\u51cf\u4e58\u9664\uff0c\u6839\u53f7\uff0c\u7701\u7565\u53f7</li> <li>\u4e09\u89d2\u51fd\u6570</li> <li>\u77e2\u91cf\u3001\u7d2f\u52a0\u7d2f\u4e58\u3001\u6781\u9650</li> <li>\u5173\u7cfb\u8fd0\u7b97\u7b26</li> <li>\u5e0c\u814a\u5b57\u6bcd</li> </ul> </li> <li>\u77e9\u9635<ul> <li>\u7b80\u5355\u77e9\u9635</li> <li>\u5c0f\u62ec\u53f7</li> <li>\u4e2d\u3001\u5927\u62ec\u53f7</li> <li>\u5305\u542b\u5e0c\u814a\u5b57\u6bcd\u548c\u7701\u7565\u53f7</li> </ul> </li> <li>\u8868\u683c<ul> <li>\u7b80\u6613\u8868\u683c</li> <li>\u771f\u503c\u8868</li> <li>\u591a\u884c\u7b49\u5f0f\u5bf9\u9f50</li> </ul> </li> <li>\u65b9\u7a0b\u5f0f\u3001\u6761\u4ef6\u8868\u8fbe\u5f0f<ul> <li>\u65b9\u7a0b\u5f0f</li> <li>\u8868\u8fbe\u5f0f</li> </ul> </li> <li>\u8865\u5145</li> </ul> <p>\u57fa\u672c\u8bed\u6cd5 <code>$$</code> \u516c\u5f0f <code>$$</code></p> <p>\u5728\u7ebf\u67e5\u8be2</p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_1","title":"\u5e38\u7528\u7b26\u53f7","text":""},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_2","title":"\u4e0a\u4e0b\u6807\u3001\u6b63\u8d1f\u65e0\u7a77","text":"<ul> <li> <p>x^2 : <code>x^2</code></p> </li> <li> <p>y_1 : <code>y_1</code></p> </li> <li>\\infty : <code>\\infty</code></li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_3","title":"\u52a0\u51cf\u4e58\u9664\uff0c\u6839\u53f7\uff0c\u7701\u7565\u53f7","text":"<p>a+b-c*d : <code>a+b-c*d</code></p> <p>a \\times b : <code>a\\times{b}</code></p> <p>a\\div{b} : <code>a\\div{b}</code></p> <p>a\\pm{b} : <code>a\\pm{b}</code></p> <p>\\frac{a}{b} : <code>\\frac{a}{b}</code></p> <p>\\cdots : <code>\\cdots</code></p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_4","title":"\u4e09\u89d2\u51fd\u6570","text":"<p>\\sin{\\theta} : <code>\\sin{\\theta}</code></p> <p>\\cos{\\theta} : <code>\\cos{\\theta}</code></p> <p>\\tan{\\theta} : <code>\\tan{\\theta}</code></p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_5","title":"\u77e2\u91cf\u3001\u7d2f\u52a0\u7d2f\u4e58\u3001\u6781\u9650","text":"<p>\\vec{F} : <code>\\vec{F}</code></p> <p>\\sum_{i=1}^{n}a_i : <code>\\sum_{i=1}^{n}a_i</code></p> <p>\\prod_{i=1}^na_i : <code>\\prod_{i=1}^{n}a_i</code></p> <p>\\lim_{a\\rightarrow+\\infty}{a+b} : <code>\\lim_{a\\rightarrow+\\infty}{a+b}</code></p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_6","title":"\u5173\u7cfb\u8fd0\u7b97\u7b26","text":"<p>\\le : <code>\\le</code></p> <p>\\ge : <code>\\ge</code></p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_7","title":"\u5e0c\u814a\u5b57\u6bcd","text":"<p>\\alpha : <code>\\alpha</code></p> <p>\\beta : <code>\\beta</code></p> <p>\\gamma : <code>\\gamma</code></p> <p>\\delta : <code>\\delta</code></p> <p>\\epsilon : <code>\\epsilon</code></p> <p>\\varepsilon : <code>\\varepsilon</code></p> <p>\\eta : <code>\\eta</code></p> <p>\\theta : <code>\\theta</code></p> <p>\\kappa : <code>\\kappa</code></p> <p>\\iota : <code>\\iota</code></p> <p>\\zeta : <code>\\zeta</code></p> <p>\\lambda : <code>\\lambda</code></p> <p>\\mu : <code>\\mu</code></p> <p>\\phi : <code>\\phi</code></p> <p>\\pi : <code>\\pi</code></p> <p>\\rho : <code>\\rho</code></p> <p>\\xi : <code>\\xi</code></p> <p>\\nu : <code>\\nv</code></p> <p>\\varphi : <code>\\varphi</code></p> <p>\\chi : <code>\\chi</code></p> <p>\\psi : <code>\\psi</code></p> <p>\\omega : <code>\\omega</code></p>"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_8","title":"\u77e9\u9635","text":""},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_9","title":"\u7b80\u5355\u77e9\u9635","text":"<pre><code>\\begin{matrix}\n1 &amp; 2 \\\\\n4 &amp; 5\n\\end{matrix}\n</code></pre>  \\begin{matrix} 1 &amp; 2 \\\\ 4 &amp; 5 \\end{matrix}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_10","title":"\u5c0f\u62ec\u53f7","text":"<pre><code>\\left(\n\\begin{matrix}\n1 &amp; 2 \\\\\n4 &amp; 5\n\\end{matrix}\n\\right)\\tag{2}\n</code></pre>  \\left( \\begin{matrix} 1 &amp; 2 \\\\ 4 &amp; 5 \\end{matrix} \\right)\\tag{2}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_11","title":"\u4e2d\u3001\u5927\u62ec\u53f7","text":"<pre><code>\\begin{bmatrix}\n1 &amp; 2 \\\\\n4 &amp; 5\n\\end{bmatrix}\n</code></pre>  \\begin{bmatrix} 1 &amp; 2 \\\\ 4 &amp; 5 \\end{bmatrix}  <pre><code>\\begin{Bmatrix}\n1 &amp; 2 \\\\\n4 &amp; 5\n\\end{Bmatrix}\\tag{5}\n</code></pre>  \\begin{Bmatrix} 1 &amp; 2 \\\\ 4 &amp; 5 \\end{Bmatrix}\\tag{5}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_12","title":"\u5305\u542b\u5e0c\u814a\u5b57\u6bcd\u548c\u7701\u7565\u53f7","text":"<pre><code>\\left\\{\n\\begin{matrix}\n 1      &amp; 2        &amp; \\cdots &amp; 5        \\\\\n 6      &amp; 7        &amp; \\cdots &amp; 10       \\\\\n\\vdots &amp; \\vdots   &amp; \\ddots &amp; \\vdots   \\\\\n\\alpha &amp; \\alpha+1 &amp; \\cdots &amp; \\alpha+4 \n \\end{matrix}\n\\right\\}\n</code></pre>  \\left\\{  \\begin{matrix}  1      &amp; 2        &amp; \\cdots &amp; 5        \\\\  6      &amp; 7        &amp; \\cdots &amp; 10       \\\\  \\vdots &amp; \\vdots   &amp; \\ddots &amp; \\vdots   \\\\  \\alpha &amp; \\alpha+1 &amp; \\cdots &amp; \\alpha+4   \\end{matrix}  \\right\\}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_13","title":"\u8868\u683c","text":""},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_14","title":"\u7b80\u6613\u8868\u683c","text":"<pre><code>\\begin{array}{|c|c|c|}\n\\hline 2&amp;9&amp;4\\\\\n\\hline 7&amp;5&amp;3\\\\\n\\hline 6&amp;1&amp;8\\\\\n\\hline\n\\end{array}\n</code></pre>  \\begin{array}{|c|c|c|}     \\hline 2&amp;9&amp;4\\\\     \\hline 7&amp;5&amp;3\\\\     \\hline 6&amp;1&amp;8\\\\     \\hline \\end{array}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_15","title":"\u771f\u503c\u8868","text":"<pre><code>\\begin{array}{cc|c}\n           A&amp;B&amp;F\\\\\n\\hline 0&amp;0&amp;0\\\\\n           0&amp;1&amp;1\\\\\n           1&amp;0&amp;1\\\\\n           1&amp;1&amp;1\\\\\n\\end{array}\n</code></pre>  \\begin{array}{cc|c}            A&amp;B&amp;F\\\\     \\hline 0&amp;0&amp;0\\\\            0&amp;1&amp;1\\\\            1&amp;0&amp;1\\\\            1&amp;1&amp;1\\\\ \\end{array}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_16","title":"\u591a\u884c\u7b49\u5f0f\u5bf9\u9f50","text":"<pre><code>\\begin{aligned}\na &amp;= b + c \\\\\n&amp;= d + e + f\n\\end{aligned}\n</code></pre>  \\begin{aligned} a &amp;= b + c \\\\   &amp;= d + e + f \\end{aligned}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_17","title":"\u65b9\u7a0b\u5f0f\u3001\u6761\u4ef6\u8868\u8fbe\u5f0f","text":""},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_18","title":"\u65b9\u7a0b\u5f0f","text":"<pre><code>\\begin{cases}\n3x + 5y +  z \\\\\n7x - 2y + 4z \\\\\n-6x + 3y + 2z\n\\end{cases}\n</code></pre>  \\begin{cases} 3x + 5y +  z \\\\ 7x - 2y + 4z \\\\ -6x + 3y + 2z \\end{cases}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_19","title":"\u8868\u8fbe\u5f0f","text":"<pre><code>f(n) =\n\\begin{cases} \nn/2,  &amp; \\text{if }n\\text{ is even} \\\\\n3n+1, &amp; \\text{if }n\\text{ is odd}\n\\end{cases}\n</code></pre>  f(n) = \\begin{cases}  n/2,  &amp; \\text{if }n\\text{ is even} \\\\ 3n+1, &amp; \\text{if }n\\text{ is odd} \\end{cases}"},{"location":"%E8%AF%AD%E8%A8%80/Latex/#_20","title":"\u8865\u5145","text":"<p>\u7d27\u8d34 + \u65e0\u7a7a\u683c + \u5c0f\u7a7a\u683c + \u4e2d\u7a7a\u683c + \u5927\u7a7a\u683c + \u771f\u7a7a\u683c + \u53cc\u771f\u7a7a\u683c</p> <pre><code>a\\!b + ab + a\\,b + a\\;b + a\\ b + a\\quad b + a\\qquad b\n</code></pre>  a\\!b + ab + a\\,b + a\\;b + a\\ b + a\\quad b + a\\qquad b"},{"location":"%E8%AF%AD%E8%A8%80/Markdown/","title":"Markdown","text":""},{"location":"%E8%AF%AD%E8%A8%80/Markdown/#_1","title":"\u6807\u9898\u6761","text":"<p><pre><code>![img](https://img.shields.io/badge/-ShowText-blue) The abbreviation of the work.\n</code></pre>  The abbreviation of the work.</p>"},{"location":"%E8%AF%AD%E8%A8%80/Markdown/#_2","title":"\u5217\u8868","text":"<p><pre><code>- [ ] Task 1\n- [x] Task 2\n</code></pre> - [ ] Task 1 - [x] Task 2</p>"},{"location":"%E8%AF%AD%E8%A8%80/Markdown/#_3","title":"\u6298\u53e0","text":"\u6d4b\u8bd5\u6298\u53e0... \u6298\u53e0\u5185\u5bb9...  <pre><code>&lt;details markdown=\"1\"&gt;\n&lt;summary&gt;\u6d4b\u8bd5\u6298\u53e0...&lt;/summary&gt;\n\u6298\u53e0\u5185\u5bb9...\n&lt;/details&gt;\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Markdown/#_4","title":"\u7518\u7279\u56fe","text":""},{"location":"%E8%AF%AD%E8%A8%80/Mermaid/","title":"Mermaid","text":"<ul> <li>UML</li> <li>\u7518\u7279\u5716</li> <li>\u6d41\u7a0b\u5716</li> <li>\u6642\u5e8f\u5716</li> </ul> <p>Mermaid\u9879\u76ee</p>"},{"location":"%E8%AF%AD%E8%A8%80/Mermaid/#uml","title":"UML","text":"<ul> <li>UML\u5206\u4e3a3\u90e8\u5206\uff1a\u7c7b\u540d\u3001\u5c5e\u6027\u3001\u65b9\u6cd5</li> <li> <p><code>+</code>\u8868\u793a\u516c\u5171\uff0c<code>-</code>\u8868\u793a\u79c1\u6709\uff0c<code>#</code>\u8868\u793a\u4fdd\u62a4</p> </li> <li> <p>6\u79cd\u5173\u7cfb\uff1a\u6cdb\u5316\uff08is\uff09\u3001\u5b9e\u73b0\u3001\u7ec4\u5408\uff08\u591a\u5b9e\u73b0\uff09\u3001\u805a\u5408\uff08\u65cf\u7fa4\uff09\u3001\u5173\u8054\uff08has/\u5c5e\u6027\uff09\u3001\u4f9d\u8d56\uff08use\\\u5165\u53c2\uff09</p> </li> </ul> <p></p> <p></p>"},{"location":"%E8%AF%AD%E8%A8%80/Mermaid/#_1","title":"\u7518\u7279\u5716","text":"<p><pre><code>    gantt\n    dateFormat  YYYY-MM-DD\n    title Adding GANTT diagram functionality to mermaid\n\n    section A section\n    Completed task            :done,    des1, 2014-01-06,2014-01-08\n    Active task               :active,  des2, 2014-01-09, 3d\n    Future task               :         des3, after des2, 5d\n    Future task2              :         des4, after des3, 5d\n\n    section Critical tasks\n    Completed task in the critical line :crit, done, 2014-01-06,24h\n    Implement parser and jison          :crit, done, after des1, 2d\n    Create tests for parser             :crit, active, 3d\n    Future task in critical line        :crit, 5d\n    Create tests for renderer           :2d\n    Add to mermaid                      :1d\n\n    section Documentation\n    Describe gantt syntax               :active, a1, after des1, 3d\n    Add gantt diagram to demo page      :after a1  , 20h\n    Add another diagram to demo page    :doc1, after a1  , 48h\n\n    section Last section\n    Describe gantt syntax               :after doc1, 3d\n    Add gantt diagram to demo page      :20h\n    Add another diagram to demo page    :48h</code></pre> <pre><code>    gantt\n    dateFormat  YYYY-MM-DD\n    title Adding GANTT diagram functionality to mermaid\n\n    section A section\n    Completed task            :done,    des1, 2014-01-06,2014-01-08\n    Active task               :active,  des2, 2014-01-09, 3d\n    Future task               :         des3, after des2, 5d\n    Future task2              :         des4, after des3, 5d\n\n    section Critical tasks\n    Completed task in the critical line :crit, done, 2014-01-06,24h\n    Implement parser and jison          :crit, done, after des1, 2d\n    Create tests for parser             :crit, active, 3d\n    Future task in critical line        :crit, 5d\n    Create tests for renderer           :2d\n    Add to mermaid                      :1d\n\n    section Documentation\n    Describe gantt syntax               :active, a1, after des1, 3d\n    Add gantt diagram to demo page      :after a1  , 20h\n    Add another diagram to demo page    :doc1, after a1  , 48h\n\n    section Last section\n    Describe gantt syntax               :after doc1, 3d\n    Add gantt diagram to demo page      :20h\n    Add another diagram to demo page    :48h\n</code></pre></p>"},{"location":"%E8%AF%AD%E8%A8%80/Mermaid/#_2","title":"\u6d41\u7a0b\u5716","text":"<pre><code>graph TB\nsq[Square shape] --&gt; ci((Circle shape))\n\nsubgraph A subgraph\n    od&gt;Odd shape]-- Two line&lt;br&gt;edge comment --&gt; ro\n    di{Diamond with &lt;br/&gt; line break} -.-&gt; ro(Rounded&lt;br&gt;square&lt;br&gt;shape)\n    di==&gt;ro2(Rounded square shape)\nend\n\n%% Notice that no text in shape are added here instead that is appended further down\ne --&gt; od3&gt;Really long text with linebreak&lt;br&gt;in an Odd shape]\n\n%% Comments after double percent signs\ne((Inner / circle&lt;br&gt;and some odd &lt;br&gt;special characters)) --&gt; f(,.?!+-*\u0632)\n\ncyr[Cyrillic]--&gt;cyr2((Circle shape \u041d\u0430\u0447\u0430\u043b\u043e));\n\n classDef green fill:#9f6,stroke:#333,stroke-width:2px;\n classDef orange fill:#f96,stroke:#333,stroke-width:4px;\n class sq,e green\n class di orange</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Mermaid/#_3","title":"\u6642\u5e8f\u5716","text":"<pre><code>sequenceDiagram\nAlice -&gt;&gt; Bob: Hello Bob, how are you?\nBob--&gt;&gt;John: How about you John?\nBob--x Alice: I am good thanks!\nBob-x John: I am good thanks!\nNote right of John: Bob thinks a long&lt;br/&gt;long time, so long&lt;br/&gt;that the text does&lt;br/&gt;not fit on a row.\n\nBob--&gt;Alice: Checking with John...\nAlice-&gt;John: Yes... John, how are you?</code></pre> <pre><code>sequenceDiagram\nAlice -&gt;&gt; Bob: Hello Bob, how are you?\nBob--&gt;&gt;John: How about you John?\nBob--x Alice: I am good thanks!\nBob-x John: I am good thanks!\nNote right of John: Bob thinks a long&lt;br/&gt;long time, so long&lt;br/&gt;that the text does&lt;br/&gt;not fit on a row.\n\nBob--&gt;Alice: Checking with John...\nAlice-&gt;John: Yes... John, how are you?\n</code></pre> <pre><code>sequenceDiagram\nloop Daily query\n    Alice-&gt;&gt;Bob: Hello Bob, how are you?\n    alt is sick\n        Bob-&gt;&gt;Alice: Not so good :(\n    else is well\n        Bob-&gt;&gt;Alice: Feeling fresh like a daisy\n    end\n\n    opt Extra response\n        Bob-&gt;&gt;Alice: Thanks for asking\n    end\nend</code></pre> <pre><code>sequenceDiagram\nloop Daily query\n    Alice-&gt;&gt;Bob: Hello Bob, how are you?\n    alt is sick\n        Bob-&gt;&gt;Alice: Not so good :(\n    else is well\n        Bob-&gt;&gt;Alice: Feeling fresh like a daisy\n    end\n\n    opt Extra response\n        Bob-&gt;&gt;Alice: Thanks for asking\n    end\nend\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Python/","title":"Python","text":"<ul> <li>\u52a8\u6001\u58f0\u660e</li> <li>\u8fdb\u5ea6\u663e\u793a</li> <li>\u8fd0\u884c\u65f6\u8fdb\u5165\u8c03\u8bd5</li> <li>\u5b89\u88c5\u547d\u4ee4\u5230\u7cfb\u7edf</li> <li>\u4e09\u65b9\u5e93</li> </ul>"},{"location":"%E8%AF%AD%E8%A8%80/Python/#_1","title":"\u52a8\u6001\u58f0\u660e","text":"<pre><code>from peewee import TextField, Model, SqliteDatabase\ndb = SqliteDatabase(DB_PATH)\ndef dynamic_declara(items):\n\"\"\"\n    \u7528\u4e8e\u52a8\u6001\u58f0\u660e\u521b\u5efapeewee\u8868\u7c7b, \u4ee5\u4e0b\u4ee3\u7801\u52a8\u6001\u58f0\u660e\u4e86\u4e00\u4e2aFA_Report\u7c7b, \u4f7f\u7528\u5982\u4e0b:\n    report_tab = dynamic_declara(titles)\n    report_tab.select()     # FA_Report \u7ee7\u627f\u4e86 peewee.Model \u7684select\u65b9\u6cd5\n    class FA_Report(Model):\n        class Meta:\n            database = db\n        col1 = TextField()\n        col2 = TextField()\n        colN = TextField(unique=True) \n    :param items: \u8868\u9879\u540d\u79f0\n    :return:\n    \"\"\"\nclass_dict = {'Meta': type('Meta', (object,), {'database': db})}\nfor column in items[:-1]:\nclass_dict[column] = TextField(column_name=column)\nclass_dict[items[-1]] = TextField(column_name=items[-1], unique=True)\nreturn type('FA_Report', (Model,), class_dict)\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Python/#_2","title":"\u8fdb\u5ea6\u663e\u793a","text":"<pre><code>from tqdm import tqdm\nfor line in tqdm(logs[1:], desc=r'\u89e3\u6790\u63d0\u4ea4 log \u8fdb\u5ea6'):\npass\n</code></pre> <pre><code>from tqdm import tqdm\nfor index, record in enumerate(tqdm(self.logs, desc=r'\u89e3\u6790\u63d0\u4ea4 diff \u8fdb\u5ea6')):\npass\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Python/#_3","title":"\u8fd0\u884c\u65f6\u8fdb\u5165\u8c03\u8bd5","text":"<p>\u6bd4\u5982\u8fd0\u884c <code>mkdocs build</code> \u9700\u8981\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\u67e5\u770b\u4fe1\u606f</p> <pre><code>def a_func():\n//....\u6b64\u5904\u505c\u4e0b\nimport pdb\npdb.set_trace()\n</code></pre> <pre><code>(venv) D:\\pythonProject\\flask\\mydocs\\my-project&gt;mkdocs build\n&gt; d:\\pythonproject\\flask\\mydocs\\mkdocs\\config\\base.py(350)load_config() -&gt; for key, value in options.copy().items():\n(Pdb)\n</code></pre> <p>\u5f53\u7a0b\u5e8f\u8fd0\u884c\u5230 <code>pdb.set_trace()</code> \u5904\u65f6\uff0c\u5b83\u4f1a\u6682\u505c\u6267\u884c\uff0c\u5e76\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\u3002\u4f60\u4f1a\u770b\u5230\u4e00\u4e2a\u547d\u4ee4\u63d0\u793a\u7b26\uff0c\u53ef\u4ee5\u5728\u5176\u4e2d\u8f93\u5165\u547d\u4ee4\u6765\u63a7\u5236\u8c03\u8bd5\u5668\u7684\u884c\u4e3a\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u5e38\u7528\u7684 <code>pdb</code> \u547d\u4ee4\uff1a</p> <ul> <li><code>n</code>\uff1a\u6267\u884c\u4e0b\u4e00\u884c\u4ee3\u7801\u3002</li> <li><code>c</code>\uff1a\u7ee7\u7eed\u6267\u884c\u7a0b\u5e8f\uff0c\u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u65ad\u70b9\u6216\u7a0b\u5e8f\u7ed3\u675f\u3002</li> <li><code>q</code>\uff1a\u9000\u51fa\u8c03\u8bd5\u5668\u5e76\u7ec8\u6b62\u7a0b\u5e8f\u3002</li> <li><code>p &lt;expression&gt;</code>\uff1a\u6253\u5370\u8868\u8fbe\u5f0f\u7684\u503c\u3002</li> <li><code>pp &lt;expression&gt;</code>\uff1a\u4ee5\u66f4\u6613\u8bfb\u7684\u65b9\u5f0f\u6253\u5370\u8868\u8fbe\u5f0f\u7684\u503c\u3002</li> <li><code>s</code>\uff1a\u5355\u6b65\u6267\u884c\u4ee3\u7801\uff0c\u5982\u679c\u9047\u5230\u51fd\u6570\u8c03\u7528\u5219\u8fdb\u5165\u51fd\u6570\u5185\u90e8\u3002</li> <li><code>h</code>\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u3002</li> </ul> <p>\u662f\u7684\uff0c<code>pdb</code> \u8fd8\u6709\u8bb8\u591a\u66f4\u9ad8\u7ea7\u7684\u7528\u6cd5\u3002\u4e0b\u9762\u662f\u4e00\u4e9b\u8fdb\u9636\u6280\u5de7\uff1a</p> <ul> <li>\u6761\u4ef6\u65ad\u70b9\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>b</code> \u547d\u4ee4\u6765\u8bbe\u7f6e\u6761\u4ef6\u65ad\u70b9\u3002\u4f8b\u5982\uff0c<code>b 10, x &gt; 0</code> \u4f1a\u5728\u7b2c 10 \u884c\u8bbe\u7f6e\u4e00\u4e2a\u65ad\u70b9\uff0c\u53ea\u6709\u5f53 <code>x &gt; 0</code> \u65f6\u624d\u4f1a\u89e6\u53d1\u3002</li> <li>\u67e5\u770b\u5806\u6808\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>w</code> \u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u7684\u8c03\u7528\u5806\u6808\u3002</li> <li>\u4e0a\u4e0b\u6587\u5207\u6362\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>u</code> \u548c <code>d</code> \u547d\u4ee4\u6765\u5728\u8c03\u7528\u5806\u6808\u4e2d\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52a8\u3002\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u67e5\u770b\u4e0d\u540c\u5806\u6808\u5e27\u4e2d\u7684\u53d8\u91cf\u3002</li> <li>\u8df3\u8fc7\u4ee3\u7801\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528 <code>j</code> \u547d\u4ee4\u6765\u5c06\u7a0b\u5e8f\u8ba1\u6570\u5668\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u884c\u3002\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u8df3\u8fc7\u4e00\u4e9b\u4e0d\u611f\u5174\u8da3\u7684\u4ee3\u7801\u3002</li> </ul> <p><code>bt</code> \u547d\u4ee4\u662f <code>pdb</code> \u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\uff0c\u5b83\u7528\u4e8e\u6253\u5370\u5f53\u524d\u7ebf\u7a0b\u7684\u56de\u6eaf\u4fe1\u606f\uff08backtrace\uff09\u3002\u56de\u6eaf\u4fe1\u606f\u663e\u793a\u4e86\u5f53\u524d\u8c03\u7528\u5806\u6808\u4e2d\u7684\u6240\u6709\u5e27\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u5e27\u4e2d\u7684\u6e90\u4ee3\u7801\u884c\u53f7\u548c\u51fd\u6570\u540d\u3002</p> <p>\u8981\u4f7f\u7528 <code>bt</code> \u547d\u4ee4\uff0c\u53ea\u9700\u5728 <code>pdb</code> \u7684\u547d\u4ee4\u63d0\u793a\u7b26\u4e0b\u8f93\u5165 <code>bt</code> \u5e76\u6309\u56de\u8f66\u952e\u5373\u53ef\u3002\u4f8b\u5982\uff1a</p> <pre><code>import pdb\ndef foo():\nbar()\ndef bar():\npdb.set_trace()\nfoo()\n</code></pre> <p>\u5f53\u7a0b\u5e8f\u8fd0\u884c\u5230 <code>pdb.set_trace()</code> \u5904\u65f6\uff0c\u5b83\u4f1a\u6682\u505c\u6267\u884c\u5e76\u8fdb\u5165\u8c03\u8bd5\u6a21\u5f0f\u3002\u6b64\u65f6\u4f60\u53ef\u4ee5\u8f93\u5165 <code>bt</code> \u547d\u4ee4\u6765\u67e5\u770b\u5f53\u524d\u7684\u56de\u6eaf\u4fe1\u606f\uff1a</p> <pre><code>&gt; &lt;ipython-input-3-6a3f8d2b8e5d&gt;(8)bar()\n-&gt; pdb.set_trace()\n(Pdb) bt\n  &lt;ipython-input-4-1f0c5a6b7a9c&gt;(1)&lt;module&gt;()\n-&gt; foo()\n  &lt;ipython-input-3-6a3f8d2b8e5d&gt;(5)foo()\n-&gt; bar()\n&gt; &lt;ipython-input-3-6a3f8d2b8e5d&gt;(8)bar()\n-&gt; pdb.set_trace()\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u56de\u6eaf\u4fe1\u606f\u663e\u793a\u4e86\u5f53\u524d\u8c03\u7528\u5806\u6808\u4e2d\u6709\u4e09\u4e2a\u5e27\uff1a\u6700\u5e95\u5c42\u7684\u5e27\u662f <code>foo</code> \u51fd\u6570\uff0c\u5b83\u8c03\u7528\u4e86 <code>bar</code> \u51fd\u6570\uff1b<code>bar</code> \u51fd\u6570\u53c8\u8c03\u7528\u4e86 <code>pdb.set_trace()</code> \u51fd\u6570\u3002</p>"},{"location":"%E8%AF%AD%E8%A8%80/Python/#_4","title":"\u5b89\u88c5\u547d\u4ee4\u5230\u7cfb\u7edf","text":"<pre><code># scirpt.py\nimport click\ndef common_options(f):\nf = click.option('--debug/--no-debug', default=False)(f)\nreturn f\n@click.group()\ndef cli():\npass\n@cli.command()\n@common_options\ndef command1(debug):\nif debug:\nclick.echo('Debug mode is on')\nelse:\nclick.echo('Debug mode is off')\n@cli.command()\n@common_options\ndef command2(debug):\nif debug:\nclick.echo('Debug mode is on')\nelse:\nclick.echo('Debug mode is off')\nif __name__ == \"__main__\":\ncli()\n</code></pre> <pre><code># setup.py \u8fd9\u4e2a\u6587\u4ef6\u540d\u4e0d\u8981\u6539\nfrom setuptools import setup, find_packages\nsetup(\nname='script',\nversion='0.1',\npackages=find_packages(),\ninclude_package_data=True,\ninstall_requires=[\n'Click',\n],\nentry_points='''\n        [console_scripts]\n        ccode=script:cli        # \u5b9a\u4e49\u547d\u4ee4 ccode -&gt; script.cli\n    ''',\n)\n</code></pre> <ul> <li>\u5b89\u88c5\u547d\u4ee4\u5230\u7cfb\u7edf</li> </ul> <pre><code>(venv) D:\\my_script&gt;pip install -e .\n</code></pre> <pre><code>(venv) D:\\my_script&gt;ccode\nUsage: ccode [OPTIONS] COMMAND [ARGS]...\n\nOptions:\n  --help  Show this message and exit.\n\nCommands:\n  command1\n  command2\n\n(venv) D:\\my_script&gt;ccode command1 --debug\nDebug mode is on\n</code></pre>"},{"location":"%E8%AF%AD%E8%A8%80/Python/#_5","title":"\u4e09\u65b9\u5e93","text":"<p>peewee</p> <p>ORM(Object Relational Mapping)\uff0c\u4e0d\u7528\u9020\u8f6e\u5b50\uff0c\u76f4\u63a5\u7528\u5c31\u597d\u4e86\uff0c\u6bd4\u81ea\u5df1\u5199\u7684\u89c4\u8303</p>"},{"location":"%E8%AF%AD%E8%A8%80/Sqlite/","title":"Sqlite","text":"<ul> <li>\u8054\u5408\u67e5\u627e</li> </ul> <pre><code>SELECT L.VERSION, L.USER, D.ADD_LINE, D.DEL_LINE, D.FILE \nFROM LOG L \nJOIN DIFF D \nON L.VERSION=D.VERSION AND \n    L.USER=\"kele\" AND \n    D.L1_DIR=\"cdp-cofa\" AND \n    D.ADD_LINE&lt;1000 \n    ORDER BY D.ADD_LINE DESC;\n</code></pre>"}]}